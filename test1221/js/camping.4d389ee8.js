(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[297],{5787:function(e,t,a){var i=a(7976),s=TypeError;e.exports=function(e,t){if(i(t,e))return e;throw s("Incorrect invocation")}},5117:function(e,t,a){"use strict";var i=a(6330),s=TypeError;e.exports=function(e,t){if(!delete e[t])throw s("Cannot delete property "+i(t)+" of "+i(e))}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},541:function(e,t,a){"use strict";var i=a(2109),s=a(7908),l=a(6244),r=a(3658),n=a(5117),o=a(7207),c=1!==[].unshift(0),d=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:c||d},{unshift:function(e){var t=s(this),a=l(t),i=arguments.length;if(i){o(a+i);var c=a;while(c--){var d=c+i;c in t?t[d]=t[c]:n(t,d)}for(var h=0;h<i;h++)t[h]=arguments[h]}return r(t,a+i)}})},2801:function(e,t,a){"use strict";var i=a(2109),s=a(7854),l=a(5005),r=a(9114),n=a(3070).f,o=a(2597),c=a(5787),d=a(9587),h=a(6277),p=a(3678),u=a(1060),m=a(9781),g=a(1913),f="DOMException",y=l("Error"),b=l(f),v=function(){c(this,w);var e=arguments.length,t=h(e<1?void 0:arguments[0]),a=h(e<2?void 0:arguments[1],"Error"),i=new b(t,a),s=y(t);return s.name=f,n(i,"stack",r(1,u(s.stack,1))),d(i,this,v),i},w=v.prototype=b.prototype,_="stack"in y(f),k="stack"in new b(1,2),x=b&&m&&Object.getOwnPropertyDescriptor(s,f),S=!!x&&!(x.writable&&x.configurable),C=_&&!S&&!k;i({global:!0,constructor:!0,forced:g||C},{DOMException:C?v:b});var D=l(f),$=D.prototype;if($.constructor!==D)for(var H in g||n($,"constructor",r(1,D)),p)if(o(p,H)){var M=p[H],T=M.s;o(D,T)||n(D,T,r(6,M.c))}},4958:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var i=a(6252),s=a(3577),l=a(9963);const r=["checked"],n=(0,i._)("i",{class:"slider round"},null,-1);function o(e,t,a,o,c,d){return(0,i.wg)(),(0,i.iD)("label",{class:(0,s.C_)(["switch",d.classes]),role:"checkbox",onKeydown:[t[0]||(t[0]=(...e)=>d.toggle&&d.toggle(...e)),t[1]||(t[1]=(0,l.D2)(((...e)=>d.toggle&&d.toggle(...e)),["space"]))],onClick:t[2]||(t[2]=(0,l.iM)(((...e)=>d.toggle&&d.toggle(...e)),["prevent"])),tabindex:"0"},[(0,i._)("input",{type:"checkbox",checked:a.value,tabindex:"-1"},null,8,r),n],34)}var c={emits:["input"],name:"SliderComponent",props:{disabled:{type:Boolean,default:!1},value:{default:!1},showLabels:{type:Boolean,default:!1},labelChecked:{type:String,default:""},labelUnchecked:{type:String,default:""}},data:function(){return{}},computed:{classes:function(){return{disabled:this.disabled}},label:function(){return this.toggled&&this.showLabels?this.labelChecked:this.labelUnchecked}},methods:{toggle:function(e){this.disabled||9===e.keyCode||this.$emit("input",!this.value)}}},d=a(3744);const h=(0,d.Z)(c,[["render",o]]);var p=h},1990:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return wl}});var i=a(6252),s=a(3577),l=a(9963);const r=e=>((0,i.dD)("data-v-06653ad7"),e=e(),(0,i.Cn)(),e),n={ref:"loading-screen",class:"loading-camping-box",style:{display:"none"}},o={class:"loading-camping-content"},c=r((()=>(0,i._)("div",{class:"infinite-loading-wrapper"},[(0,i._)("div",{class:"infinite-loading"})],-1))),d={ref:"percentage_status_text"},h=r((()=>(0,i._)("img",{src:"https://cdn.glitch.com/5c21c869-ea9a-48ba-b019-90cd493f45cd%2Fangienobg.gif?v=1585008523656",style:{height:"171px"}},null,-1))),p={class:"main",ref:"main_camp_view"},u={class:"full-size"},m={class:"full-size"},g={class:"full-size"},f={class:"full-size"},y={class:"full-size"},b={key:0,class:"full-size"},v={class:"full-size"},w={class:"full-size"},_={class:"full-size"};function k(e,t,a,r,k,x){const S=(0,i.up)("ToolBar"),C=(0,i.up)("LabBuilder"),D=(0,i.up)("Welcome"),$=(0,i.up)("AddHero"),H=(0,i.up)("HeroBox"),M=(0,i.up)("Advanced"),T=(0,i.up)("Results"),z=(0,i.up)("TeamAndCharacterUsage"),R=(0,i.up)("SavedTeams"),E=(0,i.up)("RouteMaps"),A=(0,i.up)("Settings"),N=(0,i.Q2)("ripple-effect");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",n,[(0,i._)("div",o,[c,(0,i._)("div",d,"0%",512),h]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button basic warn",onClick:t[0]||(t[0]=(...e)=>x.promptAbortOperation&&x.promptAbortOperation(...e))},[(0,i._)("span",null,(0,s.zw)(e.$t("strings.abort_operation")),1)])),[[N]])],512),(0,i._)("div",{class:(0,s.C_)(["camping-window",{"horizontal-layout":!this.verticalToolbar}])},[(0,i.Wm)(S,{tab:k.TAB,onSetTab:x.setWindow,vertical:x.verticalToolbar,standalone:a.standalone},null,8,["tab","onSetTab","vertical","standalone"]),(0,i._)("div",p,[(0,i.Wm)(C),(0,i.wy)((0,i._)("div",u,[(0,i.Wm)(D)],512),[[l.F8,"welcome"===k.TAB]]),(0,i.wy)((0,i._)("div",m,[(0,i.Wm)($,{list:k.displayableHeroes,settings:k.settings,mobile:x.mobile,onAdd:x.addHero,onAddAll:x.addAllHeroes,onCalculateFriendship:x.calculateHeroFriendship},null,8,["list","settings","mobile","onAdd","onAddAll","onCalculateFriendship"])],512),[[l.F8,"add"===k.TAB]]),(0,i.wy)((0,i._)("div",g,[(0,i.Wm)(H,{list:k.roster,locked:k.locked,settings:k.settings,mobile:x.mobile,onLock:x.lockHero,onRemove:x.removeHero,onRemoveAll:x.removeAllHeroes,onExportURL:x.generateExportURL,onCalculateFriendship:x.calculateHeroFriendship},null,8,["list","locked","settings","mobile","onLock","onRemove","onRemoveAll","onExportURL","onCalculateFriendship"])],512),[[l.F8,"manage"===k.TAB]]),(0,i.wy)((0,i._)("div",f,[(0,i.Wm)(M,{advanced:k.advancedSettings,roster:k.roster,onReset:t[1]||(t[1]=e=>k.advancedSettings={})},null,8,["advanced","roster"])],512),[[l.F8,"advanced"===k.TAB]]),(0,i.wy)((0,i._)("div",y,[(0,i.Wm)(T,{teams:k.teams,results:k.results,onSaveTeam:x.saveCamp},null,8,["teams","results","onSaveTeam"])],512),[[l.F8,"results"===k.TAB]]),"usage-stats"===k.TAB?((0,i.wg)(),(0,i.iD)("div",b,[(0,i.Wm)(z,{"available-heroes":k.heroList,onSaveTeam:x.saveCamp},null,8,["available-heroes","onSaveTeam"])])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("div",v,[(0,i.Wm)(R,{teams:k.teams,onDeleteTeam:x.deleteCamp},null,8,["teams","onDeleteTeam"])],512),[[l.F8,"teams"===k.TAB]]),(0,i.wy)((0,i._)("div",w,[(0,i.Wm)(E)],512),[[l.F8,"maps"===k.TAB]]),(0,i.wy)((0,i._)("div",_,[(0,i.Wm)(A,{settings:k.settings,onWelcome:t[2]||(t[2]=e=>k.TAB="welcome"),onExportURL:x.generateExportURL},null,8,["settings","onExportURL"])],512),[[l.F8,"settings"===k.TAB]])],512)],2)],64)}a(7658);const x=e=>((0,i.dD)("data-v-98d33c58"),e=e(),(0,i.Cn)(),e),S={style:{height:"100%",width:"100%",position:"relative"}},C={style:{height:"100%",width:"100%",overflow:"auto",position:"relative"}},D={ref:"canvas_routes",height:"1500",width:"1500",class:"noselect",style:{position:"absolute","pointer-events":"none",top:"0",left:"0"}},$={class:"editor-menu right"},H=x((()=>(0,i._)("i",{class:"fas fa-map-marker-alt"},null,-1))),M=[H],T=x((()=>(0,i._)("i",{class:"fas fa-pencil-alt"},null,-1))),z=[T],R=x((()=>(0,i._)("i",{class:"fas fa-download"},null,-1))),E=[R],A={class:"editor-menu top"},N=["onClick"],I=["src"],O=x((()=>(0,i._)("i",{class:"fas fa-eraser"},null,-1))),L=[O];function B(e,t,a,l,r,n){const o=(0,i.Q2)("tooltip");return(0,i.wg)(),(0,i.iD)("div",S,[(0,i._)("div",C,[(0,i._)("canvas",{ref:"canvas",height:"1500",width:"1500",class:"noselect dotted-bg",onMousedown:t[0]||(t[0]=(...e)=>n.canvasMouseDown&&n.canvasMouseDown(...e)),onMousemove:t[1]||(t[1]=(...e)=>n.canvasMouseMove&&n.canvasMouseMove(...e)),onMouseup:t[2]||(t[2]=(...e)=>n.canvasMouseUp&&n.canvasMouseUp(...e))},null,544),(0,i._)("canvas",D,null,512)]),(0,i._)("div",$,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"option pointer",onClick:t[3]||(t[3]=(...e)=>n.download&&n.download(...e))},M)),[[o,{value:"Edit routs",placement:"left"}]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"option pointer",onClick:t[4]||(t[4]=(...e)=>n.download&&n.download(...e))},z)),[[o,{value:"Edit map",placement:"left"}]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"option pointer",onClick:t[5]||(t[5]=(...e)=>n.download&&n.download(...e))},E)),[[o,{value:"Download as image",placement:"left"}]])]),(0,i._)("div",A,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)([["tile","icon_tile_ok_0001","Edit tiles"],["start","now","Starting point"],["waypoint","shortcut","Teleport/Waypoint"],["battle","icon_battle","Noraml battle"],["elite","icon_mob_elite","Elite Monster / Mini-boss"],["boss","icon_mob_boss","Boss battle"],["chest","icon_gold","Treasure chest"],["portal","icon_portal","Portal"],["switch","icon_switch_ready","Switch"],["npc","icon_npc_story","NPC"],["shop","icon_npc_shop","Shop"]],(e=>(0,i.wy)((0,i._)("div",{key:e[0],style:(0,s.j5)({background:e[0]===this.mode?"#777777":""}),class:"option pointer",onClick:t=>this.mode=e[0]},[(0,i._)("img",{src:n.cdn+"ui/lab-builder/game_map_"+e[1]+".png",style:{"vertical-align":"middle"},SameSite:"Lax"},null,8,I)],12,N),[[o,e[2]]]))),64)),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"option pointer",style:(0,s.j5)({background:"eraser"===this.mode?"#777777":""}),onClick:t[6]||(t[6]=e=>this.mode="eraser")},L,4)),[[o,"Delete cell"]])])])}var P=a(8439);async function F(e){return new Promise(((t,a)=>{var i=new Image(e);i.src=e,i.setAttribute("SameSite","Lax"),i.setAttribute("crossorigin","anonymous"),i.onload=function(){t(i)},i.onerror=function(){a()}}))}function U(e,t){const{x:a,y:i}=e.target.getBoundingClientRect(),s=e.clientX-a,l=e.clientY-i;return[Math.floor(s/t),Math.floor(l/t)]}var j={data(){return{style:"game",tempRefs:[],imgsMap:{},cellSize:32,dotEmptyCells:!0,mode:"route",map:{name:"Nixied 5",type:"lab",start:"40-29",data:{"2-21":{type:"boss"},"40-29":{type:"tp"},"40-28":{type:"shop"},"40-27":{type:"battle"},"40-26":{type:null},"40-25":{type:"battle"},"39-25":{type:null},"38-25":{type:null},"37-25":{type:null},"36-25":{type:"battle"},"36-24":{type:null},"36-22":{type:null},"36-23":{type:"battle"},"36-21":{type:"battle"},"34-21":{type:null},"35-21":{type:null},"33-21":{type:"portal",ref:"36-27",text:"1"},"36-27":{type:"portal",ref:"33-21",text:"1"},"35-27":{type:null},"34-27":{type:"battle",lock:["34-32",0,"34-32",0]},"34-26":{type:null},"34-25":{type:null},"34-24":{type:"tp"},"34-23":{type:"portal",ref:"29-22",text:"2"},"34-28":{type:null},"34-29":{type:"battle"},"34-30":{type:null},"34-31":{type:"battle"},"34-32":{type:null,text:"ðŸ”‘a"},"34-33":{type:null,text:"ðŸ’°1"},"33-32":{type:"boss"},"32-32":{type:null},"31-32":{type:null},"30-32":{type:null},"29-32":{type:"tp"},"29-31":{type:"battle"},"29-30":{type:null},"29-29":{type:"battle"},"29-28":{type:null},"29-27":{type:"battle"},"30-27":{type:"battle"},"31-27":{type:null},"32-27":{type:"battle"},"33-27":{type:null},"29-22":{type:"portal",ref:"34-23",text:"2"},"29-21":{type:"battle"},"29-20":{type:null},"29-19":{type:null},"30-19":{type:null},"31-19":{type:"battle"},"32-19":{type:null},"33-19":{type:null},"34-19":{type:"tp"},"34-18":{type:"battle"},"35-19":{type:null},"36-19":{type:null},"37-19":{type:"boss"},"38-19":{type:null,text:"ðŸ’°2"},"34-17":{type:null},"34-16":{type:"battle"},"35-16":{type:null},"36-16":{type:"portal",ref:"24-13",text:"3"},"33-16":{type:null},"24-13":{type:"portal",ref:"36-16",text:"3"},"25-13":{type:null},"26-13":{type:null},"27-13":{type:"battle"},"27-12":{type:null},"27-11":{type:null},"27-10":{type:null},"27-9":{type:"portal",ref:"25-9",text:"4"},"25-9":{type:"portal",ref:"27-9",text:"4"},"24-9":{type:"battle"},"23-9":{type:null},"22-9":{type:"tp"},"22-10":{type:null},"22-11":{type:null},"22-12":{type:"boss"},"22-13":{type:null,text:"ðŸ”‘c"},"32-16":{type:"portal",ref:"23-34",text:"5"},"22-8":{type:"battle"},"22-7":{type:null},"22-6":{type:"battle"},"23-6":{type:null},"24-6":{type:"battle"},"25-6":{type:"portal",ref:"34-7",text:"13"},"21-6":{type:null},"20-6":{type:null},"19-6":{type:"boss"},"18-6":{type:null,text:"4ðŸ’°"},"21-9":{type:null},"20-9":{type:"battle"},"19-9":{type:null},"18-9":{type:"portal",ref:"27-7",text:"14"},"27-7":{type:"portal",ref:"18-9",text:"14"},"28-7":{type:"battle"},"29-7":{type:null},"30-7":{type:"tp"},"31-7":{type:null},"30-8":{type:null},"30-9":{type:"battle"},"30-10":{type:null},"30-11":{type:"portal",ref:"23-16",text:"15"},"32-7":{type:"battle"},"33-7":{type:null},"34-7":{type:"portal",ref:"25-6",text:"13"},"23-16":{type:"portal",ref:"30-11",text:"15"},"24-16":{type:"battle"},"25-16":{type:null},"26-16":{type:null},"26-17":{type:null},"26-18":{type:"battle"},"26-19":{type:null},"26-20":{type:"battle"},"26-21":{type:null,lock:[0,0,0,"22-13"]},"25-21":{type:null},"26-22":{type:null},"26-23":{type:"battle"},"26-24":{type:null},"26-25":{type:"battle"},"26-26":{type:null},"26-27":{type:"tp"},"25-27":{type:null},"26-28":{type:null},"26-29":{type:null},"26-30":{type:null},"25-30":{type:null},"24-30":{type:"battle"},"23-30":{type:null},"22-30":{type:"tp"},"22-29":{type:"battle"},"22-28":{type:null},"22-27":{type:null},"23-27":{type:null},"24-27":{type:"battle"},"21-30":{type:null},"20-30":{type:null},"19-30":{type:"boss"},"18-30":{type:null,text:"ðŸ’°3"},"26-31":{type:null},"26-32":{type:"battle"},"26-33":{type:null},"26-34":{type:"battle"},"25-34":{type:null},"24-34":{type:"battle"},"23-34":{type:"portal",ref:"32-16",text:"5"},"24-21":{type:null},"23-21":{type:"tp",lock:[0,0,0,"22-23"]},"22-21":{type:null},"21-21":{type:null},"20-21":{type:"boss"},"19-21":{type:null},"18-21":{type:"tp"},"18-20":{type:"battle"},"18-22":{type:"battle"},"18-23":{type:null},"18-24":{type:"battle"},"18-25":{type:null,text:"ðŸ”‘g1"},"17-25":{type:"battle"},"16-25":{type:null},"15-25":{type:"battle"},"14-25":{type:"tp"},"14-24":{type:"battle"},"14-23":{type:null},"14-22":{type:"battle"},"14-21":{type:"shop"},"15-21":{type:null},"16-21":{type:"battle"},"17-21":{type:null},"14-20":{type:null},"14-19":{type:"battle"},"14-18":{type:null},"14-17":{type:"tp"},"15-17":{type:"battle"},"16-17":{type:null},"17-17":{type:"battle"},"18-17":{type:null,text:"ðŸ”‘g2"},"18-18":{type:"battle"},"18-19":{type:null},"13-17":{type:"battle"},"12-17":{type:null},"11-17":{type:"battle"},"10-17":{type:null,text:"ðŸ”‘g4"},"10-18":{type:"battle"},"10-19":{type:null},"10-20":{type:"battle"},"10-21":{type:"tp",lock:[0,0,0,"18-25"]},"11-21":{type:null},"12-21":{type:"battle"},"13-21":{type:null},"10-22":{type:"battle"},"10-23":{type:null},"10-24":{type:"battle"},"10-25":{type:null,text:"ðŸ”‘g3"},"11-25":{type:"battle"},"12-25":{type:null},"13-25":{type:"battle"},"9-21":{type:null,lock:[0,0,0,"18-17"]},"8-21":{type:null,lock:[0,0,0,"10-25"]},"7-21":{type:null,lock:[0,0,0,"10-17"]},"6-21":{type:"tp",lock:[0,0,0,"5-37"]},"6-20":{type:"battle"},"6-19":{type:null},"6-18":{type:null,lock:["7-5",0,0,0]},"6-17":{type:"portal",ref:"7-4",text:"12"},"5-18":{type:"portal",ref:"4-12",text:"9"},"6-22":{type:"battle"},"6-23":{type:null},"6-24":{type:null,lock:[0,0,"5-37",0]},"6-25":{type:"portal",ref:"5-38",text:"8"},"5-24":{type:"portal",ref:"11-38",text:"6"},"5-21":{type:null,lock:[0,0,0,"7-5"]},"4-21":{type:null},"3-21":{type:null},"1-21":{type:null},"0-21":{type:null,text:"ðŸ’°7"},"8-27":{type:"portal",ref:"8-37",text:"7"},"8-28":{type:null,text:"ðŸ”‘h1"},"8-29":{type:null},"8-30":{type:"battle"},"8-31":{type:null},"8-32":{type:"tp",lock:[0,0,"8-28","8-28"]},"8-33":{type:"battle"},"8-34":{type:null},"8-35":{type:"battle"},"8-36":{type:null},"8-37":{type:"portal",ref:"8-27",text:"7"},"9-32":{type:"battle"},"10-32":{type:null},"11-32":{type:"battle"},"11-33":{type:null},"11-34":{type:"battle"},"11-35":{type:null},"11-36":{type:"battle"},"11-37":{type:null},"11-38":{type:"portal",ref:"5-24",text:"6"},"7-32":{type:"battle"},"6-32":{type:null},"5-32":{type:"battle"},"5-33":{type:null},"5-34":{type:null},"5-35":{type:"boss"},"5-36":{type:null},"5-37":{type:null,text:"ðŸ”‘h2"},"5-38":{type:"portal",ref:"6-25",text:"8",lock:["5-37",0,0,0]},"8-15":{type:"portal",ref:"12-11",text:"10"},"8-14":{type:"battle"},"8-13":{type:null},"8-12":{type:"battle"},"7-12":{type:null},"6-12":{type:"battle"},"5-12":{type:null},"4-12":{type:"portal",ref:"5-18",text:"9"},"7-10":{type:"tp"},"8-10":{type:"battle"},"9-10":{type:null},"10-10":{type:null},"10-11":{type:null},"10-12":{type:"battle"},"10-13":{type:null},"10-14":{type:"tp"},"11-14":{type:null},"7-9":{type:null},"13-14":{type:"portal",ref:"12-5",text:"11"},"12-14":{type:"battle"},"7-8":{type:null},"7-7":{type:"boss"},"7-6":{type:null},"7-5":{type:null,text:"ðŸ”‘i"},"7-4":{type:"portal",ref:"6-17",text:"12",lock:[0,0,"7-5",0]},"6-5":{type:null,text:"ðŸ’°6"},"9-8":{type:"battle"},"9-7":{type:"battle"},"9-6":{type:null},"9-5":{type:"battle"},"10-5":{type:null},"11-5":{type:"battle"},"12-5":{type:"portal",ref:"13-14",text:"11"},"10-8":{type:null},"11-8":{type:"battle"},"12-8":{type:"battle"},"12-9":{type:null},"12-10":{type:"battle"},"12-11":{type:"portal",ref:"8-15",text:"10"},"22-26":{type:null},"22-25":{type:null},"22-24":{type:"boss"},"22-23":{type:null,text:"ðŸ”‘f"},"4-37":{type:null,text:"ðŸ’°5"}}},routes:[]}},computed:{cdn(){return P.cK}},watch:{map(){this.draw()},style(){this.draw()},cellSize(){this.draw()}},created(){for(var e in this.map.data){var t=this.map.data[e];"tp"===t.type?t.waypoint=!0:"battle"===t.type?t.battle=!0:"mini-boss"===t.type?t.elite=!0:"boss"===t.type?t.boss=!0:"shop"===t.type?t.shop=!0:"portal"===t.type&&t.ref&&(t.portal=t.ref)}var a=[];["clear","ok","yet"].forEach((e=>{["1111","1010","1001","1000","0110","0101","0100","0010","0001"].forEach((t=>{a.push(F(P.cK+"ui/lab-builder/game_map_icon_tile_"+e+"_"+t+".png").catch((()=>"")))}))})),["battle","boss","box","crystal","goblin","golden","mob_boss","mob_elite","npc_story","gold","portal","switch_ready","switch_lock","npc_shop","dot"].forEach((e=>{a.push(F(P.cK+"ui/lab-builder/game_map_icon_"+e+".png").catch((()=>"")))})),a.push(F(P.cK+"ui/lab-builder/game_map_shortcut.png").catch((()=>""))),a.push(F(P.cK+"ui/lab-builder/game_map_now.png").catch((()=>""))),Promise.all(a).then((e=>{e.forEach((e=>{this.imgsMap[e.src]=e})),this.$nextTick((()=>{this.draw()}))}))},mounted(){},methods:{canvasMouseDown(e){this.isMouseDown=!0,this.handleMouse(e)},canvasMouseMove(e){this.isMouseDown&&this.handleMouse(e)},canvasMouseUp(){this.isMouseDown=!1},handleMouse(e){switch(this.mode){case"tile":return this.addTile(e);case"waypoint":case"battle":case"boss":case"elite":case"shop":case"chest":case"switch":case"npc":return this.addMapEvent(e,this.mode);case"start":var t=U(e,this.cellSize),a=t[0],i=t[1],s=a+"-"+i,l=this.$refs.canvas,r=l.getContext("2d"),n=this.map.data;if(!n[s])return;if(this.map.start===s)return;if(this.map.start){var o=this.map.start,c=Number(o.split(/\b-/)[0]),d=Number(o.split(/\b-/)[1]);this.map.start=null,this.deleteCell(r,n[o],c,d),this.drawCell(r,n[o],c,d)}this.map.start=s,this.deleteCell(r,n[s],a,i),this.drawCell(r,n[s],a,i);break;case"portal":t=U(e,this.cellSize),a=t[0],i=t[1],s=a+"-"+i,l=this.$refs.canvas,r=l.getContext("2d");var h=this.tempRefs;e.shiftKey?[s,this.map.data[s].portal].forEach((e=>{if(e){var t=a,l=i;e!=s&&(t=Number(e.split(/\b-/)[0]),l=Number(e.split(/\b-/)[1])),delete this.map.data[s].portal,this.deleteCell(r,this.map.data[e],t,l),this.drawCell(r,this.map.data[e],t,l)}})):(!h.includes(s)&&this.map.data[s]&&(h.push(s),1===h.length&&this.$snackbar.log({title:"Select exit point"})),2===h.length&&(this.map.data[h[0]].portal=h[1],this.map.data[h[1]].portal=h[0],h.forEach((e=>{var t=a,l=i;e!=s&&(t=Number(e.split(/\b-/)[0]),l=Number(e.split(/\b-/)[1])),this.deleteCell(r,this.map.data[e],t,l),this.drawCell(r,this.map.data[e],t,l)})),this.tempRefs=[]));break;case"eraser":t=U(e,this.cellSize),a=t[0],i=t[1],s=a+"-"+i,l=this.$refs.canvas,r=l.getContext("2d");this.map.data[s]&&(delete this.map.data[s],this.deleteCell(r,this.map.data[s],a,i,!0));break;case"route":break}},getNeighbours(e,t){return[e-1+"-"+t,e+1+"-"+t,e+"-"+(t-1),e+"-"+(t+1)].map((e=>this.map.data[e]?e:void 0))},getCellConnections(e){var t=Number(e.split(/\b-/)[0]),a=Number(e.split(/\b-/)[1]),i=this.getNeighbours(t,a).map((e=>e?1:0));return i},getImageId(e,t,a){var i=e.filter((e=>0!=e)).length,s=t?"clear":"ok";return e[0]&&e[1]||e[2]&&e[3]||!i?P.cK+"ui/lab-builder/game_map_icon_tile_"+s+"_1111.png":P.cK+"ui/lab-builder/game_map_icon_tile_"+s+"_"+e.join("")+".png"},addTile(e){var t=U(e,this.cellSize),a=t[0],i=t[1],s=a+"-"+i,l=this.$refs.canvas,r=l.getContext("2d");if(e.shiftKey){if(!this.map.data[s])return;delete this.map.data[s],this.deleteCell(r,this.map.data[s],a,i,!0)}else{if(this.map.data[s])return;this.map.data[s]={type:null},this.drawCell(r,this.map.data[s],a,i,!0)}},addMapEvent(e,t){var a=U(e,this.cellSize),i=a[0],s=a[1],l=i+"-"+s,r=this.$refs.canvas,n=r.getContext("2d"),o=this.map.data[l];o&&(e.shiftKey?delete o[t]:o[t]=!0,this.deleteCell(n,o,i,s),this.drawCell(n,o,i,s))},drawCell(e,t,a,i,s){if("game"===this.style){var l=this.getCellConnections(a+"-"+i),r=this.getImageId(l,t.waypoint);e.drawImage(this.imgsMap[r],a*this.cellSize,i*this.cellSize,this.cellSize,this.cellSize)}else e.beginPath(),e.rect(a*this.cellSize+1,i*this.cellSize+1,this.cellSize-2,this.cellSize-2),e.fillStyle=t.waypoint?"orangered":"white",e.fill(),e.lineWidth=1,e.strokeStyle="grey",e.stroke();this.drawIcons(e,t,a,i),s&&this.getNeighbours(a,i).forEach((t=>{if(t){var a=Number(t.split(/\b-/)[0]),i=Number(t.split(/\b-/)[1]);this.deleteCell(e,this.map.data[t],a,i),this.drawCell(e,this.map.data[t],a,i)}}))},drawIcons(e,t,a,i){var s=[];[["boss","game_map_icon_mob_boss"],["battle","game_map_icon_battle"],["elite","game_map_icon_mob_elite"],["npc","game_map_icon_npc_story"],["shop","game_map_icon_npc_shop"],["portal","game_map_icon_portal"],["switch","game_map_icon_switch_ready"],["chest","game_map_icon_gold"]].forEach((e=>{t[e[0]]&&s.push(e[1])})),this.map.start===a+"-"+i?s.push("game_map_now"):this.dotEmptyCells&&!s.length&&s.push("game_map_icon_dot"),s.forEach((t=>{e.drawImage(this.imgsMap[P.cK+"ui/lab-builder/"+t+".png"],a*this.cellSize+.1*this.cellSize,i*this.cellSize+.1*this.cellSize,.8*this.cellSize,.8*this.cellSize)}))},deleteCell(e,t,a,i,s){e.clearRect(a*this.cellSize,i*this.cellSize,this.cellSize,this.cellSize),s&&this.getNeighbours(a,i).forEach((t=>{if(t){var a=Number(t.split(/\b-/)[0]),i=Number(t.split(/\b-/)[1]);this.deleteCell(e,this.map.data[t],a,i),this.drawCell(e,this.map.data[t],a,i)}}))},draw(e,t){e=e||this.$refs.canvas;var a=e.getContext("2d");a.clearRect(0,0,e.width,e.height),t&&t(a),a.lineWidth=1,Object.keys(this.map.data).forEach((e=>{var t=Number(e.split(/\b-/)[0]),i=Number(e.split(/\b-/)[1]);this.drawCell(a,this.map.data[e],t,i,!1)})),console.log("Done drawing cells "),this.drawMapInfo(this.$refs.canvas_routes,this.$refs.canvas_routes.getContext("2d"))},drawMapInfo(e,t){t.font=.7*this.cellSize+"px Arial";var a=[["start","now","Starting point"],["teleport","icon_tile_clear_1111","Teleport/Waypoint"],["battle","icon_battle","Noraml battle"],["elite","icon_mob_elite","Elite Monster / Mini-boss"],["boss","icon_mob_boss","Boss battle"],["chest","icon_gold","Treasure chest"],["portal","icon_portal","Portal"],["switch","icon_switch_ready","Switch"],["npc","icon_npc_story","NPC"],["shop","icon_npc_shop","Shop"]].filter(((e,t)=>0===t||Object.values(this.map.data).some((t=>t[e[0]]))));t.beginPath();var i=6.25*this.cellSize;t.rect(e.width-i-50,25,i,a.length*this.cellSize+this.cellSize/2),t.fillStyle="white",t.fill(),a.forEach(((a,s)=>{var l=32+this.cellSize*s,r=e.width-i-40;t.drawImage(this.imgsMap[P.cK+"ui/lab-builder/game_map_"+a[1]+".png"],r+.1*this.cellSize,l+.1*this.cellSize,.8*this.cellSize,.8*this.cellSize),t.fillStyle="black",t.fillText(a[2],r+1.1*this.cellSize,l+this.cellSize/1.3)}))},download(){try{var e=document.createElement("canvas");e.height=1500,e.width=1500,this.draw(e,(t=>{t.fillStyle="black",t.fillRect(0,0,e.width,e.height)})),this.drawMapInfo(e,e.getContext("2d"));var t=e.toDataURL("image/png");this.$gallery([{src:t}],0)}catch(a){this.$snackbar.error({title:a})}}}},q=a(3744);const W=(0,q.Z)(j,[["render",B],["__scopeId","data-v-98d33c58"]]);var Y=W,Z=a(2262);const K=["onClick"],Q=["src"];function G(e,t,a,l,r,n){return(0,i.wg)(),(0,i.iD)("div",{class:(0,s.C_)(["hide-scrollbar",this.vertical?"vertical-icon-bar":"icon-bar"])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.tabsToDisplay,((e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[!a.vertical||this.vertical&&4!==t?((0,i.wg)(),(0,i.iD)("span",{key:e.id,class:(0,s.C_)({"active-icon-bar":a.tab===e.id}),onClick:t=>n.setTab(e.id,t)},[e.class?((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,s.C_)(e.class)},null,2)):((0,i.wg)(),(0,i.iD)("img",{key:1,class:"noselect",src:e.img,style:(0,s.j5)({marginBottom:"-10px",height:"40px",verticalAlign:this.vertical?"":"text-top"})},null,12,Q))],10,K)):(0,i.kq)("",!0)],64)))),256))],2)}const V=[{id:"add",name:"strings.add_heroes",class:"fa fa-plus",mobile:"true"},{id:"manage",name:"strings.your_heroes",class:"fa fa-pencil-alt",mobile:"true"},{id:"advanced",name:"strings.advanced_settings",class:"fa fa-book",mobile:"true"},{id:"results",name:"strings.results",img:a(1516),mobile:"true"},{id:"more",name:"strings.more",class:"fas fa-ellipsis-h",mobile:"true"},{id:"teams",name:"strings.your_teams",class:"fa fa-save",mobile:"false"},{id:"maps",name:"strings.maps",class:"fa fa-map",mobile:"false"},{id:"usage-stats",name:"strings.camping_usage_stats",class:"fa fa-chart-bar",mobile:"false"},{id:"settings",name:"strings.settings",class:"fa fa-cog",mobile:"false"},{id:"home",name:"strings.app_cecilia_tools",class:"fa fa-home",mobile:"false"}];var J={name:"ToolBar",props:{tab:{type:String,default:""},vertical:{type:Boolean,default:!1},standalone:{type:Boolean,default:!1}},data(){return{tabs:[]}},created(){var e=V.slice(0);this.standalone&&e.pop(),this.tabs=e},computed:{tabsToDisplay(){return this.tabs.slice(0,this.vertical?void 0:5)}},methods:{setTab(e,t){"more"===e?(t.stopPropagation(),t.preventDefault(),this.$contextmenu({clientX:window.innerWidth-10,clientY:window.innerHeight-90},V.slice(5).map((e=>({class:e.class||"",name:this.$t(e.name),handler:()=>this.$emit("set-tab",e.id)}))),{mobile:!1})):this.$emit("set-tab",e)}}};const X=(0,q.Z)(J,[["render",G]]);var ee=X;const te=e=>((0,i.dD)("data-v-40d18381"),e=e(),(0,i.Cn)(),e),ae={style:{height:"100%",width:"100%",position:"relative",overflow:"hidden"}},ie={style:{position:"absolute",height:"100%",width:"100%","pointer-events":"none"},class:"noselect"},se=["src"],le={style:{flex:"1",position:"relative"}},re={class:"absolute-center camp-title noselect"},ne=["src"],oe=te((()=>(0,i._)("br",null,null,-1))),ce=te((()=>(0,i._)("span",{style:{"font-weight":"300","font-size":"12px"}},"Version 2.00",-1))),de=te((()=>(0,i._)("br",null,null,-1))),he={key:0,style:{"font-weight":"300","font-size":"12px"}},pe={style:{"text-align":"center"}},ue={class:"noselect",style:{overflow:"hidden",position:"relative",height:"100px",width:"300px","z-index":"0",display:"inline-block","text-align":"start"}},me={style:{position:"absolute",bottom:"0",width:"100%","z-index":"-1"}},ge=te((()=>(0,i._)("i",{class:"fa fa-arrow-right",style:{float:"right","line-height":"2.4em"}},null,-1))),fe={style:{"pointer-events":"none"}},ye=["src"],be={class:"noselect",style:{overflow:"hidden",position:"relative",height:"100px",width:"300px","z-index":"0",display:"inline-block","text-align":"start"}},ve={style:{position:"absolute",bottom:"0",width:"100%","z-index":"-1"}},we=te((()=>(0,i._)("i",{class:"fa fa-arrow-right",style:{float:"right","line-height":"2.4em"}},null,-1))),_e={style:{"pointer-events":"none"}},ke=["src"],xe={class:"noselect",style:{overflow:"hidden",position:"relative",height:"100px",width:"300px","z-index":"0",display:"inline-block","text-align":"start"}},Se={style:{position:"absolute",bottom:"0",width:"100%","z-index":"-1"}},Ce=te((()=>(0,i._)("i",{class:"fa fa-arrow-right",style:{float:"right","line-height":"2.4em"}},null,-1))),De={style:{"pointer-events":"none"}},$e=["src"],He=te((()=>(0,i._)("div",null,[(0,i._)("i",{class:"fa fa-ellipsis-v"})],-1))),Me={class:"flex-fill"},Te=te((()=>(0,i._)("div",null,[(0,i._)("i",{class:"fa fa-ellipsis-v"})],-1))),ze=te((()=>(0,i._)("div",null,[(0,i._)("i",{class:"fa fa-ellipsis-v"})],-1))),Re={class:"flex-fill",style:{"text-align":"center"}},Ee=te((()=>(0,i._)("br",null,null,-1))),Ae=["data-src"],Ne=["innerHTML"],Ie=te((()=>(0,i._)("br",null,null,-1))),Oe=te((()=>(0,i._)("div",null,"If you want to help translate contact me!",-1))),Le=te((()=>(0,i._)("div",null,[(0,i._)("i",{class:"fa fa-ellipsis-v"})],-1))),Be={class:"flex-fill",style:{"text-align":"center"}},Pe={href:"https://github.com/CeciliaBot/E7Tools/issues",target:"_blank",class:"social-box glass-container mat-hover noselect"},Fe=te((()=>(0,i._)("i",{class:"fab fa-github",style:{"font-size":"3em"}},null,-1))),Ue=te((()=>(0,i._)("p",null,"E7Tools",-1))),je=[Fe,Ue],qe=["href"];function We(e,t,l,r,n,o){const c=(0,i.up)("ChangelogComponent"),d=(0,i.up)("HelpSlides"),h=(0,i.Q2)("ripple-effect"),p=(0,i.Q2)("lazyloader");return(0,i.wg)(),(0,i.iD)("div",ae,[(0,i._)("div",ie,[(0,i._)("img",{src:n.bg,style:{"object-fit":"cover",opacity:"0",transition:"opacity 0.4s ease",height:"100%",width:"100%"},onLoad:t[0]||(t[0]=e=>e.target.style.opacity=.2)},null,40,se)]),(0,i._)("div",{style:(0,s.j5)(["height: 100%;width: 100%;padding-bottom: 20px;display: flex;flex-direction: column;flex-wrap: wrap;position: absolute;top: 0px;left: 0px;transition: transform 0.4s ease 0s;",{transform:n.welcomeTab?"translateY(-100%)":"translateY(0)"}])},[(0,i._)("div",le,[(0,i._)("div",re,[(0,i._)("img",{src:a(283)},null,8,ne),oe,ce,de,l.newHeroes?((0,i.wg)(),(0,i.iD)("span",he," New characters since your last visit: "+(0,s.zw)(l.newHeroes.join(", ")),1)):(0,i.kq)("",!0)])]),(0,i._)("div",pe,[(0,i._)("div",ue,[(0,i._)("div",me,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button flat primary",style:{width:"99%","vertical-align":"bottom",border:"solid 2px","padding-left":"80px"},onClick:t[1]||(t[1]=e=>n.welcomeTab="changelog")},[(0,i.Uk)((0,s.zw)(e.$t("strings.changelog")),1),ge])),[[h]])]),(0,i._)("div",fe,[(0,i._)("img",{src:a(1681),style:{height:"98px"}},null,8,ye)])]),(0,i._)("div",be,[(0,i._)("div",ve,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button flat confirm",style:{width:"99%","vertical-align":"bottom",border:"solid 2px","padding-left":"80px"},onClick:t[2]||(t[2]=e=>n.welcomeTab="credits")},[(0,i.Uk)((0,s.zw)(e.$t("strings.credits")),1),we])),[[h]])]),(0,i._)("div",_e,[(0,i._)("img",{src:a(2809),style:{height:"98px"}},null,8,ke)])]),(0,i._)("div",xe,[(0,i._)("div",Se,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button flat warn",style:{width:"99%","vertical-align":"bottom",border:"solid 2px","padding-left":"80px"},onClick:t[3]||(t[3]=e=>n.welcomeTab="report")},[(0,i.Uk)((0,s.zw)(e.$t("strings.contribute_and_report")),1),Ce])),[[h]])]),(0,i._)("div",De,[(0,i._)("img",{src:a(8890),style:{height:"98px"}},null,8,$e)])])])],4),(0,i._)("div",{class:(0,s.C_)(["slide flex-col",{visible:"changelog"===n.welcomeTab}])},[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{onClick:t[4]||(t[4]=e=>n.welcomeTab=!1),class:"slide-back-button animated-text overflow-hidden mat-hover relative noselect"},[He,(0,i._)("div",null,(0,s.zw)(e.$t("strings.back")),1)])),[[h]]),(0,i._)("div",Me,[(0,i.Wm)(c,{path:"views/camping-simulator/"})])],2),(0,i._)("div",{class:(0,s.C_)(["slide flex-col",{visible:"help"===n.welcomeTab}])},[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{onClick:t[5]||(t[5]=e=>n.welcomeTab=!1),class:"slide-back-button animated-text overflow-hidden mat-hover relative noselect"},[Te,(0,i._)("div",null,(0,s.zw)(e.$t("strings.back")),1)])),[[h]]),(0,i.Wm)(d,{show:"help"===n.welcomeTab},null,8,["show"])],2),(0,i._)("div",{class:(0,s.C_)(["slide flex-col",{visible:"credits"===n.welcomeTab}])},[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{onClick:t[6]||(t[6]=e=>n.welcomeTab=!1),class:"slide-back-button animated-text overflow-hidden mat-hover relative noselect"},[ze,(0,i._)("div",null,(0,s.zw)(e.$t("strings.back")),1)])),[[h]]),(0,i._)("div",Re,[(0,i._)("div",null,(0,s.zw)(e.$t("strings.developed_by",["gio#0898"])),1),Ee,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.locales,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.code},[e.flag?(0,i.wy)(((0,i.wg)(),(0,i.iD)("img",{key:0,"data-src":e.flag,style:{height:"1em","vertical-align":"middle","margin-right":"5px"}},null,8,Ae)),[[p]]):(0,i.kq)("",!0),(0,i.Uk)((0,s.zw)(e.name)+": ",1),(0,i._)("span",{innerHTML:(e.authors||["-"]).join(", ")},null,8,Ne)])))),128)),Ie,Oe])],2),(0,i._)("div",{class:(0,s.C_)(["slide flex-col",{visible:"report"===n.welcomeTab}])},[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{onClick:t[7]||(t[7]=e=>n.welcomeTab=!1),class:"slide-back-button animated-text overflow-hidden mat-hover relative noselect"},[Le,(0,i._)("div",null,(0,s.zw)(e.$t("strings.back")),1)])),[[h]]),(0,i._)("div",Be,[(0,i.Uk)(" If you want to report an issue or request a feature you can do it here "),(0,i._)("div",null,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("a",Pe,je)),[[h]])]),(0,i.Uk)(" if you don't have a GitHub account you can contact me through one of the socials bellow "),(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)([["reddit","UsernameSniped","https://www.reddit.com/user/UsernameSniped/"],["discord","gio#0898","https://discordapp.com/users/605601436570615828"],["telegram","@Gio94","https://t.me/Gio94"]],(e=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("a",{key:e[0],href:e[2],target:"_blank",class:"social-box glass-container mat-hover noselect"},[(0,i._)("i",{class:(0,s.C_)("fab fa-"+e[0]),style:{"font-size":"3em"}},null,2),(0,i._)("p",null,(0,s.zw)(e[1]),1)],8,qe)),[[h]]))),128))])])],2)])}var Ye=a(2155);const Ze={class:"glass-container-2",style:{display:"flex","flex-direction":"column","max-width":"980px",margin:"0 auto 20px",height:"100%",width:"100%","border-radius":"10px",padding:"0 20px 20px",overflow:"hidden",background:"rgb(247 247 247 / 6%)"}},Ke={style:{flex:"1",overflow:"auto"}},Qe=["innerHTML"];function Ge(e,t,a,r,n,o){const c=(0,i.Q2)("ripple-effect");return(0,i.wg)(),(0,i.iD)("div",Ze,[(0,i._)("div",Ke,[(0,i.Wm)(l.uT,{name:n.animation},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.iD)("div",{key:n.slide,class:"full-size"},[(0,i._)("div",{innerHTML:n.slides[n.slide]},null,8,Qe)]))])),_:1},8,["name"])]),(0,i._)("div",null,[n.slide>0?(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{key:0,class:"material-button basic primary noselect",style:{float:"left"},onClick:t[0]||(t[0]=e=>n.slide--)},[(0,i._)("span",null,(0,s.zw)(e.$t("strings.back")),1)])),[[c]]):(0,i.kq)("",!0),n.slide<n.slides.length-1?(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{key:1,class:"material-button basic primary noselect",style:{float:"right"},onClick:t[1]||(t[1]=e=>n.slide++)},[(0,i._)("span",null,(0,s.zw)(e.$t("strings.next")),1)])),[[c]]):(0,i.kq)("",!0)])])}var Ve={data(){return{isFetching:!1,hasFailed:!1,slide:0,slides:[],animation:"left-to-right"}},computed:{lang(){return this.$i18n.locale}},watch:{slide(e,t){this.animation=e>t?"left-to-right":"right-to-left"},slides(){this.slide=0},lang(){this.getHelpSlides()}},methods:{getHelpSlides(){return this.hasFailed=!1,this.isFetching=!0,this.slides=[],Promise.all([a(7062)("./"+this.lang+".json").catch((async()=>await a.e(320).then(a.t.bind(a,9677,19)).catch((()=>[]))))]).then((([e])=>{var t=e.default||[];return this.slides=t,Promise.resolve(e)})).catch((e=>(this.hasFailed=e,Promise.resolve(!1)))).then((()=>{this.changelogLang=this.$i18n.locale,this.isFetching=!1}))}}};const Je=(0,q.Z)(Ve,[["render",Ge],["__scopeId","data-v-b476ba0e"]]);var Xe=Je,et={components:{ChangelogComponent:Ye.Z,HelpSlides:Xe},props:{verticalToolbar:{type:Boolean,default:!1},newHeroes:{default:!1}},data(){return{welcomeTab:!1,bg:P.cK+"/ui/camping-low-res.png",cdn:P.cK,locales:(this.$i18n._availableLocales||[]).slice()}},created(){}};const tt=(0,q.Z)(et,[["render",We],["__scopeId","data-v-40d18381"]]);var at=tt;const it={style:{display:"flex","flex-direction":"column",height:"100%"}},st={style:{flex:"1",overflow:"auto"}};function lt(e,t,a,r,n,o){const c=(0,i.up)("HeaderBar"),d=(0,i.up)("HeroDrawer"),h=(0,i.up)("FilterModal");return(0,i.wg)(),(0,i.iD)("div",it,[(0,i._)("div",{class:(0,s.C_)({"bottom-serachbar":a.settings.searchbarToBottom})},[(0,i.Wm)(c,{mobile:a.mobile,onMore:o.moreMenu,onQuery:o.updateSearchQuery,onFilter:o.toggleFilterModal},null,8,["mobile","onMore","onQuery","onFilter"])],2),(0,i._)("div",st,[(0,i.Wm)(d,{ref:"HeroDrawer",removable:!1,list:a.list,"element-mask":n.elementMask,sorting:n.sort,"show-attr-role":a.settings.showHeroAttrRole,"show-rarity":a.settings.showHeroRarity,"show-name":a.settings.showHeroName,"disable-hover":a.settings.disableHeroIconHover,mobile:a.mobile,onContextualmenu:o.contextHero,onClick:o.addHero},null,8,["list","element-mask","sorting","show-attr-role","show-rarity","show-name","disable-hover","mobile","onContextualmenu","onClick"])]),(0,i.wy)((0,i.Wm)(h,{ref:"filter-modal",id:"filter-modal-add",sorting:n.sort,filter:n.filters,onClose:o.toggleFilterModal},null,8,["sorting","filter","onClose"]),[[l.F8,n.filterModal]])])}const rt={class:"nav-camping-base"},nt={class:"nMobile-nav"},ot=(0,i._)("i",{class:"fa fa-bars"},null,-1),ct=[ot],dt={class:"nsearchbar"},ht=["value","placeholder"],pt=(0,i._)("i",{class:"fa fa-filter"},null,-1),ut=[pt];function mt(e,t,a,l,r,n){const o=(0,i.Q2)("ripple-effect");return(0,i.wg)(),(0,i.iD)("div",rt,[(0,i._)("div",nt,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>n.moreMenu&&n.moreMenu(...e))},ct),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",dt,[(0,i._)("input",{id:"camp_heroesw_input",autocomplete:"off",value:r.searchQuery,placeholder:this.$t("strings.search"),onInput:t[1]||(t[1]=(...e)=>n.updateQuery&&n.updateQuery(...e))},null,40,ht),(0,i._)("div",{class:"go",onClick:t[2]||(t[2]=(...e)=>n.handleGoSearchBar&&n.handleGoSearchBar(...e))},[(0,i._)("i",{class:(0,s.C_)(["fa",this.searchQuery?"fa-times":"fa-search"])},null,2)])])),[[o]]),(0,i._)("button",{onClick:t[3]||(t[3]=(...e)=>n.filter&&n.filter(...e))},ut)])])}var gt=a(6163),ft={name:"CampManageHeader",emits:["more","filter","search"],props:{mobile:{default:!1}},data(){return{searchQuery:""}},renderTriggered(e){console.log("Header",e)},methods:{updateQuery(e){this.searchQuery=e.target.value,this.emitQuery()},emitQuery:(0,gt.Ds)((function(){this.$emit("query",this.searchQuery)}),300),moreMenu(e){this.$emit("more",e)},filter(e){this.$emit("filter",e)},handleGoSearchBar(){this.searchQuery&&(this.searchQuery="",this.$emit("query",this.searchQuery),this.mobile||document.getElementById("camp_heroesw_input").focus())}}};const yt=(0,q.Z)(ft,[["render",mt]]);var bt=yt;const vt={class:"hero-list-box"};function wt(e,t,a,s,r,n){const o=(0,i.up)("HeroIcon");return(0,i.wg)(),(0,i.iD)("div",vt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.sortedList,(e=>(0,i.wy)(((0,i.wg)(),(0,i.j4)(o,{key:e,hero:e,removable:a.removable,selected:n.selectedObj[e],size:n.chIconSize,showname:a.showName,showrarity:a.showRarity,showrole:a.showAttrRole,hover:!a.disableHover,onRemove:n.removeHero,onClick:n.clickHero,onContext:n.context},null,8,["hero","removable","selected","size","showname","showrarity","showrole","hover","onRemove","onClick","onContext"])),[[l.F8,a.elementMask[e]]]))),128))])}var _t=a(978),kt={name:"HeroDrawer",emits:["click","contextualmenu","remove","updatedMask"],props:{iconSize:{type:Number,default:75},list:{type:Array,default(){return[]}},selected:{type:Array,default(){return[]}},elementMask:{type:Object,default(){return{}}},removable:{type:Boolean,default:!1},mobile:{type:Boolean,default:!1},showAttrRole:{type:Boolean,default:!0},showRarity:{type:Boolean,default:!1},showName:{type:Boolean,default:!1},disableHover:{type:Boolean,default:!1},sorting:{type:Array,default(){return[]}},skipNextChange:{type:Boolean}},data(){return{}},computed:{sortedList(){return(0,_t.Z)(this.list.slice(),this.sorting[0],this.sorting[1])},selectedObj(){for(var e={},t=0;t<this.selected.length;t++)e[this.selected[t]]=!0;return e},chIconSize:function(){try{var e=this.iconSize;if(!this.mobile)return e;var t=this.$store.state.screenWidth,a=1.32;this.removable&&(a=1.671);var i=t-10,s=e*a,l=i/s;return(i/Math.round(l)-.5)/a}catch(r){return this.iconSize}}},methods:{clickHero(e,t){this.$emit("click",e,t)},context(e,t){this.$emit("contextualmenu",e,t)},removeHero(e,t){this.$emit("remove",e,t)},returnVisibleList(){return this.sortedList.filter((e=>!0===this.elementMask[e]))}}};const xt=(0,q.Z)(kt,[["render",wt]]);var St=xt,Ct=a(2346),Dt=a(5863),$t=a(8301);function Ht(e="",t={},a={}){for(const i in a)if("name"!==i){if("hasSkins"===i&&a[i]){if(!t.skin)return!1}else if(a[i].length&&!a[i].includes(t[i]))return!1}else if(-1===e.toLowerCase().indexOf(a[i].toLowerCase()))return!1;return!0}var Mt={name:"AddHero",emits:["add","addAll"],components:{HeaderBar:bt,HeroDrawer:St,FilterModal:Ct.Z},props:{list:{type:Array,default(){return[]}},settings:{type:Object,default:()=>({})},mobile:{type:Boolean,default:!1}},data(){return{sort:["rarity",!1],filters:{name:"",rarity:[],attribute:[],role:[],zodiac:[],sex:[]},filterModal:!1,elementMask:{},skipHeroDrawerChange:!1}},watch:{filters:{deep:!0,handler(){this.setMask()}},list:{deep:!0,immediate:!0,handler(){this.skipHeroDrawerChange||this.setMask()}}},updated(){console.log("Updated AddHero")},methods:{addHero(e){this.skipHeroDrawerChange=!0,this.$emit("add",e),this.$nextTick((()=>{this.skipHeroDrawerChange=!1}))},toggleFilterModal(e){this.filterModal?this.filterModal=!1:(this.filterModal=!0,this.$nextTick((()=>{(0,Dt.oo)(e.currentTarget||e.target,this.$refs["filter-modal"].$el.firstChild,{strategy:"fixed",placement:"bottom",middleware:[(0,$t.uY)(),(0,$t.RR)(),(0,$t.cv)(5)]}).then((({x:e,y:t})=>{this.$refs["filter-modal"].$.props.xy={top:t+"px",left:e+"px"}}))})))},updateSearchQuery(e){this.filters.name=e},setMask(){this.list.forEach((e=>{this.elementMask[e]=Ht(this.$store.getters.getHeroName(e),this.$store.getters.getHero(e),this.filters)}))},contextHero:function(e,t){this.$contextmenu(t,[{class:"far fa-heart",name:this.$t("strings.calculate_friendship"),handler:()=>this.$emit("calculateFriendship",e)},{class:"fas fa-link",name:this.$t("strings.view_model"),handler:()=>window.open("https://www.e7vau.lt/portrait-viewer.html?id="+this.$store.getters.getHero(e).id,"_blank").focus()},{class:"fas fa-plus",name:this.$t("strings.add_hero"),color:"#4caf50",handler:()=>this.addHero(e)}])},moreMenu(e){e.stopPropagation(),e.preventDefault();let t=(e.currentTarget||e.target).getBoundingClientRect();var a={clientX:t.left,clientY:this.settings.searchbarToBottom?t.top-10:t.top+t.height};this.$contextmenu(a,[{class:"fas fa-plus",name:this.$t("strings.add_all_in_view"),color:"#4caf50",handler:()=>{var e=this.$refs.HeroDrawer.returnVisibleList();this.$promiseAlert(this.$t("strings.add_all_in_view"),this.$t("strings.add_all_in_view_confirm",[e.length,"your roster"]),[this.$t("strings.confirm"),this.$t("strings.cancel")]).then((([t])=>{0===t&&this.$emit("addAll",e)})).catch((()=>{}))}},{class:"fas fa-th",name:this.$t("strings.layout"),children:[{class:"fas fa-check",name:this.$t("strings.ui_icons")}]}],{mobile:this.mobile})}}};const Tt=(0,q.Z)(Mt,[["render",lt]]);var zt=Tt;const Rt={style:{display:"flex","flex-direction":"column",height:"100%"}},Et={style:{flex:"1",overflow:"auto"}};function At(e,t,a,r,n,o){const c=(0,i.up)("HeaderBar"),d=(0,i.up)("HeroDrawer"),h=(0,i.up)("FilterModal");return(0,i.wg)(),(0,i.iD)("div",Rt,[(0,i._)("div",{class:(0,s.C_)({"bottom-serachbar":a.settings.searchbarToBottom})},[(0,i.Wm)(c,{mobile:a.mobile,onMore:o.moreMenu,onQuery:o.updateSearchQuery,onFilter:o.toggleFilterModal},null,8,["mobile","onMore","onQuery","onFilter"])],2),(0,i._)("div",Et,[(0,i.Wm)(d,{ref:"HeroDrawer",removable:!0,list:a.list,selected:a.locked,elementMask:n.elementMask,sorting:n.sort,"show-attr-role":a.settings.showHeroAttrRole,"show-rarity":a.settings.showHeroRarity,"show-name":a.settings.showHeroName,"disable-hover":a.settings.disableHeroIconHover,mobile:a.mobile,onContextualmenu:o.contextHero,onClick:o.lockHero,onRemove:o.removeHero},null,8,["list","selected","elementMask","sorting","show-attr-role","show-rarity","show-name","disable-hover","mobile","onContextualmenu","onClick","onRemove"])]),(0,i.wy)((0,i.Wm)(h,{ref:"filter-modal",id:"filter-modal-add",sorting:n.sort,filter:n.filters,extrasort:[{name:"date",id:"recent"}],onClose:o.toggleFilterModal},null,8,["sorting","filter","onClose"]),[[l.F8,n.filterModal]])])}var Nt={name:"HeroBox",emits:["remove","lock","removeAll","exportURL"],components:{HeaderBar:bt,HeroDrawer:St,FilterModal:Ct.Z},props:{list:{type:Array,default(){return[]}},locked:{type:Array,default(){return[]}},settings:{type:Object,default:()=>({})},mobile:{type:Boolean,default:!1}},updated(){console.log("Updated HeroBox")},data(){return{sort:["recent",!1],filters:{name:"",rarity:[],attribute:[],role:[],zodiac:[],sex:[]},filterModal:!1,elementMask:{},skipHeroDrawerChange:!1}},watch:{filters:{deep:!0,handler(){this.setMask()}},list:{deep:!0,immediate:!0,handler(){this.skipHeroDrawerChange||this.setMask()}}},methods:{removeHero(e){this.skipHeroDrawerChange=!0,this.$emit("remove",e),this.$nextTick((()=>{this.skipHeroDrawerChange=!1}))},lockHero(e){this.$emit("lock",e)},toggleFilterModal(e){this.filterModal?this.filterModal=!1:(this.filterModal=!0,this.$nextTick((()=>{(0,Dt.oo)(e.currentTarget||e.target,this.$refs["filter-modal"].$el.firstChild,{strategy:"fixed",placement:"bottom",middleware:[(0,$t.uY)(),(0,$t.RR)(),(0,$t.cv)(5)]}).then((({x:e,y:t})=>{this.$refs["filter-modal"].$.props.xy={top:t+"px",left:e+"px"}}))})))},updateSearchQuery(e){this.filters.name=e},setMask(){this.list.forEach((e=>{this.elementMask[e]=Ht(this.$store.getters.getHeroName(e),this.$store.getters.getHero(e),this.filters)}))},contextHero:function(e,t){var a=this.locked.includes(e);this.$contextmenu(t,[{class:"far fa-heart",name:this.$t("strings.calculate_friendship"),handler:()=>this.$emit("calculateFriendship",e)},{class:"fa fa-link",name:this.$t("strings.view_model"),handler:()=>window.open("https://www.e7vau.lt/portrait-viewer.html?id="+this.$store.getters.getHero(e).id,"_blank").focus()},{class:a?"fa fa-lock-open":"fa fa-lock",name:this.$t(a?"strings.unlock_hero":"strings.lock_hero"),handler:()=>this.lockHero(e)},{class:"fa fa-minus",name:this.$t("strings.remove_hero"),color:"var(--font-color-warn)",handler:()=>this.removeHero(e)}])},moreMenu(e){e.stopPropagation(),e.preventDefault();let t=(e.currentTarget||e.target).getBoundingClientRect();var a={clientX:t.left,clientY:this.settings.searchbarToBottom?t.top-10:t.top+t.height};this.$contextmenu(a,[{class:"fa fa-minus",name:this.$t("strings.remove_all_in_view"),color:"var(--font-color-warn)",handler:()=>{var e=this.$refs.HeroDrawer.returnVisibleList();this.$promiseAlert(this.$t("strings.remove_all_in_view"),this.$t("strings.remove_all_in_view_confirm",[e.length,"your roster"]),[this.$t("strings.confirm"),this.$t("strings.cancel")]).then((([t])=>{0===t&&this.$emit("removeAll",e)})).catch((()=>{}))}},{class:"fa fa-link",name:this.$t("strings.generate_export_url"),handler:()=>{this.$emit("exportURL")}},{class:"fa fa-th",name:this.$t("strings.layout"),children:[{class:"fa fa-check",name:this.$t("strings.ui_icons")}]}],{mobile:this.mobile})}}};const It=(0,q.Z)(Nt,[["render",At]]);var Ot=It;const Lt={class:"modal-game-box gamebox",style:{padding:"10px"}},Bt={style:{flex:"1",display:"flex",overflow:"hidden"}},Pt={style:{flex:"1",display:"flex","flex-direction":"column"}},Ft={style:{height:"56px","border-bottom":"solid 2px #6a553a",display:"flex","justify-content":"space-between"}},Ut={style:{"margin-left":"5px",width:"50%"}},jt={key:0},qt=(0,i._)("i",{class:"fa fa-sliders-h fa-rotate-90"},null,-1),Wt={style:{flex:"1",overflow:"auto"}},Yt=(0,i._)("div",{style:{width:"1px",background:"#6a553a",margin:"0 10px 20px"}},null,-1),Zt={style:{"min-width":"100px"}},Kt=(0,i._)("div",{style:{height:"56px","border-bottom":"solid 2px #6a553a","text-align":"center"}},[(0,i.Uk)("Recently"),(0,i._)("br"),(0,i.Uk)("Selected")],-1),Qt={style:{overflow:"auto"}},Gt=["onClick"],Vt={style:{"border-top":"solid 2px #6a553a",padding:"10px 5px",display:"flex"}},Jt={style:{flex:"1"}},Xt=["innerHTML"];function ea(e,t,a,r,n,o){const c=(0,i.up)("HeroIcon"),d=(0,i.up)("FilterComponent"),h=(0,i.Q2)("ripple-effect");return(0,i.wg)(),(0,i.iD)("div",{class:"center-modal",onClick:t[3]||(t[3]=(...e)=>o.checkOutOfBounds&&o.checkOutOfBounds(...e))},[(0,i._)("div",Lt,[(0,i._)("div",Bt,[(0,i._)("div",Pt,[(0,i._)("div",Ft,[(0,i._)("h1",Ut,[(0,i.Uk)("Select Heroes "),a.max?((0,i.wg)(),(0,i.iD)("span",jt,"("+(0,s.zw)(a.selected.length)+"/"+(0,s.zw)(a.max||1)+")",1)):(0,i.kq)("",!0)]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button basic basic",style:{float:"right","font-size":"18px"},onClick:t[0]||(t[0]=(...e)=>o.openFilter&&o.openFilter(...e))},[(0,i._)("span",null,[qt,(0,i.Uk)(" â˜… "+(0,s.zw)(e.$t("strings."+n.sorter[0])),1)])])),[[h]])]),(0,i._)("div",Wt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.displayList,(e=>((0,i.wg)(),(0,i.j4)(c,{key:e,hero:e,hover:!1,selected:n.localSelected.includes(e),onClick:t=>o.clickHero(e)},null,8,["hero","selected","onClick"])))),128))])]),a.recentColumn?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[Yt,(0,i._)("div",Zt,[Kt,(0,i._)("div",Qt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.localSelected,(e=>((0,i.wg)(),(0,i.iD)("div",{key:"selected-"+e,onClick:t=>o.clickHero(e)},[(0,i.Wm)(c,{hero:e,hover:!1},null,8,["hero"])],8,Gt)))),128))])])],64)):(0,i.kq)("",!0)]),(0,i._)("div",Vt,[(0,i._)("div",Jt,[(0,i._)("h2",null,(0,s.zw)(a.descriptionTitle),1),(0,i._)("span",{innerHTML:a.description},null,8,Xt)]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button flat confirm",style:{float:"right","font-size":"22px"},onClick:t[1]||(t[1]=(...e)=>o.confirm&&o.confirm(...e))},[(0,i.Uk)("Select")])),[[h]])]),(0,i.wy)((0,i.Wm)(d,{ref:"FILTER_MODAL",filter:n.filter,sorting:n.sorter,onClose:t[2]||(t[2]=e=>n.openFilterModal=!1)},null,8,["filter","sorting"]),[[l.F8,n.openFilterModal]])])])}function ta(e,t,a,i){for(const l in e)if("name"!==l)if("hasSkins"===l&&e[l]){if(!a(t).skin)return!1}else{var s=e[l];if(s.length&&!s.includes(a(t)[l]))return!1}else if(-1===i(t).toLowerCase().indexOf(e[l].toLowerCase()))return!1;return!0}var aa={emits:["selected","close"],components:{FilterComponent:Ct.Z},props:{list:{type:Array,default:()=>[]},selected:{type:Array,default:()=>[]},max:{type:Number,default:0},title:{type:String,default:"Select heroes"},description:{type:String,default:"Description"},descriptionTitle:{type:String,default:"Info"},recentColumn:{type:Boolean,defaiult:!1}},created(){this.localSelected=this.selected},data(){return{localSelected:[],displayList:this.list.slice(),openFilterModal:!1,sorter:["rarity",!1],filter:{name:"",attribute:[],role:[],rarity:[]}}},watch:{list(){this.displayList=this.list.slice()},selected(){this.localSelected=this.selected.slice()},filter:{deep:!0,handler(){var e=this.list.filter((e=>ta(this.filter,e,this.$store.getters.getHero,this.$store.getters.getHeroName)));(0,_t.Z)(e,this.sorter[0],this.sorter[1],this.$store.getters.getHero),this.displayList=e}},sorter:{deep:!0,handler(){(0,_t.Z)(this.displayList,this.sorter[0],this.sorter[1],this.$store.getters.getHero)}}},methods:{clickHero(e){var t=this.localSelected.indexOf(e);-1!==t?this.localSelected.splice(t,1):this.max&&this.max===this.localSelected.length?this.$snackbar&&this.$snackbar.error({title:"Can't select more"}):this.localSelected.push(e)},confirm(){this.$emit("selected",this.localSelected.slice()),this.localSelected=[]},checkOutOfBounds(e){e.target===e.currentTarget&&this.$emit("close")},openFilter(e){this.openFilterModal=!0;var t=e.currentTarget||e.target,a=this.$refs.FILTER_MODAL.$el.firstChild;this.$nextTick((()=>{(0,Dt.oo)(t,a,{strategy:"fixed",placement:"bottom",middleware:[(0,$t.uY)()]}).then((({x:e,y:t})=>{this.$refs.FILTER_MODAL.$.props.xy={top:t+"px",left:e+"px"}}))}))}}};const ia=(0,q.Z)(aa,[["render",ea]]);var sa=ia,la=a(1830),ra={stic_debuf_impossible:{name:"Immunity",id:12},stic_att_up:{name:"Attack up",id:1},stic_att_up2:{name:"Attack up (Greater)",id:44},stic_def_up:{name:"Defense up",id:2},stic_speed_up:{name:"Speed up",id:3},stic_dodge_up:{name:"Evasion",id:10},stic_protect:{name:"Barrier",id:5},stic_cri_up:{name:"Crit chance up",id:4},stic_cridmg_up:{name:"Crit damage up",id:9},stic_crires_up:{name:"Crit Resistance",id:40},stic_invincible:{name:"Invincibility",id:6},stic_endure:{name:"Skill nullifier",id:46},stic_heal:{name:"Continuous Healing",id:11},stic_hide:{name:"Stealth",id:15},stic_immortality:{name:"Immortality",id:14},stic_reflect:{name:"Reflect",id:13},stic_counter:{name:"Counter",id:7}},na={stic_def_dn:{name:"Def down",id:18},stic_speed_dn:{name:"Speed down",id:19},stic_att_dn:{name:"Attack down",id:17},stic_blind:{name:"Blind",id:22},stic_target:{name:"Target",id:26},stic_buf_impossible:{name:"Unbuffable",id:29},stic_heal_impossible:{name:"Unhealable",id:27},stic_stun:{name:"Stun",id:20},stic_provoke:{name:"Provoke",id:25},stic_silence:{name:"Silence",id:28},stic_sleep:{name:"Sleep",id:21},stic_blood:{name:"Bleed",id:32},stic_dot:{name:"Poison",id:24},stic_blaze:{name:"Burn",id:31},stic_vampire:{name:"Vampire",id:23},stic_bomb:{name:"Bomb",id:53}},oa={name:"AdvancedSettings",props:{mobile:{type:Boolean,default:!1},advanced:{type:Object,required:!0},visible:{type:Boolean,required:!1,default:!0},roster:{type:Array,required:!0},locked:{type:Array,default:function(){return[]}}},data:function(){return{myHeroes:[],lockedHeroes:[],advancedSettings:this.advanced,characterSelect:void 0}},beforeCreate(){},created:function(){},watch:{mobile:function(){},locked:function(){this.lockedHeroes=this.locked||[]},roster:function(){this.myHeroes=this.roster||[]},advanced(e,t){e!==t&&(this.advancedSettings=e)},advancedSettings:{deep:!0,handler(){this.advancedSettings.update_at=Date.now()}}},computed:{},renderTriggered(e){console.log("AdvancedSettings",e)},methods:{getHeroName:function(e){return this.$store.getters.getHeroName(e)},roleIcon:function(e){return this.$store.getters.getRoleIcon(e)},attributeIcon:function(e){return this.$store.getters.getAttributeIcon(e)},setCheckbox:function(e,t){t?this.advancedSettings[e]=t:delete this.advancedSettings[e]},countActive:function(e){var t=0,a=this.advancedSettings[e];for(var i in a)t+=Math.max(0,a[i]);return t},setReqestedNumber:function(e,t,a=1){var i=this.advancedSettings[e];i||(this.advancedSettings[e]={},i=this.advancedSettings[e]),i[t]||(i[t]=0),a>0&&i[t]>-1&&this.countActive(e)>3-this.lockedHeroes.length?this.$snackbar.log({type:"info",title:"Can't select more "+this.$tc("strings."+e,3),description:"Can't lock more than 4 elements for each category."}):(i[t]=i[t]+a,i[t]<-1?i[t]=-1:0===i[t]&&delete i[t])},addToArray:function(e,t){var a=this.advancedSettings;a[e]||(a[e]=[]),a=a[e],a.includes(t)?(a.splice(a.indexOf(t),1),a.length||delete a[e]):a.push(t)},lockATopic:function(e){e.stopPropagation(),e.preventDefault();let t=(e.currentTarget||e.target).getBoundingClientRect();var a={clientX:t.left,clientY:t.top+t.height};let i=["Criticism","Reality Check","Heroic Tale","Comforting Cheer","Cute Cheer","Heroic Cheer","Sad Memory","Joyful Memory","Happy Memories","Unique Comment","Self-Indulgent","Occult","Myth","Bizarre Story","Food Story","Horror Story","Gossip","Dream","Advice","Complain","Belief","Interesting Story"].filter((e=>!(this.advancedSettings.lockedTopics||[]).includes(e)));i.length&&(this.advancedSettings.lockedTopics&&4===this.advancedSettings.lockedTopics.length||this.$contextmenu(a,i.map((e=>({class:"",name:this.$t("strings."+e),handler:()=>this.addToArray("lockedTopics",e)}))),{mobile:!0}))},doesArrayInclude:function(e,t){return!(!this.advancedSettings[e]||!this.advancedSettings[e].includes(t))},getCartesianSlot:function(e){return this.advancedSettings.cartesianLock||(this.advancedSettings.cartesianLock=[[],[],[],[]]),this.advancedSettings.cartesianLock[e]},openCartesianSelector:function(e,t){e.preventDefault(),e.stopPropagation(),this.getCartesianSlot(t),this.characterSelect=t},closeCartesianSelector:function(){this.characterSelect=void 0},setCartesian(e){this.advancedSettings.cartesianLock[this.characterSelect]=e,this.closeCartesianSelector()}},render:function(){return(0,i.h)("div",{class:"advanced"},[void 0!==this.characterSelect?(0,i.h)(sa,{list:this.roster,selected:this.advancedSettings.cartesianLock[this.characterSelect],onClose:this.closeCartesianSelector,onSelected:this.setCartesian}):null,(0,i.h)("h1",[this.$t("strings.advanced_settings"),(0,i.wy)((0,i.h)("button",{class:"material-button stroked warn",style:"float: right;",onClick:()=>this.$emit("reset")},[(0,i.h)("span",this.$t("strings.reset_advanced"))]),[[la.Z]])]),(0,i.h)("div",{style:{padding:"15px","background-color":"black","border-radius":"10px",border:"solid #776048","font-size":"18px",color:"#A1AEBD"}},[[["muteLockedHeroes","discard_if_held_by_locked"],["lockedMatter","camp_locked_matter"],["aoe","must_include_aoe"],["noS1debuffs","no_s1_debuffs"],["noDebuffs","no_debuffs"],["includeDispel","must_include_dispel"],["includeCleanser","must_include_cleanse"]].map((e=>(0,i.h)("div",[(0,i.wy)((0,i.h)("label",{class:"custom-check",style:{margin:0,overflow:"hidden",marginBottom:"-7px",borderRadius:"4px"}},[(0,i.h)("input",{type:"checkbox",checked:!0===this.advancedSettings[e[0]],onChange:t=>this.setCheckbox(e[0],t.target.checked)}),(0,i.h)("span",{class:"checkmark"}),(0,i.h)("span",this.$t(`strings.${e[1]}`))]),[[la.Z]])])))]),(0,i.h)("div",{class:"advanced-settings-box"},[(0,i.h)("h2",`${this.$tc("strings.role")}:`),[["knight","knight"],["warrior","warrior"],["assassin","assassin"],["ranger","ranger"],["mage","mage"],["manauser","manauser"]].map((e=>{var t=(this.advancedSettings["role"]||{})[e[0]];return(0,i.h)("div",{class:"quantityBox noselect"},[(0,i.h)("img",{src:this.roleIcon(e[0])}),(0,i.h)("div",[(0,i.h)("span",{style:{color:"red"},onClick:()=>this.setReqestedNumber("role",e[0],-1)},"-"),(0,i.h)("span",{style:{color:t?"":"transparent"}},t||"0"),(0,i.h)("span",{style:{color:"green"},onClick:()=>this.setReqestedNumber("role",e[0],1)},"+")])])}))]),(0,i.h)("div",{class:"advanced-settings-box"},[(0,i.h)("h2",`${this.$tc("strings.attribute")}:`),[["fire","Fire"],["ice","Ice"],["wind","Earth"],["dark","Dark"],["light","Light"]].map((e=>{var t=(this.advancedSettings["attribute"]||{})[e[0]];return(0,i.h)("div",{class:"quantityBox noselect"},[(0,i.h)("img",{src:this.attributeIcon(e[0])}),(0,i.h)("div",[(0,i.h)("span",{style:{color:"red"},onClick:()=>this.setReqestedNumber("attribute",e[0],-1)},"-"),(0,i.h)("span",{style:{color:t?"":"transparent"},innerHTML:t||"0"}),(0,i.h)("span",{style:{color:"green"},onClick:()=>this.setReqestedNumber("attribute",e[0],1)},"+")])])}))]),(0,i.h)("div",{class:"advanced-settings-box"},[(0,i.h)("h2",`${this.$tc("strings.buff",2)}:`),Object.keys(ra).map((e=>(0,i.h)("div",{class:["buff-debuff-check noselect",{enabled:this.doesArrayInclude("buffs",ra[e].id)}],onClick:()=>this.addToArray("buffs",ra[e].id)},[(0,i.h)("img",{src:"https://assets.epicsevendb.com/buff/"+e+".png"}),(0,i.h)("p",this.$t(`strings.${e}`))])))]),(0,i.h)("div",{class:"advanced-settings-box"},[(0,i.h)("h2",`${this.$tc("strings.debuff",2)}:`),Object.keys(na).map((e=>(0,i.h)("div",{class:["buff-debuff-check noselect",{enabled:this.doesArrayInclude("debuffs",na[e].id)}],onClick:()=>this.addToArray("debuffs",na[e].id)},[(0,i.h)("img",{src:"https://assets.epicsevendb.com/buff/"+e+".png"}),(0,i.h)("p",this.$t(`strings.${e}`))])))]),(0,i.h)("div",{class:"advanced-settings-box"},[(0,i.h)("h2",`${this.$t("strings.camp_multilock")}:`),[0,1,2,3].map((e=>(0,i.h)("div",{class:"multilock-slot",onClick:t=>this.openCartesianSelector(t,e)},[(0,i.h)("h3",{title:"Add to this slot"},[this.$t("strings.camp_multi_slot",{n:e+1}),(0,i.h)("i",{class:"fa fa-pencil-alt",style:{float:"right","line-height":"28px","padding-right":"5px"}})]),(0,i.h)("div",[this.getCartesianSlot(e).map((e=>(0,i.h)("div",{class:"cartesian-element"},this.getHeroName(e))))])])))])])}};const ca=(0,q.Z)(oa,[["__scopeId","data-v-7fb9e77a"]]);var da=ca;const ha=e=>((0,i.dD)("data-v-f96f8b16"),e=e(),(0,i.Cn)(),e),pa={style:{width:"100%"}},ua={style:{"max-width":"900px",margin:"auto"}},ma={style:{"text-align":"center",width:"100%"}},ga=ha((()=>(0,i._)("th",null,null,-1))),fa={style:{"column-width":"400px"}},ya=["onClick"],ba=ha((()=>(0,i._)("i",{class:"fa fa-save"},null,-1))),va=ha((()=>(0,i._)("br",null,null,-1))),wa={key:0,class:"glass-container",style:{position:"sticky",bottom:"0","white-space":"nowrap",overflow:"auto"}};function _a(e,t,a,l,r,n){const o=(0,i.up)("HeroIcon"),c=(0,i.up)("Pagination"),d=(0,i.up)("SaveModal"),h=(0,i.Q2)("ripple-effect");return(0,i.wg)(),(0,i.iD)("div",pa,[(0,i._)("div",ua,[(0,i._)("h1",null,(0,s.zw)(e.$t("strings.results")),1),(0,i._)("table",ma,[(0,i._)("thead",null,[ga,(0,i._)("th",null,(0,s.zw)(e.$t("strings.team")),1),(0,i._)("th",fa,(0,s.zw)(e.$t("strings.topics")),1),(0,i._)("th",null,(0,s.zw)(e.$t("strings.morale")),1)]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.displayResults,((t,a)=>((0,i.wg)(),(0,i.iD)("tr",{key:a},[(0,i.wy)(((0,i.wg)(),(0,i.iD)("td",{onClick:e=>n.openSaveModal(t),class:"save-box"},[ba,va,(0,i.Uk)((0,s.zw)(a+1+25*(r.page-1)),1)],8,ya)),[[h]]),(0,i._)("td",null,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)([[0,1],[2,3]],(e=>(0,i._)("span",{key:"team-row"+e,style:{display:"inline-block"}},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,(e=>((0,i.wg)(),(0,i.iD)(i.HY,{key:a+"-hero-"+e},[t.team[e]?((0,i.wg)(),(0,i.j4)(o,{key:0,hero:t.team[e],hover:!1,size:50},null,8,["hero"])):(0,i.kq)("",!0)],64)))),128))]))),64))]),(0,i._)("td",null,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(2,(l=>(0,i._)("div",{key:a+"-topic-"+l},[(0,i._)("b",null,(0,s.zw)(n.getHeroName(t.holder[l-1])),1),(0,i.Uk)(": "+(0,s.zw)(e.$t("strings."+t.topics[l-1])),1)]))),64))]),(0,i._)("td",null,(0,s.zw)(t.morale),1)])))),128))])])]),n.pages>1?((0,i.wg)(),(0,i.iD)("div",wa,[(0,i.Wm)(c,{"total-pages":n.pages,total:a.results.length,"per-page":25,"current-page":r.page,onPagechanged:n.changeResultsPage},null,8,["total-pages","total","current-page","onPagechanged"])])):(0,i.kq)("",!0),(0,i.Wm)(d,{camp:r.openResult,onClose:n.closeSaveModal,onSave:n.saveCamp},null,8,["camp","onClose","onSave"])])}const ka=e=>((0,i.dD)("data-v-7a53b4f8"),e=e(),(0,i.Cn)(),e),xa={style:{padding:"5px 10px 10px",display:"flex","flex-direction":"column","justify-content":"space-between",height:"100%"}},Sa={style:{overflow:"auto"}},Ca={style:{"text-align":"center"}},Da={style:{"text-align":"center"}},$a={style:{"text-align":"center",display:"inline-block","vertical-align":"middle",margin:"0 20px"}},Ha={style:{"text-align":"center"}},Ma=ka((()=>(0,i._)("br",null,null,-1))),Ta={style:{"text-align":"center","padding-bottom":"5px"}},za={class:"enemy-box"},Ra=["onClick"],Ea=["src"],Aa={key:0},Na={style:{"text-align":"end"}};function Ia(e,t,a,r,n,o){const c=(0,i.up)("Formation"),d=(0,i.up)("InputField"),h=(0,i.up)("MaterialCheckbox"),p=(0,i.up)("Modal"),u=(0,i.Q2)("ripple-effect");return a.camp&&e.campData.team?((0,i.wg)(),(0,i.j4)(p,{key:0,onClose:o.closeModal},{title:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.$t("strings.save_team")),1)])),default:(0,i.w5)((()=>[(0,i._)("div",xa,[(0,i._)("div",Sa,[(0,i.wy)((0,i._)("div",null,[(0,i._)("div",Ca,[(0,i._)("span",null,(0,s.zw)(e.$t("strings.morale"))+": "+(0,s.zw)(e.campData.morale),1)]),(0,i._)("div",Da,[(0,i.Wm)(c,{team:e.campData.team,size:120,editable:!0,add:o.addAndRemove,remove:o.addAndRemove,"remove-original":!1,onAdded:o.calculateMorale,onRemoved:o.calculateMorale},null,8,["team","add","remove","onAdded","onRemoved"]),(0,i._)("div",$a,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(2,(t=>(0,i._)("div",{key:t},[(0,i._)("span",null,[(0,i._)("b",null,(0,s.zw)(o.characterName(e.campData.holder[t-1])),1),(0,i.Uk)(": "+(0,s.zw)(e.$t("strings."+e.campData.topics[t-1])),1)])]))),64))]),(0,i.Wm)(d,{ref:"camp-name-input",modelValue:e.campData.name,"onUpdate:modelValue":t[0]||(t[0]=t=>e.campData.name=t),required:!0,label:e.$t("strings.comp_name")},null,8,["modelValue","label"]),(0,i.Wm)(d,{modelValue:e.campData.description,"onUpdate:modelValue":t[1]||(t[1]=t=>e.campData.description=t),label:e.$t("strings.description")},null,8,["modelValue","label"])])],512),[[l.F8,0===e.currSlide]]),(0,i.wy)((0,i._)("div",null,[(0,i._)("div",Ha,[(0,i._)("h2",null,(0,s.zw)(e.$t("strings.where_to_use_team")),1),Ma]),(0,i._)("div",Ta,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(["labyrinth","azmakalis_normal","azmakalis_hell","azmakalis_nightmare"],(t=>(0,i.Wm)(h,{key:t,color:"rgb(255,20,20)",checked:e.campData.gameMode.includes(t),onChange:e=>o.addGameMode(t),style:{"margin-left":"10px"}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.$t("strings."+t)),1)])),_:2},1032,["checked","onChange"]))),64))]),(0,i.wy)((0,i._)("div",za,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.raidEnemies,(t=>((0,i.wg)(),(0,i.iD)("div",{key:t[0],class:(0,s.C_)(["image-check",{enabled:this.campData.enemy.includes(t[0])}]),onClick:e=>o.addEnemy(t[0])},[(0,i._)("img",{src:t[1]},null,8,Ea),(0,i._)("p",null,(0,s.zw)(e.$t(`strings.${t[0]}`)),1)],10,Ra)))),128)),o.noRaidEnemiesSelected?((0,i.wg)(),(0,i.iD)("div",Aa," Select one or more enemies ")):(0,i.kq)("",!0)],512),[[l.F8,o.isRaidTeam]])],512),[[l.F8,1===e.currSlide]])]),(0,i._)("div",Na,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button basic primary noselect",onClick:t[2]||(t[2]=(...e)=>o.closeModal&&o.closeModal(...e))},[(0,i._)("span",null,(0,s.zw)(e.$t("strings.close")),1)])),[[u]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button basic primary noselect",style:{float:"left"},onClick:t[3]||(t[3]=(...e)=>o.prevSlide&&o.prevSlide(...e))},[(0,i._)("span",null,(0,s.zw)(e.$t("strings.back")),1)])),[[l.F8,e.currSlide>0],[u]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button flat primary noselect",onClick:t[4]||(t[4]=(...e)=>o.nextSlide&&o.nextSlide(...e))},[(0,i._)("span",null,(0,s.zw)(e.$t("strings.next")),1)])),[[l.F8,e.currSlide<e.maxSlides],[u]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button flat confirm noselect",onClick:t[5]||(t[5]=(...e)=>o.save&&o.save(...e))},[(0,i._)("span",null,(0,s.zw)(e.$t("strings.save")),1)])),[[l.F8,e.currSlide===e.maxSlides],[u]])])])])),_:1},8,["onClose"])):(0,i.kq)("",!0)}var Oa=a(5435);const La=["onClick"],Ba={style:{position:"relative",height:"100%",width:"100%"}},Pa={key:1,class:"focus-icon"},Fa=["src"],Ua={key:0,class:"focus-icon"},ja=["src"],qa={key:1,class:"focus-icon"},Wa=["src"];function Ya(e,t,l,r,n,o){const c=(0,i.up)("HeroIcon");return(0,i.wg)(),(0,i.iD)("div",{class:"team-comp",style:(0,s.j5)({fontSize:this.boxSize+"px"}),tabindex:"-1",onBlur:t[0]||(t[0]=(...e)=>o.blur&&o.blur(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.positionSlots,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:e,class:(0,s.C_)(["team-pos-cont",e]),onClick:e=>o.clickSlot(e,t)},[(0,i._)("div",Ba,[l.team[t]?((0,i.wg)(),(0,i.j4)(c,{class:"hero-icon-pos",key:l.team[t],hero:l.team[t],hover:!1,size:.65*o.boxSize,showrole:!0,showname:!1,removable:!1,lazylaod:!1,style:{padding:"0"}},null,8,["hero","size"])):l.add?((0,i.wg)(),(0,i.iD)("div",Pa,[(0,i._)("img",{src:a(6263)},null,8,Fa)])):(0,i.kq)("",!0),void 0!==this.focused?((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[this.focused!==t?((0,i.wg)(),(0,i.iD)("div",Ua,[(0,i._)("img",{src:a(5847)},null,8,ja)])):o.canRemove(this.team[t])?((0,i.wg)(),(0,i.iD)("div",qa,[(0,i._)("img",{src:a(7738)},null,8,Wa)])):(0,i.kq)("",!0)],64)):(0,i.kq)("",!0)])],10,La)))),128))],36)}function Za(e,t,a){var i=a[t];a[t]=a[e],a[e]=i}var Ka={name:"team-comp",props:{team:{default:()=>[]},size:{default:100},editable:{default:!0},add:{default:!1},remove:{default:!1},removeOriginal:{default:!1}},data:function(){return{positionSlots:["right","top","left","bottom"],focused:void 0,originalCopy:(0,Z.IU)(this.team).slice()}},computed:{boxSize:function(){return this.size}},methods:{canRemove(e){return this.remove&&(this.removeOriginal||!this.originalCopy.includes(e))},clickSlot:function(e,t){if(e.stopPropagation(),this.editable){if(this.add&&void 0===this.focused&&!this.team[t])return this.addToSlot(t);void 0===this.focused?this.focused=t:(t===this.focused&&this.canRemove(this.team[t])?this.removeFromTeam(t):Za(this.focused,t,this.team),this.focused=void 0)}},addToSlot(e){var t="cecilia";this.team[e]=t,this.$emit("added",t)},removeFromTeam:function(e){var t=this.team[e];this.team.splice(e,1,void 0),this.$emit("removed",t)},blur:function(){this.focused=void 0}}};const Qa=(0,q.Z)(Ka,[["render",Ya],["__scopeId","data-v-9dc8471a"]]);var Ga=Qa;const Va=["type","required","value"],Ja={class:"label"},Xa=(0,i._)("span",{class:"focus-bg"},null,-1);function ei(e,t,a,l,r,n){const o=(0,i.Q2)("ripple-effect");return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",(0,i.dG)({class:"input-field"},r.bindingAttrs.attrs),[(0,i._)("input",(0,i.dG)({type:a.type,placeholder:"Â ",required:a.required,value:a.modelValue},r.bindingAttrs.listeners,{onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),onBlur:t[1]||(t[1]=(...e)=>n.checkIfFilled&&n.checkIfFilled(...e))}),null,16,Va),(0,i._)("label",Ja,(0,s.zw)(a.placeholder||a.label),1),Xa],16)),[[o]])}var ti={emits:["update:modelValue"],inheritAttrs:!1,props:{modelValue:String,placeholder:String,label:String,required:Boolean,type:{default:"text"}},data(){return{bindingAttrs:{}}},created(){var e={listeners:{},attrs:{}};for(var t in this.$attrs)/^on/.test(t)?e.listeners[t]=this.$attrs[t]:e.attrs[t]=this.$attrs[t];this.bindingAttrs=e},methods:{focus(){this.$el.querySelector("input").focus()},error(){this.$el.classList.add("error")},checkIfFilled(e){this.required&&(e.target.value?e.target.parentNode.classList.remove("error"):e.target.parentNode.classList.add("error"))}}};const ai=(0,q.Z)(ti,[["render",ei]]);var ii=ai;const si=["checked"];function li(e,t,a,s,l,r){return(0,i.wg)(),(0,i.iD)("label",(0,i.dG)({class:"pure-material-checkbox"},l.bindingAttrs.attrs),[(0,i._)("input",(0,i.dG)({type:"checkbox",checked:a.modelValue||a.checked,onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},l.bindingAttrs.listeners),null,16,si),(0,i._)("span",null,[(0,i.WI)(e.$slots,"default")])],16)}var ri={emits:["update:modelValue"],inheritAttrs:!1,props:{modelValue:String,checked:Boolean,required:Boolean,color:String},data(){return{bindingAttrs:{}}},created(){var e={listeners:{},attrs:{}};for(var t in this.$attrs)/^on/.test(t)?e.listeners[t]=this.$attrs[t]:e.attrs[t]=this.$attrs[t];this.bindingAttrs=e},methods:{focus(){this.$el.querySelector("input").focus()},error(){this.$el.classList.add("error")},checkIfFilled(e){this.required&&(e.target.value?e.target.parentNode.classList.remove("error"):e.target.parentNode.classList.add("error"))}}};const ni=(0,q.Z)(ri,[["render",li]]);var oi=ni;const ci=[["queen","https://cdn.glitch.com/97cf5510-4561-4fba-a2bd-849e3aed02ba%2FQueen-Azumashik-284x300.png?v=1590932065337"],["vera","https://cdn.glitch.com/97cf5510-4561-4fba-a2bd-849e3aed02ba%2FSecretary-Vera-284x300.png?v=1590932064989"],["juleeve","https://cdn.glitch.com/97cf5510-4561-4fba-a2bd-849e3aed02ba%2FJuleeve-284x300.png?v=1590932065054"],["karkanis","https://cdn.glitch.com/97cf5510-4561-4fba-a2bd-849e3aed02ba%2FKarkanis-284x300.png?v=1590932065109"],["arakahan","https://cdn.glitch.com/97cf5510-4561-4fba-a2bd-849e3aed02ba%2FDevourer-Arakahan-284x300.png?v=1590932064956"]];var di={components:{Modal:Oa.Z,Formation:Ga,InputField:ii,MaterialCheckbox:oi},props:["camp","editable","isnew"],data:function(){return{campData:{},currSlide:0,maxSlides:1,raidEnemies:ci}},watch:{camp:{immediate:!0,handler(e){this.copyData(e),this.currSlide=0}}},computed:{isRaidTeam:function(){return["azmakalis_normal","azmakalis_hell","azmakalis_nightmare"].some((e=>this.campData.gameMode.includes(e)))},addAndRemove(){return!1},noRaidEnemiesSelected(){return this.isRaidTeam&&!this.campData.enemy.length}},methods:{keyboardEnter(e){"Enter"===e.code&&this.nextSlide()},nextSlide(){return 0!==this.currSlide||this.campData.name?1!==this.currSlide?this.currSlide++:void this.save():this.$refs["camp-name-input"].error()},prevSlide(){return this.currSlide--},closeModal(){this.copyData({}),this.currSlide=0,this.$emit("close")},save(){if(this.noRaidEnemiesSelected)return this.$snackbar.error({title:"Please select at least one enemy"});this.campData.id=Date.now(),this.$emit("save",JSON.parse(JSON.stringify(this.campData)))},characterName:function(e){return this.$store.getters.getHeroName(e)},copyData:function(e){e=e||{},this.campData=JSON.parse(JSON.stringify(e)),this.campData.morale=this.campData.morale||0,this.campData.name=this.campData.name||"",this.campData.description=this.campData.description||"",this.campData.team=this.campData.team||[],this.campData.holder=this.campData.holder||[],this.campData.topics=this.campData.topics||[],this.campData.enemy=this.campData.enemy||[],this.campData.gameMode=this.campData.gameMode||[],this.campData.uploaded=!0},addEnemy(e){var t=this.campData.enemy.indexOf(e);-1!==t?this.campData.enemy.splice(t,1):this.campData.enemy.push(e)},addGameMode(e){var t=this.campData.gameMode.indexOf(e);-1!==t?this.campData.gameMode.splice(t,1):this.campData.gameMode.push(e),this.isRaidTeam||(this.campData.enemy=[])},calculateMorale(){}}};const hi=(0,q.Z)(di,[["render",Ia],["__scopeId","data-v-7a53b4f8"]]);var pi=hi;const ui={key:0,class:"pagination"},mi={class:"pagination-item"},gi=["disabled"],fi={class:"pagination-item"},yi=["disabled"],bi=["onClick","disabled","aria-label"],vi={class:"pagination-item"},wi=["disabled"],_i={class:"pagination-item"},ki=["disabled"];function xi(e,t,a,l,r,n){const o=(0,i.Q2)("ripple-effect");return a.totalPages>1?((0,i.wg)(),(0,i.iD)("ul",ui,[(0,i._)("li",mi,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{type:"button",class:"material-button flat basic",onClick:t[0]||(t[0]=(...e)=>n.onClickFirstPage&&n.onClickFirstPage(...e)),disabled:n.isInFirstPage,"aria-label":"Go to first page"},[(0,i.Uk)(" << ")],8,gi)),[[o]])]),(0,i._)("li",fi,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{type:"button",class:"material-button flat basic",onClick:t[1]||(t[1]=(...e)=>n.onClickPreviousPage&&n.onClickPreviousPage(...e)),disabled:n.isInFirstPage,"aria-label":"Go to previous page"},[(0,i.Uk)(" < ")],8,yi)),[[o]])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.pages,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e,class:"pagination-item"},[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{type:"button",onClick:t=>n.onClickPage(e.name),disabled:e.isDisabled,class:(0,s.C_)(["material-button flat basic",{activePage:n.isPageActive(e.name)}]),"aria-label":`Go to page number ${e.name}`},[(0,i.Uk)((0,s.zw)(e.name),1)],10,bi)),[[o]])])))),128)),(0,i._)("li",vi,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{type:"button",class:"material-button flat basic",onClick:t[2]||(t[2]=(...e)=>n.onClickNextPage&&n.onClickNextPage(...e)),disabled:n.isInLastPage,"aria-label":"Go to next page"},[(0,i.Uk)(" > ")],8,wi)),[[o]])]),(0,i._)("li",_i,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{type:"button",class:"material-button flat basic",onClick:t[3]||(t[3]=(...e)=>n.onClickLastPage&&n.onClickLastPage(...e)),disabled:n.isInLastPage,"aria-label":"Go to last page"},[(0,i.Uk)(" >> ")],8,ki)),[[o]])])])):(0,i.kq)("",!0)}var Si={name:"PaginationComponent",template:"#pagination",props:{maxVisibleButtons:{type:Number,required:!1,default:4},totalPages:{type:Number,required:!0},total:{type:Number,required:!0},perPage:{type:Number,required:!0},currentPage:{type:Number,required:!0}},computed:{pages(){const e=[];var t=0,a=0,i=this.currentPage+Math.floor(this.maxVisibleButtons/2),s=this.currentPage-Math.ceil(this.maxVisibleButtons/2);i>this.totalPages&&(a=i-this.totalPages,i=this.totalPages),s<1&&(t=Math.abs(1-s),s=1),i+=t,s-=a,i>this.totalPages&&(i=this.totalPages),s<1&&(s=1);for(let l=s;l<=i;l+=1)l>0&&e.push({name:l,isDisabled:l===this.currentPage});return e},isInFirstPage(){return 1===this.currentPage},isInLastPage(){return this.currentPage===this.totalPages}},methods:{onClickFirstPage(){this.$emit("pagechanged",1)},onClickPreviousPage(){this.$emit("pagechanged",this.currentPage-1)},onClickPage(e){this.$emit("pagechanged",e)},onClickNextPage(){this.$emit("pagechanged",this.currentPage+1)},onClickLastPage(){this.$emit("pagechanged",this.totalPages)},isPageActive(e){return this.currentPage===e}}};const Ci=(0,q.Z)(Si,[["render",xi],["__scopeId","data-v-6524d05c"]]);var Di=Ci,$i={components:{SaveModal:pi,Pagination:Di},props:{results:{type:Array,default:()=>[]}},watch:{results(){this.page=1},page(){this.$el&&this.$el.scrollTo&&this.$el.parentNode.parentNode.scrollTo(0,0)}},computed:{displayResults(){var e=this.page-1;return this.results.slice(25*e,25*e+25)},pages(){return Math.ceil(this.results.length/25)}},data(){return{page:1,openResult:null}},methods:{getHeroName(e){return this.$store.getters.getHeroName(e)},changeResultsPage(e){this.page=e},openSaveModal(e){this.openResult=e},closeSaveModal(){this.openResult=null},saveCamp(e){this.$emit("save-team",e),this.closeSaveModal()}}};const Hi=(0,q.Z)($i,[["render",_a],["__scopeId","data-v-f96f8b16"]]);var Mi=Hi;const Ti={class:"dungeon-title"},zi=["innerHTML"],Ri=["data-src","onClick"],Ei={class:"map-name"};function Ai(e,t,a,l,r,n){const o=(0,i.Q2)("lazyloader");return(0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.maps,((t,a)=>((0,i.wg)(),(0,i.iD)("div",{key:a,class:"map-container",style:(0,s.j5)({backgroundColor:t.background})},[(0,i._)("div",Ti,(0,s.zw)(e.$t("strings."+t.name)),1),(0,i._)("div",{style:{"text-align":"center"},innerHTML:t["description_"+n.lang]||t["description_en"]},null,8,zi),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t[n.lang]||t["en"]||[],((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:"image-container noselect",style:(0,s.j5)({minWidth:e.size?200/e.size[1]*e.size[0]+"px":"200px",minHeight:"200px"})},[(0,i.wy)((0,i._)("img",{"data-src":e.src,SameSite:"Lax",style:{opacity:"0"},onClick:e=>n.openImage(a,t)},null,8,Ri),[[o]]),(0,i._)("span",Ei,(0,s.zw)(e.description),1)],4)))),128))],4)))),128))])}var Ni=[{name:"azmakalis",background:"rgba(255, 0, 0, 0.133)",en:[{src:"https://ceciliabot.github.io/img/Raid-Normal_en.png",description:"Normal Raid Map",author:"",size:[1398,1080]},{src:"https://ceciliabot.github.io/img/Raid-Hell_en.png",description:"Hell Raid Map",author:'<a href="https://www.reddit.com/user/C0NNECT1NG/">u/C0NNECT1NG</a> (<a href="https://www.reddit.com/r/EpicSeven/comments/flg4b1/complete_hell_raid_map/">Reddit post</a>)',size:[1101,1080]}],zh:[{src:"https://raw.githubusercontent.com/CeciliaBot/CeciliaBot.github.io/master/img/Raid-Normal_zht.png",description:"",author:"",size:[1398,1080]},{src:"https://raw.githubusercontent.com/CeciliaBot/CeciliaBot.github.io/master/img/Raid-Hell_zht.png",description:"",author:"",size:[799,593]}]},{name:"nixied_sanctum",background:"rgba(15, 255, 255, 0.133)",description_en:'Nixied\'s maps by game8. They have a full guide here:<br><a href ="https://game8.co/games/Epic-Seven/archives/284193">https://game8.co/games/Epic-Seven/archives/284193</a>',en:[{src:"https://img.game8.co/3235580/df915e10aa933192c93773c9ee67c6ed.png/original",description:"Nixied 1",author:'<a href="https://game8.co/games/Epic-Seven/archives/284193">game8</a>',size:[956,711]},{src:"https://img.game8.co/3238837/41e580783640902df84ad4154d45b02b.png/original",description:"Nixied 2",author:'<a href="https://game8.co/games/Epic-Seven/archives/284193">game8</a>',size:[1e3,1009]},{src:"https://img.game8.co/3240084/c9d0e19e6d97cfc31f10c9c0f2381a73.png/original",description:"Nixied 3",author:'<a href="https://game8.co/games/Epic-Seven/archives/284193">game8</a>',size:[1e3,836]},{src:"https://img.game8.co/3258768/0dbd22118596b848cbe378e9eec42e13.jpeg/original",description:"Nixied 4",author:'<a href="https://game8.co/games/Epic-Seven/archives/284193">game8</a>',size:[2050,2160]},{src:"https://img.game8.co/3259720/8a3f4a32a2ae7ffce3cf23bf25d75511.jpeg/original",description:"Nixied 5",author:'<a href="https://game8.co/games/Epic-Seven/archives/284193">game8</a>',size:[2318,2160]}]}],Ii={data(){return{maps:Ni}},renderTriggered(e){console.log("Maps",e)},computed:{lang:function(){return this.$i18n.locale||"en"}},methods:{openImage(e,t){this.$gallery(this.maps[e][this.lang]||this.maps[e]["en"]||[],t)}}};const Oi=(0,q.Z)(Ii,[["render",Ai],["__scopeId","data-v-67433fa8"]]);var Li=Oi;const Bi={style:{"text-align":"center"}},Pi={class:"flex-center"};function Fi(e,t,a,l,r,n){const o=(0,i.up)("Card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("h1",Bi,(0,s.zw)(e.$t("strings.your_teams")),1),(0,i._)("div",Pi,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.teams,(e=>((0,i.wg)(),(0,i.j4)(o,{key:e,team:e,onDelete:n.deleteTeam},null,8,["team","onDelete"])))),128))])])}const Ui={class:"team-card"},ji=(0,i._)("i",{class:"fa fa-trash"},null,-1),qi=[ji],Wi={key:0,class:"far fa-heart"},Yi={class:"morale-box"},Zi={class:"topic-box"};function Ki(e,t,a,l,r,n){const o=(0,i.up)("TeamFormation"),c=(0,i.Q2)("tooltip");return(0,i.wg)(),(0,i.iD)("div",Ui,[(0,i._)("h1",{class:(0,s.C_)([a.team.gameMode.join(" ")]),style:(0,s.j5)({"background-image":n.backgroundImages})},[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"options",onClick:t[0]||(t[0]=(...e)=>n.deleteTeam&&n.deleteTeam(...e))},qi)),[[c,()=>e.$t("strings.delete")]]),(0,i._)("span",null,["friendship"===a.team._type?((0,i.wg)(),(0,i.iD)("i",Wi)):(0,i.kq)("",!0),(0,i.Uk)((0,s.zw)(a.team.name),1)])],6),(0,i._)("div",null,[(0,i.Wm)(o,{team:a.team.team,editable:!1,add:!1,remove:!1},null,8,["team"]),(0,i._)("div",Yi,(0,s.zw)(e.$t("strings.morale"))+": "+(0,s.zw)(a.team.morale),1),(0,i._)("div",Zi,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(2,(t=>(0,i._)("div",{key:a.team.id+"topic"+t},[(0,i._)("span",null,[(0,i._)("b",null,(0,s.zw)(n.getHeroName(a.team.holder[t-1])),1),(0,i.Uk)(": "+(0,s.zw)(e.$t("strings."+a.team.topics[t-1])),1)])]))),64))]),(0,i._)("div",null,(0,s.zw)(a.team.description),1)])])}var Qi={emits:["delete"],components:{TeamFormation:Ga},props:{team:{type:Object,default:()=>{}}},computed:{backgroundImages(){return ci.filter((e=>this.team.enemy.includes(e[0]))).map((e=>"url("+e[1]+")")).join(", ")}},methods:{getHeroName:function(e){return this.$store.getters.getHeroName(e)},deleteTeam(){this.$emit("delete",this.team)}}};const Gi=(0,q.Z)(Qi,[["render",Ki]]);var Vi=Gi,Ji={name:"saved-teams",components:{Card:Vi},props:{teams:{type:Array,default:()=>[]}},data(){return{localTeams:this.teams}},methods:{deleteTeam:function(e){this.$promiseAlert(this.$t("strings.delete"),this.$t("strings.delete_confirm",[e.name]),[{name:this.$t("strings.confirm"),class:"material-button basic warn noselect"},this.$t("strings.cancel")]).then((t=>{0===t[0]&&this.$emit("delete-team",e)})).catch((()=>{}))}}};const Xi=(0,q.Z)(Ji,[["render",Fi]]);var es=Xi;const ts=e=>((0,i.dD)("data-v-1b21361b"),e=e(),(0,i.Cn)(),e),as={style:{"max-width":"980px",margin:"auto"}},is=ts((()=>(0,i._)("h1",null,"Usage Data",-1))),ss={class:"flex noselect text-center",style:{background:"var(--background-modifier-darken-alpha)"}},ls=ts((()=>(0,i._)("br",null,null,-1))),rs=ts((()=>(0,i._)("i",{class:"fa fa-sync fa-spin"},null,-1))),ns=[rs],os={class:"text-center",style:{width:"100%","white-space":"nowrap","border-collapse":"collapse"}},cs=ts((()=>(0,i._)("th",{style:{width:"58%"}},null,-1))),ds=["onClick"],hs={key:0},ps={key:1},us={class:"relative mat-hover overflow-hidden"},ms={key:0,class:"text-center"},gs={key:1,class:"text-center"},fs=["src"],ys=ts((()=>(0,i._)("br",null,null,-1))),bs={class:"text-center",style:{"font-size":"12px","margin-top":"10px"}},vs=ts((()=>(0,i._)("br",null,null,-1))),ws=ts((()=>(0,i._)("br",null,null,-1)));function _s(e,t,l,r,n,o){const c=(0,i.up)("HeroIcon"),d=(0,i.up)("CharacterSelect"),h=(0,i.up)("SaveTeamModal"),p=(0,i.up)("OldStats"),u=(0,i.Q2)("ripple-effect");return(0,i.wg)(),(0,i.iD)("div",as,[is,(0,i._)("div",null,[(0,i._)("div",ss,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"flex-fill flex flex-center relative overflow-hidden border-thin mat-hover pointer",onClick:t[0]||(t[0]=(...e)=>o.selectTypeDropdown&&o.selectTypeDropdown(...e))},[(0,i.Uk)(" Data type:"),ls,(0,i.Uk)(" "+(0,s.zw)(e.$t("strings."+n.fetchOptions.type)),1)])),[[u]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"flex-fill flex flex-center relative overflow-hidden border-thin mat-hover pointer",onClick:t[1]||(t[1]=(...e)=>o.selectSortingDropdown&&o.selectSortingDropdown(...e))},[(0,i.Uk)((0,s.zw)(e.$t("strings.sort"))+" ("+(0,s.zw)(n.fetchOptions.gamemode.length)+") ",1)])),[[u]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"flex-fill flex flex-center relative overflow-hidden border-thin mat-hover pointer",onClick:t[2]||(t[2]=(...e)=>o.openCharacterSelect&&o.openCharacterSelect(...e))},[(0,i.Uk)((0,s.zw)(o.displayFilterHeroName),1)])),[[u]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"flex-fill flex flex-center relative overflow-hidden border-thin mat-hover pointer",onClick:t[3]||(t[3]=(...e)=>o.fetchData&&o.fetchData(...e)),style:{"background-color":"var(--font-color-confirm)",color:"white"}},[(0,i._)("div",{style:(0,s.j5)({opacity:n.isFetching?1:0,marginRight:"5px"})},ns,4),(0,i.Uk)(" Get Data! ")])),[[u]])])]),(0,i._)("table",os,[(0,i._)("thead",null,[(0,i._)("th",null,(0,s.zw)(e.$t("strings."+n.fetchOptions.type)),1),cs,(0,i._)("th",null,(0,s.zw)(e.$t("strings.morale")),1),(0,i._)("th",null,(0,s.zw)(e.$t("strings.team")),1)]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.toDisplay,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i.wy)(((0,i.wg)(),(0,i.iD)("td",{class:"relative mat-hover pointer overflow-hidden",onClick:t=>o.saveTeam(e.team)},[e.team?((0,i.wg)(),(0,i.iD)("div",hs,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.team,(e=>((0,i.wg)(),(0,i.j4)(c,{key:e,hero:e,hover:!1,size:55},null,8,["hero"])))),128))])):((0,i.wg)(),(0,i.iD)("div",ps,[(0,i.Wm)(c,{hero:e.id,hover:!1,size:55},null,8,["hero"])]))],8,ds)),[[u]]),(0,i._)("td",null,[(0,i._)("div",{class:"usage-bar",style:(0,s.j5)({width:e.rate+"%"})},null,4)]),(0,i._)("td",null,(0,s.zw)(e.morale),1),(0,i._)("td",us,(0,s.zw)(e.value),1)])))),128))])]),n.showHelp?((0,i.wg)(),(0,i.iD)("div",ms,' Use the buttons at the top of the page to filter the data you want then click "Get Data!" to display the results ')):n.fetchError?((0,i.wg)(),(0,i.iD)("div",gs,[(0,i._)("img",{src:a(8890),style:{height:"200px"}},null,8,fs),ys,(0,i.Uk)(" Ops... Something went wrong ")])):(0,i.kq)("",!0),(0,i._)("div",bs,[(0,i._)("i",null,[(0,i.Uk)(" The data provided here does not represent the actual in-game character usage or clear rate. "),vs,(0,i.Uk)(" The data is collected when a user saves a team on this website. No personal data is collected. "),ws,(0,i.Uk)(" The data has been reset on 2022/11/18. You can access the old data by clicking "),(0,i._)("span",{onClick:t[4]||(t[4]=e=>n.oldStatsModal=!0),class:"pointer",style:{color:"purple"}},"here"),(0,i.Uk)(". ")])]),n.characterSelect?((0,i.wg)(),(0,i.j4)(d,{key:2,list:l.availableHeroes,selected:n.fetchOptions.hero?[n.fetchOptions.hero]:[],max:1,onClose:o.closeCharacterSelect,onSelected:o.saveAndCloseCharacterSelect},null,8,["list","selected","onClose","onSelected"])):(0,i.kq)("",!0),(0,i.Wm)(h,{camp:n.openTeamSave,onClose:o.closeSaveTeamModal,onSave:o.saveCamp},null,8,["camp","onClose","onSave"]),n.oldStatsModal?((0,i.wg)(),(0,i.j4)(p,{key:3,onClose:t[5]||(t[5]=e=>n.oldStatsModal=!1)})):(0,i.kq)("",!0)])}const ks={class:"flex"},xs={key:0},Ss={key:1},Cs={key:2,style:{margin:"auto"}};function Ds(e,t,a,l,r,n){const o=(0,i.up)("HeroIcon"),c=(0,i.up)("Modal"),d=(0,i.Q2)("ripple-effect");return(0,i.wg)(),(0,i.j4)(c,{onClose:t[2]||(t[2]=t=>e.$emit("close"))},{title:(0,i.w5)((()=>[(0,i.Uk)("Hero Usage Data (OLD)")])),default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i._)("div",ks,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"flex-fill pointer relative overflow-hidden mat-hover",onClick:t[0]||(t[0]=e=>r.toDisplay="team")},[(0,i.Uk)((0,s.zw)(e.$t("strings.team")),1)])),[[d]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"flex-fill pointer relative overflow-hidden mat-hover",onClick:t[1]||(t[1]=e=>r.toDisplay="hero")},[(0,i.Uk)((0,s.zw)(e.$t("strings.hero")),1)])),[[d]])]),r.response.totale?((0,i.wg)(),(0,i.iD)("div",xs,"Total number of teams in the database: "+(0,s.zw)(r.response.totale||0),1)):(0,i.kq)("",!0),r.fetching?((0,i.wg)(),(0,i.iD)("div",Ss,"Getting data...")):((0,i.wg)(),(0,i.iD)("table",Cs,[(0,i._)("thead",null,[(0,i._)("th",null,(0,s.zw)(e.$t("strings.team")),1),(0,i._)("th",null,(0,s.zw)(e.$t("strings.morale")),1),(0,i._)("th",null,(0,s.zw)(e.$t("strings.teams")),1)]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.displayData,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[(0,i._)("td",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.team,(e=>((0,i.wg)(),(0,i.j4)(o,{key:e,hero:e,showrole:!1,hover:!1,size:50},null,8,["hero"])))),128))]),(0,i._)("td",null,(0,s.zw)(e.morale),1),(0,i._)("td",null,(0,s.zw)(e.usi)+" ("+(0,s.zw)(Math.round(100*(e.usi/r.response.totale*100+Number.EPSILON))/100)+"%) ",1)])))),128))])]))])])),_:1})}var $s=a(2784),Hs={components:{Modal:Oa.Z},data(){return{fetching:!0,fetchError:!1,toDisplay:"team",response:{data:[],characters:[]}}},computed:{displayData(){return"team"===this.toDisplay?this.response.data:this.response.characters}},created(){(0,$s.Z)("https://ceciliabotgithub.glitch.me/team_statistics").then((e=>{e=JSON.parse(e),e.data=e.data.slice(0,200),e.characters.forEach((e=>{e.team=[e.character]})),this.response=e})).catch((e=>{this.fetchError=e})).then((()=>{this.fetching=!1}))}};const Ms=(0,q.Z)(Hs,[["render",Ds],["__scopeId","data-v-c2459f40"]]);var Ts,zs=Ms,Rs={},Es={},As={};let Ns=0;function Is(e,t){Ts||Fs();const a=Ns++,i={id:a,payload:e};return new Promise((function(e,s){Rs[a]=e,Es[a]=s,As[a]=t,Ts.postMessage(i)}))}function Os(e){const{id:t,error:a,update:i,data:s}=e.data;if(s){const e=Rs[t];e(s),delete Rs[t],delete Es[t],delete As[t]}else if(i)As[t]&&As[t](i);else if(a){const e=Es[t];e&&(a?(console.log(a),e(a)):e("Got nothing")),delete Rs[t],delete Es[t],delete As[t]}}var Ls=e=>{Os(e)};function Bs(){Rs={},Es={},As={},Ns=0,Ts=new Worker(new URL(a.p+a.u(610),a.b)),Ts.onmessage=function(e){Ls(e)}}function Ps(){Object.keys(Es).forEach((e=>{Es[e]("operation_aborted"),delete Es[e]})),Ts&&Ts.terminate(),Ts=null}function Fs(){Ps(),Bs()}var Us={components:{CharacterSelect:sa,SaveTeamModal:pi,OldStats:zs},props:{availableHeroes:Array},data(){return{isFetching:!1,fetchError:!1,showHelp:!0,characterSelect:!1,openTeamSave:!1,oldStatsModal:!1,toDisplay:[],fetchOptions:{type:"team",hero:"",enemy:[],gamemode:[]}}},created(){},computed:{displayFilterHeroName(){return this.fetchOptions.hero?this.$store.getters.getHeroName(this.fetchOptions.hero)+" Ã—":"Select a character"}},methods:{fetchData(){this.isFetching||(this.isFetching=!0,this.fetchError=!1,this.showHelp=!1,(0,$s.Z)("https://ceciliabotgithub.glitch.me/ceciliabot-team-usage","POST",JSON.stringify({function:"get",data:(0,Z.IU)(this.fetchOptions)})).then((e=>{this.toDisplay=JSON.parse(e)})).catch((e=>{console.error(e),this.fetchError=!0})).then((()=>{this.isFetching=!1})))},openCharacterSelect(){this.fetchOptions.hero?this.fetchOptions.hero="":this.characterSelect=!0},closeCharacterSelect(){this.characterSelect=!1},saveAndCloseCharacterSelect(e){console.log(e),this.fetchOptions.hero=e[0]||!1,this.closeCharacterSelect()},saveTeam(e){e&&Is({message:"MORALE",HeroDB:(0,Z.IU)(this.$store.getters.getHeroDB()),roster:(0,Z.IU)(e),locked:[],advanced:{}}).then((e=>{this.openTeamSave=e[0]})).catch((e=>{this.$snackbar.error({title:e})}))},closeSaveTeamModal(){this.openTeamSave=!1},saveCamp(e){this.$emit("save-team",e)},dropdownPosition(e){e.stopPropagation(),e.preventDefault();let t=(e.currentTarget||e.target).getBoundingClientRect();return{clientX:t.left,clientY:t.bottom+5}},selectTypeDropdown(e){return this.$contextmenu(this.dropdownPosition(e),[{class:"team"===this.fetchOptions.type?"fa fa-check":null,name:this.$t("strings.team"),handler:()=>{this.fetchOptions.type="team"}},{class:"hero"===this.fetchOptions.type?"fa fa-check":null,name:this.$t("strings.hero"),handler:()=>{this.fetchOptions.type="hero"}}],{mobile:!1})},selectSortingDropdown(e){return this.$contextmenu(this.dropdownPosition(e),[{class:this.fetchOptions.gamemode.length?"":"fa fa-check",name:"Any",handler:()=>{this.fetchOptions.gamemode=[],this.fetchOptions.enemy=[]}},{class:this.fetchOptions.gamemode.includes("lab")?"fa fa-check":"",name:this.$t("strings.labyrinth"),handler:()=>{this.fetchOptions.gamemode=["lab"]}},...[["az_hell","azmakalis_hell"],["az_night","azmakalis_nightmare"],["az_normal","azmakalis_normal"]].map((e=>{var t=this.fetchOptions.gamemode.includes(e[0]);return{class:t?"fa fa-check":null,name:this.$t("strings."+e[1]),children:[{class:t&&!this.fetchOptions.enemy.length?"fa fa-check":void 0,name:"Overall",handler:()=>{this.fetchOptions.gamemode=[e[0]],this.fetchOptions.enemy=[]}},...ci.map((a=>{var i=t&&this.fetchOptions.enemy.includes(a[0]);return{class:i?"fa fa-check":void 0,img:i?void 0:a[1],name:this.$t("strings."+a[0]),handler:()=>{this.fetchOptions.gamemode=[e[0]],this.fetchOptions.enemy=[a[0]]}}}))]}})).flat()],{mobile:!1})}}};const js=(0,q.Z)(Us,[["render",_s],["__scopeId","data-v-1b21361b"]]);var qs=js;function Ws(e,t,a,s,l,r){const n=(0,i.up)("SettingsLayout");return(0,i.wg)(),(0,i.j4)(n,{settings:r.options},null,8,["settings"])}const Ys={style:{"max-width":"600px",margin:"auto",padding:"0 10px"}},Zs={key:0},Ks=(0,i._)("i",{class:"fa fa-angle-left",style:{"padding-right":"0.3em"}},null,-1),Qs={style:{margin:"10px 0"}},Gs=["onClick"],Vs=["innerHTML"],Js={style:{flex:"1","padding-right":"15px"}},Xs=["innerHTML"],el={key:1,class:"fa fa-angle-right"};function tl(e,t,a,l,r,n){const o=(0,i.up)("SliderCheckbox"),c=(0,i.Q2)("ripple-effect");return(0,i.wg)(),(0,i.iD)("div",Ys,[(0,i._)("h1",null,[e.subMenu.length?(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{key:1,class:"material-button basic primary",style:{"line-height":"0",padding:"3px 10px","font-size":"inherit"},onClick:t[0]||(t[0]=(...e)=>n.backButton&&n.backButton(...e))},[Ks,(0,i._)("span",null,(0,s.zw)(this.$t("strings."+e.subMenuName[0])),1)])),[[c]]):((0,i.wg)(),(0,i.iD)("span",Zs,(0,s.zw)(e.$t("strings.settings")),1))]),(0,i._)("div",Qs,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.currentMenu,((t,a)=>((0,i.wg)(),(0,i.iD)("div",{key:e.subMenu.join("-")+"-"+a,class:"settings-group noselect"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t,((t,l)=>(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:"option"+l,class:"settings-row mat-hover",onClick:e=>n.optionClick(e,t,a,l)},[(0,i._)("span",{class:"icon",style:(0,s.j5)({color:t.iconColor}),innerHTML:t.icon},null,12,Vs),(0,i._)("div",Js,[(0,i._)("div",null,(0,s.zw)(e.$t("strings."+t.name)),1),(0,i._)("div",{class:"description",innerHTML:e.$t("strings."+t.description)},null,8,Xs)]),t.slider?((0,i.wg)(),(0,i.j4)(o,{key:0,value:t.value},null,8,["value"])):t.children?((0,i.wg)(),(0,i.iD)("i",el)):(0,i.kq)("",!0)],8,Gs)),[[c]]))),128))])))),128))])])}a(541);var al=a(4958),il={name:"SettingsLayout",components:{SliderCheckbox:al.Z},props:{settings:{required:!0,type:Array}},data:function(){return{subMenu:[],subMenuName:[],privacyPolicy:{}}},computed:{currentMenu(){var e=this.subMenu.slice(),t=this.settings;while(e.length>0)t=this.getSubSettings(t,e[0]),e.shift();return t}},methods:{getSubSettings(e,t){var a=e[t];return a instanceof Object&&a.children?a.children:a},optionClick(e,t,a,i){t.slider&&(t.value=!t.value),t.handler?t.handler(e,t):t.children&&(this.subMenuName.unshift(t.name),this.subMenu.push(a),this.subMenu.push(i))},backButton(){this.subMenuName.shift(),this.subMenu.splice(-2)}}};const sl=(0,q.Z)(il,[["render",tl]]);var ll=sl,rl={name:"CampingSettings",components:{SettingsLayout:ll},props:{settings:{type:Object}},data:function(){return{localSettings:this.settings}},computed:{options(){return[[{name:"light_theme",description:"light_theme_desc",icon:'<i class="fa fa-sun" />',slider:!0,value:"light"===this.settings.theme,handler:()=>{this.localSettings.theme="light"===this.localSettings.theme?"dark":"light",document.querySelector("html").setAttribute("data-theme",this.localSettings.theme)}},{name:"force_vert_toolbar",description:"force_vert_toolbar_desc",icon:'<i class="fa fa-icons" />',slider:!0,value:this.settings.verticalToolbar,handler:()=>{this.localSettings.verticalToolbar=!this.localSettings.verticalToolbar}},{name:"bottom_searchbar",description:"bottom_searchbar_desc",icon:'<i class="fa fa-filter" />',slider:!0,value:this.settings.searchbarToBottom,handler:()=>{this.localSettings.searchbarToBottom=!this.localSettings.searchbarToBottom}},{name:"ui_icons",description:"ui_icons_desc",icon:'<i class="fa fa-theater-masks" />',children:[[{name:"show_name",description:"show_name_desc",icon:'<i class="fa fa-tag" />',slider:!0,value:this.settings.showHeroName,handler:()=>{this.localSettings.showHeroName=!this.localSettings.showHeroName}},{name:"show_role_attr",description:"show_role_attr_desc",icon:'<i class="fa fa-snowflake" />',slider:!0,value:this.settings.showHeroAttrRole,handler:()=>{this.localSettings.showHeroAttrRole=!this.localSettings.showHeroAttrRole}},{name:"show_rarity",description:"show_rarity_desc",icon:'<i class="fa fa-star" />',slider:!0,value:this.settings.showHeroRarity,handler:()=>{this.localSettings.showHeroRarity=!this.localSettings.showHeroRarity}},{name:"disable_hover_effect",description:"disable_hover_effect_desc",icon:'<i class="fa fa-hand-pointer" />',slider:!0,value:this.settings.disableHeroIconHover,handler:()=>{this.localSettings.disableHeroIconHover=!this.localSettings.disableHeroIconHover}}]]},{name:"generate_export_url",description:"generate_export_url_desc",icon:'<i class="fa fa-share-alt" />',handler:()=>{this.$emit("exportURL")}},{name:"language",description:"language_desc",icon:'<i class="fa fa-globe" />',handler:()=>{this.$localePicker()}},{name:"welcome",description:"welcome_screen_desc",icon:'<i class="fa fa-home" />',handler:()=>{this.$emit("welcome")}}]]}}};const nl=(0,q.Z)(rl,[["render",Ws]]);var ol=nl;a(2801);function cl(){let e=window.location.href.split("?")[0],t=e.split("#");while(t.length>1&&!/^\/\w+/.test(t[t.length-1]))t.pop();return t.join("#")}function dl(e,t,a){console.log(a),window.$promiseAlert(a.$t("strings.generate_export_url"),new Promise((i=>{setTimeout((()=>{i(`<div style="height: 100%; overflow: hidden;">\n                    <textarea readonly style="height: 100%; width: 100%; word-break: break-all;resize: none;" onmouseup="event.preventDefault()" onclick="event.target.select();document.execCommand('copy'); window.$snackbar.log({type: 'info', title: 'Info', description: '${a.$t("strings.copied_to_clipboard")}'})">${cl()}#roster=${hl(e,t)}&version=${a.VERSION||1}</textarea>\n                </div>`)}),1e3)})),[a.$t("strings.back")])}function hl(e,t){let a=t.map((t=>e.includes(t)?1:0)),i=[];a.forEach(((e,t)=>{if(!(t>0&&a[t-1]===e))return i.push([e,1]);{let e=i[i.length-1];e[1]++}}));let s=i.map((e=>e[1])).join("x");return 0===a[0]&&(s="0x"+s),s}function pl(e){return JSON.parse(atob(e))}function ul(e,t){let a=e.split(/x/),i=!0,s=t,l=[],r=0;for(let n=0;n<a.length;n++){let e=parseInt(a[n]);i&&s.slice(r,e+r).forEach((e=>l.push(e))),r+=e,i=!i}return l}function ml(e,t){var a,i=!1;if(t.$route?t.$route.hash.split("&").forEach((e=>{-1!==e.indexOf("roster")&&(a=e.split("=")[1])})):window.location.href.split("#").forEach((e=>{e.split("&").forEach((e=>{-1!==e.indexOf("roster")&&(a=e.split("=")[1])}))})),!a){const e=new URLSearchParams(window.location.search);!t.$router&&e.get("camproster")?a=e.get("camproster"):t.$router&&t.$route.query.camproster&&(a=t.$route.query.camproster),a&&(i=!0)}a&&t.$promiseAlert(t.$t("strings.url_to_roster"),new Promise(((s,l)=>{setTimeout((()=>{try{if(a=i?pl(a):ul(a,e),console.log(a),!a.length)throw"No roster found";s("<div>Replace current roster with roster from URL?<div>"+a.map((e=>t.$store.getters.getHeroName(e)+"<br>")).join("")+"</div></div>")}catch(r){l("Something went wrong while parsing URL...")}}),200)})),[{name:t.$t("strings.replace"),class:"material-button basic warn",hideOnError:!0},t.$t("strings.cancel")]).then((async([e])=>{0===e&&(t.roster=a,window.history.pushState("","",cl(t.$router)))}))}function gl(e,t){return new Promise(((a,i)=>{if("friendship"===e._type)return i();for(var s={morale:e.morale,team:e.team},l=e.gameMode.some((e=>-1===e.indexOf("azmakalis")))?e.enemy:[],r=["queen","vera","karkanis","juleeve","arakahan"],n=0;n<r.length;n++)s[r[n]]=l.includes(r[n]);s.nightmare=e.gameMode.includes("azmakalis_nightmare"),s.hell=e.gameMode.includes("azmakalis_hell"),s.normal=e.gameMode.includes("azmakalis_normal"),(0,$s.Z)("https://ceciliabotgithub.glitch.me/ceciliabot-team-usage","POST",JSON.stringify({function:t?"add":"remove",data:e})).then((e=>{a(e)})).catch((e=>{i(e)}))}))}var fl=a(794),yl=a(9234),bl={name:"CampingSimulator",components:{ToolBar:ee,Welcome:at,AddHero:zt,HeroBox:Ot,Advanced:da,Results:Mi,SavedTeams:es,RouteMaps:Li,TeamAndCharacterUsage:qs,Settings:ol,LabBuilder:Y},props:{standalone:{type:Boolean,default:!1}},provide(){return{VERSION:this.VERSION,standalone:this.standalone}},data(){return{VERSION:2,isBooting:!0,TAB:"welcome",settings:{},HeroDB:{},heroList:[],displayableHeroes:[],roster:[],locked:[],teams:[],advancedSettings:{},results:[]}},watch:{settings:{deep:!0,handler(){this.isBooting||this.writeSettings()}},teams:{deep:!0,handler(){this.booting||this.writeStorageTeams()}},roster:{deep:!0,handler(){this.booting||this.writeStorageRoster()}}},computed:{verticalToolbar(){return this.settings.verticalToolbar||!this.$store.state.isMobile},mobile:function(){return!this.verticalToolbar},calculateResults:function(){return this.roster.length,this.locked.length,this.advancedSettings.update_at,this.roster.length>3&&this.calculate(),1}},beforeCreate(){Bs()},beforeUnmount:function(){Ps()},created(){this.toggleLoading(!0,"CONNECTING..."),this.standalone&&console.log("Standalone version"),this.getSettings(),this.$nextTick((()=>{Promise.all([this.$store.dispatch("GET_HERO_DB"),(0,$s.Z)("./data/CampingData.json").then((e=>JSON.parse(e))).catch((()=>[])),(0,yl.ld)((0,yl.EG)())]).then((e=>{for(var t in this.heroList=Object.keys(e[1]),e[1])for(var a in e[1][t])e[0][t][a]=e[1][t][a];localStorage.setItem("CAMPING_LAST_SEEN_HERO",this.heroList[this.heroList.length-1]),this.HeroDB=e[0],this.readStorageTeams(),this.readStorageRoster();var i=this.heroList.slice();this.roster.forEach((e=>{var t=i.indexOf(e);-1!==t&&i.splice(t,1)})),this.displayableHeroes=i,ml(this.heroList,this)})).catch((e=>{console.log(e)})).then((()=>{this.toggleLoading(!1),this.isBooting=!1,localStorage.setItem("CAMPING_VERSION",this.VERSION)}))}))},methods:{toggleLoading(e,t){this.$store.commit("loading",[e,t])},getSettings(){let e=localStorage.getItem("settings"),t={showHeroAttrRole:!0,theme:(0,fl.G)()};if(e)try{this.settings=JSON.parse(e),!this.settings.theme&&(this.settings.theme=t.theme)}catch(a){this.settings=t}else this.settings=t;document.querySelector("html").setAttribute("data-theme",this.settings.theme)},writeSettings:function(){localStorage.setItem("settings",JSON.stringify(this.settings))},readStorageRoster(){var e=localStorage.getItem("CAMPING_ROSTER"),t=[];if(e)t=JSON.parse(e);else try{var a=localStorage.getItem("Heroes");a&&(a=JSON.parse(a),a instanceof Object?t=Object.keys(a).filter((e=>"dark-tyrant-tenebria"!==e)):Array.isArray(a)&&(t=a.filter((e=>"dark-tyrant-tenebria"!==e)))),localStorage.removeItem("Heroes"),localStorage.removeItem("avatars"),this.writeStorageRoster(t)}catch(i){console.log("Error while parsing")}this.roster=t},writeStorageRoster(e){localStorage.setItem("CAMPING_ROSTER",JSON.stringify(e||this.roster))},readStorageTeams(){var e=localStorage.getItem("CAMPING_TEAMS");if(e)this.teams=JSON.parse(e);else try{var t=JSON.parse(localStorage.getItem("savedCamps")||"{}"),a=[];for(var i in t){var s=t[i],l=[];s.hell&&l.push("azmakalis_hell"),s.normal&&l.push("azmakalis_normal"),a.push({_type:"morale",name:i,morale:s.morale,team:s.team||[],holder:[s.migliorPG1,s.migliorPG2],topics:[s.opzioneMigliore1,s.opzioneMigliore2],gameMode:l,enemy:["queen","vera","arakahan","juleeve","karkanis"].filter((e=>s[e])),uplodaed:!1,converted:!0})}this.teams=a,localStorage.removeItem("savedCamps"),this.writeStorageTeams(a)}catch(r){console.log("Old temas parsing error")}},writeStorageTeams(e){localStorage.setItem("CAMPING_TEAMS",JSON.stringify(e||this.teams))},setWindow:function(e){e!==this.TAB&&("home"!==e?(this.TAB=e,"results"===e&&this.calculateResults):this.$store.commit("toggleMainMenu"))},addHero(e){this.roster.push(e),this.displayableHeroes.splice(this.displayableHeroes.indexOf(e),1)},addAllHeroes(e){e.forEach((e=>{this.addHero(e)}))},removeHero(e){this.roster.splice(this.roster.indexOf(e),1),this.displayableHeroes.push(e),this.locked.includes(e)&&this.locked.splice(this.locked.indexOf(e),1)},removeAllHeroes(e){e.forEach((e=>this.removeHero(e)))},lockHero(e){this.locked.includes(e)?this.locked.splice(this.locked.indexOf(e),1):this.locked.length<4?this.locked.push(e):this.$snackbar.log({title:"Cant lock more than 4 heroes"})},saveCamp(e){this.teams.push(e),gl(e,!0).then((()=>{})).catch((()=>{e.uploaded=!1,this.writeStorageTeams()}))},deleteCamp(e){var t=this.teams.indexOf(e);-1!==t&&(gl(e).then((()=>{})).catch((()=>{})),this.teams.splice(t,1))},generateExportURL(){dl(this.roster,this.heroList,this)},showSpinner:function(e){var t=this.$refs["loading-screen"];t.style.display=e?"":"none"},displayStyle:function(e){return e===this.activeTab?"":"none"},updateSpinner(e){this.$refs.percentage_status_text.innerText=e},promptAbortOperation(){this.$promiseAlert(this.$t("strings.abort_operation"),"Are you sure?",[this.$t("strings.confirm"),this.$t("strings.cancel")]).then((([e])=>{0===e&&(Fs(),this.showSpinner(!1),this.updateSpinner("0%"),this.advancedSettings.update_at=Date.now())})).catch((()=>{}))},calculate(){this.results=[],this.showSpinner(!0),Is({message:"MORALE",HeroDB:(0,Z.IU)(this.HeroDB),roster:(0,Z.IU)(this.roster),locked:(0,Z.IU)(this.locked),advanced:(0,Z.IU)(this.advancedSettings)},(e=>{this.updateSpinner(e+"%")})).then((e=>{this.results=e})).catch((e=>{console.log("Camping results error",e),this.$snackbar.error({title:"Worker error",description:this.$t("strings."+e)})})).then((()=>{this.showSpinner(!1),this.updateSpinner("0%")}))},calculateHeroFriendship(e){this.results=[],this.showSpinner(!0),this.TAB="results",Is({message:"FRIENDSHIP",HeroDB:(0,Z.IU)(this.HeroDB),roster:(0,Z.IU)(this.roster),locked:[e]},(e=>{this.updateSpinner(e+"%")})).then((e=>{console.log(e),this.results=e})).catch((e=>{console.log("Camping results error",e),this.$snackbar.error({title:"Worker error",description:this.$t("strings."+e)})})).then((()=>{this.showSpinner(!1),this.updateSpinner("0%")}))}},beforeRouteLeave:function(){document.querySelector("html").removeAttribute("data-theme")}};const vl=(0,q.Z)(bl,[["render",k],["__scopeId","data-v-06653ad7"]]);var wl=vl},7062:function(e,t,a){var i={"./en.json":[9677,320]};function s(e){if(!a.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],s=t[0];return a.e(t[1]).then((function(){return a.t(s,19)}))}s.keys=function(){return Object.keys(i)},s.id=7062,e.exports=s},283:function(e,t,a){"use strict";e.exports=a.p+"img/camping-simulator-logo.ed3dfaf5.png"},8890:function(e,t,a){"use strict";e.exports=a.p+"img/cermia404.00418f21.png"},1681:function(e,t,a){"use strict";e.exports=a.p+"img/chibi-maid-chloe.4259ee6b.png"},2809:function(e,t,a){"use strict";e.exports=a.p+"img/chibi-tamarinne-trace.50581c31.png"},6263:function(e,t,a){"use strict";e.exports=a.p+"img/hero_config_btn_add.d60c6ffc.png"},5847:function(e,t,a){"use strict";e.exports=a.p+"img/hero_config_btn_change.27da1e2b.png"},7738:function(e,t,a){"use strict";e.exports=a.p+"img/hero_config_btn_remove.7066b3cb.png"}}]);