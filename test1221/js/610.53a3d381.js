(function(){var t={9662:function(t,e,r){var n=r(614),o=r(6330),i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not a function")}},9670:function(t,e,r){var n=r(111),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not an object")}},1318:function(t,e,r){var n=r(5656),o=r(1400),i=r(6244),a=function(t){return function(e,r,a){var u,f=n(e),c=i(f),l=o(a,c);if(t&&r!=r){while(c>l)if(u=f[l++],u!=u)return!0}else for(;c>l;l++)if((t||l in f)&&f[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},3658:function(t,e,r){"use strict";var n=r(9781),o=r(3157),i=TypeError,a=Object.getOwnPropertyDescriptor,u=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=u?function(t,e){if(o(t)&&!a(t,"length").writable)throw i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},4326:function(t,e,r){var n=r(1702),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1)}},9920:function(t,e,r){var n=r(2597),o=r(3887),i=r(1236),a=r(3070);t.exports=function(t,e,r){for(var u=o(e),f=a.f,c=i.f,l=0;l<u.length;l++){var s=u[l];n(t,s)||r&&n(r,s)||f(t,s,c(e,s))}}},8880:function(t,e,r){var n=r(9781),o=r(3070),i=r(9114);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:function(t,e,r){var n=r(614),o=r(3070),i=r(6339),a=r(3072);t.exports=function(t,e,r,u){u||(u={});var f=u.enumerable,c=void 0!==u.name?u.name:e;if(n(r)&&i(r,c,u),u.global)f?t[e]=r:a(e,r);else{try{u.unsafe?t[e]&&(f=!0):delete t[e]}catch(l){}f?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return t}},3072:function(t,e,r){var n=r(7854),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},9781:function(t,e,r){var n=r(7293);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(t){var e="object"==typeof document&&document.all,r="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:r}},317:function(t,e,r){var n=r(7854),o=r(111),i=n.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},7207:function(t){var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},8113:function(t,e,r){var n=r(5005);t.exports=n("navigator","userAgent")||""},7392:function(t,e,r){var n,o,i=r(7854),a=r(8113),u=i.process,f=i.Deno,c=u&&u.versions||f&&f.version,l=c&&c.v8;l&&(n=l.split("."),o=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(o=+n[1]))),t.exports=o},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,r){var n=r(7854),o=r(1236).f,i=r(8880),a=r(8052),u=r(3072),f=r(9920),c=r(4705);t.exports=function(t,e){var r,l,s,h,p,v,g=t.target,m=t.global,d=t.stat;if(l=m?n:d?n[g]||u(g,{}):(n[g]||{}).prototype,l)for(s in e){if(p=e[s],t.dontCallGetSet?(v=o(l,s),h=v&&v.value):h=l[s],r=c(m?s:g+(d?".":"#")+s,t.forced),!r&&void 0!==h){if(typeof p==typeof h)continue;f(p,h)}(t.sham||h&&h.sham)&&i(p,"sham",!0),a(l,s,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},4374:function(t,e,r){var n=r(7293);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,r){var n=r(4374),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},6530:function(t,e,r){var n=r(9781),o=r(2597),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,u=o(i,"name"),f=u&&"something"===function(){}.name,c=u&&(!n||n&&a(i,"name").configurable);t.exports={EXISTS:u,PROPER:f,CONFIGURABLE:c}},1702:function(t,e,r){var n=r(4374),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);t.exports=n?a:function(t){return function(){return i.apply(t,arguments)}}},5005:function(t,e,r){var n=r(7854),o=r(614),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t]):n[t]&&n[t][e]}},8173:function(t,e,r){var n=r(9662),o=r(8554);t.exports=function(t,e){var r=t[e];return o(r)?void 0:n(r)}},7854:function(t,e,r){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:function(t,e,r){var n=r(1702),o=r(7908),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},3501:function(t){t.exports={}},4664:function(t,e,r){var n=r(9781),o=r(7293),i=r(317);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,r){var n=r(1702),o=r(7293),i=r(4326),a=Object,u=n("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?u(t,""):a(t)}:a},2788:function(t,e,r){var n=r(1702),o=r(614),i=r(5465),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},9909:function(t,e,r){var n,o,i,a=r(4811),u=r(7854),f=r(111),c=r(8880),l=r(2597),s=r(5465),h=r(6200),p=r(3501),v="Object already initialized",g=u.TypeError,m=u.WeakMap,d=function(t){return i(t)?o(t):n(t,{})},y=function(t){return function(e){var r;if(!f(e)||(r=o(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return r}};if(a||s.state){var b=s.state||(s.state=new m);b.get=b.get,b.has=b.has,b.set=b.set,n=function(t,e){if(b.has(t))throw g(v);return e.facade=t,b.set(t,e),e},o=function(t){return b.get(t)||{}},i=function(t){return b.has(t)}}else{var x=h("state");p[x]=!0,n=function(t,e){if(l(t,x))throw g(v);return e.facade=t,c(t,x,e),e},o=function(t){return l(t,x)?t[x]:{}},i=function(t){return l(t,x)}}t.exports={set:n,get:o,has:i,enforce:d,getterFor:y}},3157:function(t,e,r){var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},614:function(t,e,r){var n=r(4154),o=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},4705:function(t,e,r){var n=r(7293),o=r(614),i=/#|\.prototype\./,a=function(t,e){var r=f[u(t)];return r==l||r!=c&&(o(e)?n(e):!!e)},u=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},f=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},8554:function(t){t.exports=function(t){return null===t||void 0===t}},111:function(t,e,r){var n=r(614),o=r(4154),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===i}:function(t){return"object"==typeof t?null!==t:n(t)}},1913:function(t){t.exports=!1},2190:function(t,e,r){var n=r(5005),o=r(614),i=r(7976),a=r(3307),u=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&i(e.prototype,u(t))}},6244:function(t,e,r){var n=r(7466);t.exports=function(t){return n(t.length)}},6339:function(t,e,r){var n=r(7293),o=r(614),i=r(2597),a=r(9781),u=r(6530).CONFIGURABLE,f=r(2788),c=r(9909),l=c.enforce,s=c.get,h=Object.defineProperty,p=a&&!n((function(){return 8!==h((function(){}),"length",{value:8}).length})),v=String(String).split("String"),g=t.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!i(t,"name")||u&&t.name!==e)&&(a?h(t,"name",{value:e,configurable:!0}):t.name=e),p&&r&&i(r,"arity")&&t.length!==r.arity&&h(t,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?a&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(o){}var n=l(t);return i(n,"source")||(n.source=v.join("string"==typeof e?e:"")),t};Function.prototype.toString=g((function(){return o(this)&&s(this).source||f(this)}),"toString")},4758:function(t){var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},3070:function(t,e,r){var n=r(9781),o=r(4664),i=r(3353),a=r(9670),u=r(4948),f=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,s="enumerable",h="configurable",p="writable";e.f=n?i?function(t,e,r){if(a(t),e=u(e),a(r),"function"===typeof t&&"prototype"===e&&"value"in r&&p in r&&!r[p]){var n=l(t,e);n&&n[p]&&(t[e]=r.value,r={configurable:h in r?r[h]:n[h],enumerable:s in r?r[s]:n[s],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(a(t),e=u(e),a(r),o)try{return c(t,e,r)}catch(n){}if("get"in r||"set"in r)throw f("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:function(t,e,r){var n=r(9781),o=r(6916),i=r(5296),a=r(9114),u=r(5656),f=r(4948),c=r(2597),l=r(4664),s=Object.getOwnPropertyDescriptor;e.f=n?s:function(t,e){if(t=u(t),e=f(e),l)try{return s(t,e)}catch(r){}if(c(t,e))return a(!o(i.f,t,e),t[e])}},8006:function(t,e,r){var n=r(6324),o=r(748),i=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},7976:function(t,e,r){var n=r(1702);t.exports=n({}.isPrototypeOf)},6324:function(t,e,r){var n=r(1702),o=r(2597),i=r(5656),a=r(1318).indexOf,u=r(3501),f=n([].push);t.exports=function(t,e){var r,n=i(t),c=0,l=[];for(r in n)!o(u,r)&&o(n,r)&&f(l,r);while(e.length>c)o(n,r=e[c++])&&(~a(l,r)||f(l,r));return l}},5296:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},2140:function(t,e,r){var n=r(6916),o=r(614),i=r(111),a=TypeError;t.exports=function(t,e){var r,u;if("string"===e&&o(r=t.toString)&&!i(u=n(r,t)))return u;if(o(r=t.valueOf)&&!i(u=n(r,t)))return u;if("string"!==e&&o(r=t.toString)&&!i(u=n(r,t)))return u;throw a("Can't convert object to primitive value")}},3887:function(t,e,r){var n=r(5005),o=r(1702),i=r(8006),a=r(5181),u=r(9670),f=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(u(t)),r=a.f;return r?f(e,r(t)):e}},4488:function(t,e,r){var n=r(8554),o=TypeError;t.exports=function(t){if(n(t))throw o("Can't call method on "+t);return t}},6200:function(t,e,r){var n=r(2309),o=r(9711),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},5465:function(t,e,r){var n=r(7854),o=r(3072),i="__core-js_shared__",a=n[i]||o(i,{});t.exports=a},2309:function(t,e,r){var n=r(1913),o=r(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.1",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(t,e,r){var n=r(7392),o=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1400:function(t,e,r){var n=r(9303),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},5656:function(t,e,r){var n=r(8361),o=r(4488);t.exports=function(t){return n(o(t))}},9303:function(t,e,r){var n=r(4758);t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},7466:function(t,e,r){var n=r(9303),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},7908:function(t,e,r){var n=r(4488),o=Object;t.exports=function(t){return o(n(t))}},7593:function(t,e,r){var n=r(6916),o=r(111),i=r(2190),a=r(8173),u=r(2140),f=r(5112),c=TypeError,l=f("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var r,f=a(t,l);if(f){if(void 0===e&&(e="default"),r=n(f,t,e),!o(r)||i(r))return r;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:function(t,e,r){var n=r(7593),o=r(2190);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},6330:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(r){return"Object"}}},9711:function(t,e,r){var n=r(1702),o=0,i=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},3307:function(t,e,r){var n=r(6293);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,r){var n=r(9781),o=r(7293);t.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(t,e,r){var n=r(7854),o=r(614),i=n.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},5112:function(t,e,r){var n=r(7854),o=r(2309),i=r(2597),a=r(9711),u=r(6293),f=r(3307),c=o("wks"),l=n.Symbol,s=l&&l["for"],h=f?l:l&&l.withoutSetter||a;t.exports=function(t){if(!i(c,t)||!u&&"string"!=typeof c[t]){var e="Symbol."+t;u&&i(l,t)?c[t]=l[t]:c[t]=f&&s?s(e):h(e)}return c[t]}},7658:function(t,e,r){"use strict";var n=r(2109),o=r(7908),i=r(6244),a=r(3658),u=r(7207),f=r(7293),c=f((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:c||l},{push:function(t){var e=o(this),r=i(e),n=arguments.length;u(r+n);for(var f=0;f<n;f++)e[r]=arguments[f],r++;return a(e,r),r}})},8924:function(t,e){var r,n,o;(function(i,a){n=[],r=a,o="function"===typeof r?r.apply(e,n):r,void 0===o||(t.exports=o)})(0,(function(){"use strict";var t="0.5.5",e=function(t,e){if(e%1!==0)throw new RangeError;var r=1;while(e--)r*=t--;return r},r=function(t,r){return r>t?0:e(t,r)/e(r,r)},n=function(t){return e(t,t)},o=function(t,e){var r=1;if(e)r=n(e);else{for(e=1;r<t;r*=++e);r>t&&(r/=e--)}for(var o=[0];e;r/=e--)o[e]=Math.floor(t/r),t%=r;return o},i=function(t,e){Object.keys(e).forEach((function(r){Object.defineProperty(t,r,{value:e[r],configurable:"next"==r})}))},a=function(t,e){Object.defineProperty(t,e,{writable:!0})},u=function(t){var e,r=[];this.init();while(e=this.next())r.push(t?t(e):e);return this.init(),r},f={toArray:u,map:u,forEach:function(t){var e;this.init();while(e=this.next())t(e);this.init()},filter:function(t){var e,r=[];this.init();while(e=this.next())t(e)&&r.push(e);return this.init(),r},find:function(t){var e,r;this.init();while(e=this.next())if(t(e)){r=e;break}return this.init(),r},reduce:function(t,e){this.init();var r=0;arguments.length<2&&(e=this.next(),r+=1);var n=this.length;while(r<n)e=t(e,this.next(),r,this),r+=1;return e},lazyMap:function(t){return this._lazyMap=t,this},lazyFilter:function(t){if(Object.defineProperty(this,"next",{writable:!0}),"function"!==typeof t)this.next=this._next;else{"function"!==typeof this._next&&(this._next=this.next);var e=this._next.bind(this);this.next=function(){var r;while(r=e())if(t(r))return r;return r}.bind(this)}return Object.defineProperty(this,"next",{writable:!1}),this}},c=function(t,e){var r=1<<t.length,n=function(){return r},o=Object.create(t.slice(),{length:{get:n}});return a(o,"index"),i(o,{valueOf:n,init:function(){o.index=0},nth:function(t){if(!(t>=r)){for(var e=0,n=[];t;t>>>=1,e++)1&t&&n.push(this[e]);return"function"===typeof o._lazyMap?o._lazyMap(n):n}},next:function(){return this.nth(this.index++)}}),i(o,f),o.init(),"function"===typeof e?o.map(e):o},l=function(t){var e=t&-t,r=t+e,n=r&-r,o=(n/e>>1)-1;return r|o},s=function(t,e,n){if(e||(e=t.length),e<1)throw new RangeError;if(e>t.length)throw new RangeError;var o=(1<<e)-1,u=r(t.length,e),c=1<<t.length,s=function(){return u},h=Object.create(t.slice(),{length:{get:s}});return a(h,"index"),i(h,{valueOf:s,init:function(){this.index=o},next:function(){if(!(this.index>=c)){for(var t=0,e=this.index,r=[];e;e>>>=1,t++)1&e&&(r[r.length]=this[t]);return this.index=l(this.index),"function"===typeof h._lazyMap?h._lazyMap(r):r}}}),i(h,f),h.init(),"function"===typeof n?h.map(n):h},h=function(t,e){var r=t,n=e,o=0;for(o=r.length-1;o>=0;o--){if(1!=r[o])break;n--}if(0==n){r[r.length]=1;for(var i=r.length-2;i>=0;i--)r[i]=i<e-1?1:0}else{var a=-1,u=-1;for(o=0;o<r.length;o++)if(0==r[o]&&-1!=a&&(u=o),1==r[o]&&(a=o),-1!=u&&-1!=a){r[u]=1,r[a]=0;break}n=e;for(o=r.length-1;o>=a;o--)1==r[o]&&n--;for(o=0;o<a;o++)r[o]=o<n?1:0}return r},p=function(t){for(var e=[],r=0;r<t;r++)e[r]=1;return e[0]=1,e},v=function(t,e,n){if(e||(e=t.length),e<1)throw new RangeError;if(e>t.length)throw new RangeError;var o=p(e),u=r(t.length,e),c=t.length,l=function(){return u},s=Object.create(t.slice(),{length:{get:l}});return a(s,"index"),i(s,{valueOf:l,init:function(){this.index=o.concat()},next:function(){if(!(this.index.length>c)){for(var t=0,r=this.index,n=[],o=0;o<r.length;o++,t++)r[o]&&(n[n.length]=this[t]);return h(this.index,e),"function"===typeof s._lazyMap?s._lazyMap(n):n}}}),i(s,f),s.init(),"function"===typeof n?s.map(n):s},g=function(t){var e=t.slice(),r=n(e.length);return e.index=0,e.next=function(){if(!(this.index>=r)){for(var t=this.slice(),n=o(this.index,this.length),i=[],a=this.length-1;a>=0;--a)i.push(t.splice(n[a],1)[0]);return this.index++,"function"===typeof e._lazyMap?e._lazyMap(i):i}},e},m=function(t,r,n){if(r||(r=t.length),r<1)throw new RangeError;if(r>t.length)throw new RangeError;var o=e(t.length,r),u=function(){return o},c=Object.create(t.slice(),{length:{get:u}});return a(c,"cmb"),a(c,"per"),i(c,{valueOf:function(){return o},init:function(){t.length<31?this.cmb=s(t,r):this.cmb=v(t,r),this.per=g(this.cmb.next())},next:function(){var t=this.per.next();if(!t){var e=this.cmb.next();if(!e)return;return this.per=g(e),this.next()}return"function"===typeof c._lazyMap?c._lazyMap(t):t}}),i(c,f),c.init(),"function"===typeof n?c.map(n):c},d=function(t){for(var r=0,n=1;n<=t;n++){var o=e(t,n);r+=o}return r},y=function(t,e){var r=d(t.length),n=function(){return r},o=Object.create(t.slice(),{length:{get:n}});return a(o,"cmb"),a(o,"per"),a(o,"nelem"),i(o,{valueOf:function(){return r},init:function(){this.nelem=1,this.cmb=s(t,this.nelem),this.per=g(this.cmb.next())},next:function(){var e=this.per.next();if(!e){var r=this.cmb.next();if(!r){if(this.nelem++,this.nelem>t.length)return;if(this.cmb=s(t,this.nelem),r=this.cmb.next(),!r)return}return this.per=g(r),this.next()}return"function"===typeof o._lazyMap?o._lazyMap(e):e}}),i(o,f),o.init(),"function"===typeof e?o.map(e):o},b=Array.prototype.slice,x=function(){if(!arguments.length)throw new RangeError;var t=b.call(arguments),e=t.reduce((function(t,e){return t*e.length}),1),r=function(){return e},n=t.length,o=Object.create(t,{length:{get:r}});if(!e)throw new RangeError;return a(o,"index"),i(o,{valueOf:r,dim:n,init:function(){this.index=0},get:function(){if(arguments.length===this.length){for(var t=[],e=0;e<n;e++){var r=arguments[e];if(r>=this[e].length)return;t.push(this[e][r])}return"function"===typeof o._lazyMap?o._lazyMap(t):t}},nth:function(t){for(var e=[],r=0;r<n;r++){var i=this[r].length,a=t%i;e.push(this[r][a]),t-=a,t/=i}return"function"===typeof o._lazyMap?o._lazyMap(e):e},next:function(){if(!(this.index>=e)){var t=this.nth(this.index);return this.index++,t}}}),i(o,f),o.init(),o},_=function(t,e,r){if(e||(e=t.length),e<1)throw new RangeError;var n=t.length,o=Math.pow(n,e),u=function(){return o},c=Object.create(t.slice(),{length:{get:u}});return a(c,"index"),i(c,{valueOf:u,init:function(){c.index=0},nth:function(r){if(!(r>=o)){for(var i=[],a=0;a<e;a++){var u=r%n;i.push(t[u]),r-=u,r/=n}return"function"===typeof c._lazyMap?c._lazyMap(i):i}},next:function(){return this.nth(this.index++)}}),i(c,f),c.init(),"function"===typeof r?c.map(r):c},w=Object.create(null);return i(w,{C:r,P:e,factorial:n,factoradic:o,cartesianProduct:x,combination:s,bigCombination:v,permutation:m,permutationCombination:y,power:c,baseN:_,VERSION:t}),w}))}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}!function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}();!function(){"use strict";function t(t,e){return e.every((e=>t.includes(e)))}function e(t){return t.some(((e,r)=>t.indexOf(e)!==r))}function n(t,e){for(var r=0;r<t.length;r++){var n=e[t[r]];if(3!==r&&n&&n.linked_hero&&(Array.isArray(n.linked_hero)||(n.linked_hero=[n.linked_hero]),n.linked_hero.some((e=>t.includes(e)))))return!0}return!1}function o(t,e){if(e.length>0)for(var r=0;r<e.length;r++){if(-100===e[r].morale)break;if(e[r].team.every((e=>t.includes(e))))return r}return-1}function i(t){var e=u(t.role||{}),r=u(t.attribute||{});return!!(e[0]>0||e[0]!==e[1]||r[0]>0||r[0]!==r[1]||t.debuffs&&t.debuffs.length>0||t.buffs&&t.buffs.length>0||!0===t.aoe||!0===t.noS1debuffs||!0===t.noDebuffs||t.includeDispel||t.includeCleanser||a(t))}function a(t){return t.cartesianLock||(t.cartesianLock=[[],[],[],[]]),t.cartesianLock&&t.cartesianLock.flat().length>0}function u(t){var e=0,r=0;for(var n in t)e+=Math.max(0,t[n]),r+=t[n];return[e,r]}function f(t,e,r,n){for(var o={},i=0;i<t.length;i++){var a=r[t[i]][n];o[a]||(o[a]=0),o[a]++}for(var u in e){var f=o[u]||0;if(e[u]<0&&f>0||e[u]>0&&f<e[u])return!1}return!0}function c(t){return t.common&&t.common.includes("aoe")}function l(t){return t.common&&t.common.includes("cleanse")}function s(t){return t.common&&t.common.includes("dispel")}r(7658);var h=r(8924);function p(t,e=[],r={},n){for(var o=[],i=0;i<t.length;i++){var a=t[i];if(n[a].camping.topics&&(!r.muteLockedHeroes||!e.includes(a)))for(var u=0;u<n[a].camping.topics.length;u++){for(var f={hero:a,topic:n[a].camping.topics[u],morale:0},c=0;c<t.length;c++)i!==c&&(f.morale+=n[t[c]].camping.values[f.topic]);o.push(f)}}if(0===o.length)return null;o.sort((function(t,e){return t.morale>e.morale?-1:t.morale==e.morale?0:1}));while(o[0].topic===o[1].topic)o.splice(1,1);return{morale:o[0].morale+o[1].morale,team:t,topics:[o[0].topic,o[1].topic],holder:[o[0].hero,o[1].hero],moraleChanges:[o[0].morale,o[1].morale]}}function v(t){for(var r=[[]],n=0;n<t.length;n++){for(var o=t[n],i=[],a=0;a<r.length;a++)for(var u=0;u<o.length;u++)e(r[a].concat(o[u]))||i.push(r[a].concat(o[u]));r=i}return r}function g(t,r,o,i,g){var m=[{morale:-100,team:[]}],d=[],y=[[]],b=u(o.role||{}),x=b[0]>0||b[0]!==b[1],_=u(o.attribute||{}),w=_[0]>0||_[0]!==_[1];r.forEach((e=>{var r=t.indexOf(e);-1!==r&&t.splice(r,1)}));var O=a(o);if(O){d=o.cartesianLock;for(var j=0;j<d.length;j++)d[j].length||(d.splice(j,1),j--);for(var k=d.flat(),S=0;S<t.length;S++)k.includes(t[S])&&(t.splice(S,1),S--);if(d.length+r.length<4&&t.length<4-(d.length+r.length))throw"not_enough_heroes";y=v(d)}var M=o.lockedMatter?0:b[0],E=o.lockedMatter?0:_[0];if(d.length+r.length+M>4||d.length+r.length+E>4)throw"team_size_exceeded";t.length||(t=["ras"]);var P=0,z=-1,C=h.bigCombination(t,4-r.length-y[0].length||1).length*y.length;if(y.forEach((a=>{let u=4-r.length-a.length;h.bigCombination(t,u>0?u:Math.max(1,t.length)).forEach((t=>{P++;const u=Math.round(100*P/C);z!==u&&(z=u,g(u)),a.length+r.length>3&&(t=[]);var h=t.concat(a,r);let v=o.lockedMatter?h:t.concat(a);if(O&&e(h))return;if(!r.every((t=>h.includes(t))))return;if(n(h,i))return;if(x&&!f(v,o.role,i,"role"))return;if(w&&!f(v,o.attribute,i,"attribute"))return;if(o.buffs&&o.buffs.length>0&&!o.buffs.every((t=>v.map((function(t){return i[t].buffs})).flat().includes(t))))return;if(o.debuffs&&o.debuffs.length>0&&!o.debuffs.every((t=>v.map((function(t){return i[t].debuffs})).flat().includes(t))))return;if(o.noS1debuffs&&0!=v.map((function(t){return i[t].skills[0].debuff})).flat().filter((function(t){return 20!=t&&25!=t&&21!=t&&24!=t})).length)return;if(o.noDebuffs&&0!=v.map((function(t){return i[t].debuffs})).flat().filter((function(t){return 20!=t&&25!=t&&21!=t&&24!=t})).length)return;if(o.aoe&&!v.some((t=>c(i[t]))))return;if(o.includeDispel&&!v.some((t=>s(i[t]))))return;if(o.includeCleanser&&!v.some((t=>l(i[t]))))return;let d=p(h,r,o,i);if(d&&!(m.length&&m[m.length-1].morale>=d.morale))for(var y=0;y<m.length;y++)if(d.morale>=m[y].morale){m.splice(y,0,d),m.splice(200,1);break}}))})),!m[m.length-1].team.length)for(var A=0;A<m.length;A++)if(!m[A].team.length){m.splice(A);break}return m}var m=r(8924),d=null;function y(t){if(d)return d;d={};var e=m.combination(["Criticism","Reality Check","Heroic Tale","Comforting Cheer","Cute Cheer","Heroic Cheer","Sad Memory","Joyful Memory","Happy Memories","Unique Comment","Self-Indulgent","Occult","Myth","Bizarre Story","Food Story","Horror Story","Gossip","Dream","Advice","Complain","Belief","Interesting Story"],2).toArray();for(var r in t){var n=t[r].camping;if(n)for(var o=0;o<e.length;o++){var i=e[o];d[i.join("_")]||(d[i.join("_")]={topics:e[o]},d[i.join("_")]["heroes"]=[],d[i.join("_")][i[0]]=[],d[i.join("_")][i[1]]=[]),n.topics.includes(i[0])&&d[i.join("_")][i[0]].push({_id:t[r]._id,morale:n.values[i[1]]}),n.topics.includes(i[1])&&d[i.join("_")][i[1]].push({_id:t[r]._id,morale:n.values[i[0]]}),d[i.join("_")]["heroes"].push({_id:t[r]._id,morale:n.values[i[0]]+n.values[i[1]]}),d[i.join("_")]["heroes"].sort((function(t,e){return t.morale>e.morale?-1:t.morale==e.morale?0:1})),d[i.join("_")][i[0]].sort((function(t,e){return t.morale>e.morale?-1:t.morale==e.morale?0:1})),d[i.join("_")][i[1]].sort((function(t,e){return t.morale>e.morale?-1:t.morale==e.morale?0:1}))}}return d}function b(t,e){for(var r in d){var n=d[r];for(var o in n)if("topics"!==o)for(var i=0;i<n[o].length;i++)t.includes(n[o][i]._id)?(n[o][i].roster=!0,e.includes(n[o][i]._id)&&(n[o][i].locked=!0)):(n[o][i].roster=!1,n[o][i].locked=!1)}}function x(e,r,i,a){var u=400,f=new Array(u).fill({morale:-100,team:[]});for(var c in y(a),b(e,r),d)for(var l=d[c],s=l.topics,h=0;h<l[s[0]].length;h++)if(!(!l[s[0]][h].roster||i.muteLockedHeroes&&l[s[0]][h].locked))for(var p=l[s[0]][h].morale,v=l[s[0]][h]._id,g=0;g<l[s[1]].length;g++){var m=l[s[1]][g],x=m.morale,_=m._id;if(!(!m.roster||i.muteLockedHeroes&&m.locked))if(v===_){for(var w=0;w<l.heroes.length;w++)if(_=l.heroes[w],_.roster&&_._id!==v)for(var O=w+1;O<l.heroes.length;O++){var j=!0,k=l.heroes[O];if(k.roster&&k._id!=v){for(var S=O+1;S<l.heroes.length;S++){var M=l.heroes[S];if(M.roster&&M._id!=v){var E=0+_.morale+k.morale+M.morale;if(f[f.length-1].morale>E||!0===i.minMorale&&i.morale>E){S==O+1&&(j=!1);break}for(var P=0;P<f.length;P++)if(E>=f[P].morale){var z=[v,_._id,k._id,M._id];if(n(z,a))break;if(!t(z,r))break;var C=o(z,f);-1===C?(f.splice(P,0,{_type:"morale",morale:E,team:z,topics:s,holder:[v,v]}),f.splice(u,1)):C>=P&&(f.splice(C,1),f.splice(P,0,{_type:"morale",morale:E,team:z,topics:s,holder:[v,v]}));break}}}if(!j)break}}}else for(w=0;w<l.heroes.length;w++){let e=!0;k=l.heroes[w];if(k.roster&&k._id!=v&&k._id!=_){for(O=w+1;O<l.heroes.length;O++){M=l.heroes[O];if(M.roster&&M._id!=v&&M._id!=_){E=p+x+k.morale+M.morale;if(f[f.length-1].morale>E||!0===i.minMorale&&i.morale>E){O==w+1&&(e=!1);break}for(P=0;P<f.length;P++)if(E>=f[P].morale){z=[v,_,k._id,M._id];if(n(z,a))break;if(!t(z,r))break;C=o(z,f);-1===C?(f.splice(P,0,{_type:"morale",morale:E,team:z,topics:s,holder:[v,_]}),f.splice(u,1)):C>=P&&(f.splice(C,1),f.splice(P,0,{_type:"morale",morale:E,team:z,topics:s,holder:[v,_]}));break}}}if(!e)break}}}for(h=0;h<f.length;h++){if(f[h].team.length<3){f.splice(h);break}f[h].team.sort((function(t){return r.includes(t)?1:-1}))}return f}function _(t,e,r){for(var o in e)t.includes(e[o])||t.push(e[o]);var i=new Array(200).fill({morale:-100,team:[]}),a=y(r);for(var u in b(t,e),a){for(var f=a[u],c=null,l=0;l<e.length;l++)for(var s=0;s<a[u].heroes.length;s++)if(f.heroes[s]._id==e[l]&&f.heroes[s].morale>i[i.length-1].morale){c=s;break}if(c)for(s=0;s<f[u.split("_")[0]].length;s++)if(f[u.split("_")[0]][s].roster)for(var h=f[u.split("_")[0]][s].morale,p=f[u.split("_")[0]][s]._id,v=0;v<f[u.split("_")[1]].length;v++){var g=f[u.split("_")[1]][v].morale,m=f[u.split("_")[1]][v]._id;if(f[u.split("_")[1]][v].roster){var d=0;d=e.includes(p)||e.includes(m)?e.includes(p)?e.includes(m)?0:h:e.includes(m)?g:0:f.heroes[c].morale;for(var x=0;x<i.length;x++)if(d>=i[x].morale){var _=p!==m?[p,m]:[p];if(e.forEach((t=>{!_.includes(t)&&_.push(t)})),d===i[x].morale&&_.length>i[x].team.length)continue;if(n(_,r))break;for(var w=-1,O=0;O<i.length;O++){if(-100===i[O].morale)break;i[O].team.length==_.length&&i[O].team.every((t=>_.includes(t)))&&(w=O)}-1===w?(i.splice(x,0,{_type:"friendship",morale:d,team:_,topics:[u.split("_")[0],u.split("_")[1]],holder:[p,m]}),i.splice(200,1)):w>=x&&(i.splice(w,1),i.splice(x,0,{_type:"friendship",morale:d,team:_,topics:[u.split("_")[0],u.split("_")[1]],holder:[p,m]}));break}}}}for(s=0;s<i.length;s++){if(-100===i[s].morale){i.splice(s);break}i[s].team.sort((function(t){return e.includes(t)?1:-1}))}return i}function w(t,e){postMessage({id:t,type:"resolve",data:e})}function O(t,e){postMessage({id:t,type:"reject",error:e})}function j(t,e){postMessage({id:t,type:"update",update:e})}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{value:function(t=1){return this.reduce((function(e,r){return e.concat(Array.isArray(r)&&t>1?r.flat(t-1):r)}),[])}}),onmessage=function(t){var e=t.data.id,r=t.data.payload,o=r.message,a=r.HeroDB,u=r.roster,f=r.locked,c=r.advanced;if("MORALE"===o)if(n(f,a))O(e,"cant_lock_both_sc_normal");else if(u.length<50||f.length>1||i(c))try{w(e,g(u,f,c,a,(t=>j(e,t))))}catch(l){O(e,l)}else try{w(e,x(u,f,c,a))}catch(l){O(e,l)}else if("FRIENDSHIP"===o)try{w(e,_(u,f,a))}catch(l){O(e,l)}}}()})();