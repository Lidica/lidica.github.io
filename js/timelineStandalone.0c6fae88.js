(function(){var e={64063:function(e,t,i){"use strict";i.r(t);var n=i(8081),a=i.n(n),o=i(23645),r=i.n(o),s=r()(a());s.push([e.id,".search-box-pos{position:fixed;z-index:100;right:90px;top:0;width:328px;display:flex;flex-direction:column}.ch-search-box{background-color:#1d1d21;border-radius:5px;box-shadow:0 0 2px 2px #00000082;display:flex;padding:10px 15px;align-items:center;color:#a6a6a6;font-size:13px;text-align:center;transition:all .4s ease;z-index:1}.ch-search-box>input{background-color:transparent;border:none;color:#fff;outline:none;width:50%;font-size:12px;text-align:start;padding:8px 0}.ch-search-box>div{flex:1.6;border-right:2px solid #454343;padding:8px 0;margin-right:10px}.ch-search-box>span{flex:1;border-radius:100%}.ch-search-box>span.disabled{color:#ffffff1c}.ch-search-box>span:not(.disabled):hover{background-color:#ffffff1c;padding:8px 0}.search-results-box{top:0;right:0;padding:20px 0;max-height:300px;background-color:#1d1d21;color:#fff;overflow-y:auto;order:1;margin:0 10px;border-radius:0 0 8px 8px;scrollbar-width:none;box-shadow:0 0 2px 2px #00000082}.search-results-box.hidebox{height:0;padding:0;opacity:0}.search-results-box .item{cursor:pointer;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:start;z-index:99}",""]),t["default"]=s},62579:function(e,t,i){"use strict";i.r(t);var n=i(8081),a=i.n(n),o=i(23645),r=i.n(o),s=r()(a());s.push([e.id,".tshop-overlay-label[data-v-25dd5ae8]{position:absolute;text-align:center;z-index:5;cursor:pointer;transition:box-shadow .3s ease}.tshop-overlay-label i[data-v-25dd5ae8]{padding:5px}.timeline .tshop-overlay-label[data-v-25dd5ae8]{width:100%;height:40px;bottom:0}.timeline .tshop-overlay-label[data-v-25dd5ae8]:hover{box-shadow:inset 0 -30px 32px -25px #596df5}.timeline .tshop-overlay-label>div[data-v-25dd5ae8]{position:-webkit-sticky;position:sticky;left:0}.vtimeline .tshop-overlay-label[data-v-25dd5ae8]{height:100%;width:40px;right:0;-webkit-writing-mode:vertical-lr;writing-mode:vertical-lr}.vtimeline .tshop-overlay-label[data-v-25dd5ae8]:hover{box-shadow:inset -30px 0 32px -25px #596df5}.vtimeline .tshop-overlay-label>div[data-v-25dd5ae8]{position:-webkit-sticky;position:sticky;top:0}.vtimeline .tshop-overlay-label span[data-v-25dd5ae8]{transform:rotate(180deg);display:inline-block}.timeline .shop-timeline[data-v-25dd5ae8]{z-index:1;height:40px;overflow:hidden;padding-top:40px;position:absolute;bottom:0;transition:height .4s ease}.timeline .shop-timeline.open[data-v-25dd5ae8]{height:60%;z-index:2}.timeline .shop-timeline>.shop-row[data-v-25dd5ae8]{position:relative;width:100%;height:28%;max-height:75px;margin:5px 0}.timeline .shop-row>.shop-rotation[data-v-25dd5ae8]{position:absolute;padding:5px;height:100%}.shop-row>.shop-rotation[data-v-25dd5ae8]{border-radius:10px;border:thin solid #fff;background-color:rgba(0,0,0,.5)}.timeline .shop-row>.shop-rotation img[data-v-25dd5ae8]{height:100%}.vtimeline .shop-timeline[data-v-25dd5ae8]{z-index:1;width:40px;overflow:hidden;padding-left:40px;position:absolute;right:0;transition:width .4s ease}.vtimeline .shop-timeline>.shop-row[data-v-25dd5ae8]{display:inline-block;position:relative;height:100%;width:28%;max-width:75px;margin:0 5px}.shop-timeline .shop-row>.shop-icon[data-v-25dd5ae8]{height:75px;display:none;width:75px;position:fixed;background-color:#000;z-index:1}.shop-timeline:hover .shop-row>.shop-icon[data-v-25dd5ae8]{display:block}.vtimeline .shop-row>.shop-rotation[data-v-25dd5ae8]{position:absolute;width:100%;padding:5px}.vtimeline .shop-row>.shop-rotation img[data-v-25dd5ae8]{width:100%}.vtimeline .shop-timeline.open[data-v-25dd5ae8]{width:60%;z-index:2}.shop-timeline .date-icon[data-v-25dd5ae8]{opacity:0;-webkit-animation-delay:.4s;animation-delay:.4s;-o-animation-delay:.4s}.shop-timeline:hover .date-icon[data-v-25dd5ae8]{opacity:1}.shop-timeline .date-icon[data-v-25dd5ae8]:after{content:attr(data-date);position:absolute;top:40%;transform:translateY(-50%) translateX(-16px) rotate(-45deg);width:20px;height:20px;z-index:2;border:thick solid #fff;background:#4caf50;color:#fff;text-indent:20px;line-height:10px;white-space:nowrap;pointer-events:none}",""]),t["default"]=s},74246:function(e,t,i){"use strict";i.r(t);var n=i(8081),a=i.n(n),o=i(23645),r=i.n(o),s=r()(a());s.push([e.id,'.timeline .date[data-v-a6832fca]{position:absolute;top:calc(40% - 50px);color:#fff;transform:rotate(-45deg);width:-webkit-max-content;width:-moz-max-content;width:max-content}.timeline span.tevent[data-v-a6832fca]{font-size:45px;line-height:1em;margin-left:-.2em;position:absolute;text-orientation:mixed;-webkit-writing-mode:vertical-rl;writing-mode:vertical-rl;top:100%;transform:translateY(-100%);color:var(--icon-bar-active);height:-webkit-max-content;height:-moz-max-content;height:max-content;opacity:.5;max-height:100%;text-align:end;text-decoration:none;z-index:1}span.tevent a[data-v-a6832fca]{text-decoration:none;color:inherit}#timeline[data-v-a6832fca]{text-align:center}.timeline li.today[data-v-a6832fca]{border-left:solid red}.vtimeline li.today[data-v-a6832fca]{border-top:solid red}.timeline[data-v-a6832fca]{position:relative;list-style:none;display:inline-flex;flex-wrap:nowrap;margin:0;padding-left:100px;height:100%;text-align:start;vertical-align:top}.timeline .dummy[data-v-a6832fca]{visibility:hidden;opacity:0;width:0!important;pointer-events:none}.timeline[data-v-a6832fca]:before{content:"";position:absolute;top:40%;top:calc(40% - 1px);width:100%;height:2px;background:var(--decoration-color-primary)}.timeline>li[data-v-a6832fca]{display:flex;padding:0 5px;width:350px;border-left:thin dashed #ffffff4f}.timeline .banner[data-v-a6832fca]{overflow:hidden;padding:10px;width:100%;height:100px;border:1px var(--decoration-color-primary) solid;background-color:red;border-radius:30px;margin:5px 0;cursor:pointer;position:relative}.timeline .banner.mystic[data-v-a6832fca]{background:#6b266b;background-image:url(https://p4.wallpaperbetter.com/wallpaper/237/281/286/space-universe-nebula-star-wallpaper-preview.jpg);background-size:cover;color:#fff}.timeline .banner.covenant[data-v-a6832fca]{background-color:#fff}.timeline .banner.limited[data-v-a6832fca]{background-color:#544caf}.timeline .banner.fire[data-v-a6832fca]{background-color:#af4c4c}.timeline .banner.ice[data-v-a6832fca]{background-color:#4c8aaf}.timeline .banner.wind[data-v-a6832fca]{background-color:#4caf50}.timeline .wrapper-n[data-v-a6832fca]{position:absolute;top:calc(40% + 10px);width:0}.timeline .wrapper-m[data-v-a6832fca]{position:absolute;top:40px;width:0}span.banner-description[data-v-a6832fca]{display:inline-block;position:-webkit-sticky;position:sticky;width:100%;text-align:center;color:#fff;background-color:#000000aa;padding:10px 0}.timeline span.banner-description[data-v-a6832fca]{top:50%;transform:translateY(-50%)}.timeline>li[data-v-a6832fca]:before{content:attr(data-date);position:absolute;top:40%;transform:translateY(-50%) translateX(-16px) rotate(-45deg);width:20px;height:20px;z-index:2;border:thick solid #fff;background:#4caf50;color:#fff;text-indent:20px;line-height:10px;white-space:nowrap;pointer-events:none}.timeline div .icon_container[data-v-a6832fca]{white-space:nowrap;position:-webkit-sticky;position:sticky;right:0;left:0;display:inline-block;vertical-align:top;height:100%;float:right}.timeline div .icon_container>div[data-v-a6832fca]{height:inherit;position:relative;display:inline-block}.timeline div .icon_container img[data-v-a6832fca]{height:inherit;width:inherit;overflow:clip}div.isnew>img[data-v-a6832fca]{background-color:orange;border-radius:100px;border-radius:100%;border:solid #ff4500}div.isnew[data-v-a6832fca]:after{content:"N";position:absolute;top:0;right:0;width:-webkit-max-content;width:-moz-max-content;width:max-content;background-color:#ff4500;border-radius:100%;box-shadow:0 0 8px 5px #ff4500;color:#fff;font-size:75%;text-align:center;padding:2px 6px}.timeline>section.event-overlay[data-v-a6832fca]{z-index:1;position:absolute;display:inline-flex;height:40%!important;top:-35%;transition:top .4s ease}.timeline>section.event-overlay[data-v-a6832fca]:hover{z-index:2;top:0}.timeline .event-line[data-v-a6832fca]{position:relative;overflow:hidden;padding:0 10px;width:100%;height:40px;line-height:40px;border:1px var(--decoration-color-primary) solid;background-color:#fff;color:#000;border-radius:7px;margin:5px 0;cursor:pointer}.timeline .event-line.dummy[data-v-a6832fca]{opacity:0;visibility:0}@media screen and (max-height:600px){.timeline .banner[data-v-a6832fca]{height:70px!important}.timeline .wrapper-n[data-v-a6832fca]{top:calc(10% + 10px)}.timeline .wrapper-m[data-v-a6832fca]{top:calc(100% - 200px);display:flex;height:160px;flex-direction:column-reverse}.timeline .date[data-v-a6832fca]{top:calc(10% - 20px);transform:rotate(0deg)}.timeline[data-v-a6832fca]:before{top:10%;top:calc(10% - 1px)}.timeline>li[data-v-a6832fca]:before{top:10%}}.vtimeline[data-v-a6832fca]{position:relative;list-style:none;display:flex;flex-wrap:nowrap;flex-direction:column;margin:auto;padding:100px 0;width:100%;max-width:900px}.vtimeline .dummy[data-v-a6832fca]{visibility:none;opacity:0;pointer-events:none}.vtimeline[data-v-a6832fca]:before{content:"";position:absolute;left:40%;left:calc(40% - 1px);height:100%;width:2px;background:var(--decoration-color-primary)}.vtimeline>li[data-v-a6832fca]{display:flex;padding:5px 0;width:100%!important;height:200px}.vtimeline .banner[data-v-a6832fca]{overflow:hidden;padding:10px;max-width:100px;width:30%;margin-top:5px;border:1px var(--decoration-color-primary) solid;background-color:red;border-radius:30px;margin:0 5px;cursor:pointer;display:inline-block}.vtimeline .banner.mystic[data-v-a6832fca]{width:100px;background:#6b266b;background-image:url(https://p4.wallpaperbetter.com/wallpaper/237/281/286/space-universe-nebula-star-wallpaper-preview.jpg);background-size:cover;color:#fff}.vtimeline .banner.covenant[data-v-a6832fca]{background-color:#fff}.vtimeline .banner.limited[data-v-a6832fca]{background-color:#544caf}.vtimeline .banner.fire[data-v-a6832fca]{background-color:#af4c4c}.vtimeline .banner.ice[data-v-a6832fca]{background-color:#4c8aaf}.vtimeline .banner.wind[data-v-a6832fca]{background-color:#4caf50}.vtimeline .wrapper-n[data-v-a6832fca]{left:calc(40% + 10px);width:calc(60% - 10px)}.vtimeline .wrapper-m[data-v-a6832fca],.vtimeline .wrapper-n[data-v-a6832fca]{position:absolute;height:0;display:inline-flex}.vtimeline .wrapper-m[data-v-a6832fca]{left:10px;width:calc(40% - 20px);justify-content:flex-end}.vtimeline .wrapper-n>div[data-v-a6832fca]{display:inline-block}.vtimeline>li[data-v-a6832fca]:before{content:attr(data-date);position:absolute;left:40%;transform:translateY(-80%) translateX(-50%);height:20px;z-index:2;border:thick solid #fff;line-height:10px;white-space:nowrap;border-radius:10px;color:#000;background-color:#fff;pointer-events:none}.vtimeline div .icon_container[data-v-a6832fca]{display:inline-block;width:100%}.vtimeline div .icon_container>div[data-v-a6832fca]{width:inherit;position:relative}.vtimeline div .icon_container img[data-v-a6832fca]{width:inherit;height:inherit;overflow:clip}.vtimeline span.tevent[data-v-a6832fca]{font-size:45px;position:absolute;text-orientation:mixed;transform:translateY(-100%);color:var(--icon-bar-active);width:-webkit-max-content;width:-moz-max-content;width:max-content;opacity:.5;max-height:100%;text-align:end;text-decoration:none;z-index:1;margin-top:30px}',""]),t["default"]=s},50976:function(e,t,i){"use strict";var n=i(49963),a=i(66252),o=i(3577);const r={class:"container"},s=(0,a._)("img",{style:{height:"100px"},src:"https://cdn.glitch.com/6c14ca82-3bcb-4fd6-afa7-815b95e04a14%2Fras-run-slow.gif?v=1632241290215"},null,-1);function l(e,t,i,l,c,d){const h=(0,a.up)("Main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",r,[(0,a.Wm)(h,{standalone:!0})]),(0,a.wy)((0,a._)("div",{id:"loading",class:"noselect loading-container animatefade",onContextmenu:t[0]||(t[0]=e=>e.preventDefault())},[s,(0,a.Wm)(n.uT,{name:"slide-fade",mode:"out-in"},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.iD)("div",{key:d.loadingText,style:{"font-size":"32px",color:"white","text-shadow":"0px 0px 3px grey, 0 0 10px black, 0 0 10px black","line-height":"30px","padding-top":"12px","margin-left":"20px"}},(0,o.zw)(d.loadingText),1))])),_:1})],544),[[n.F8,d.loading]])],64)}i(33948),i(26699),i(2707),i(24603),i(28450),i(74916),i(84944),i(33792),i(65069);var c=i(86214),d=i(35089),h=i(82229),p={name:"shop-overlay",props:["events","vertical","timelinelength","timelinedates","daysize","direction"],data:function(){return{initialRender:!1,timelineItems:[],isOpen:!1}},created:function(){},computed:{rdte:function(){return[0,1].filter((e=>e!==this.direction))[0]}},methods:{open:function(){this.isOpen=!0},close:function(){this.isOpen=!1},checkRender:function(){},dateDiff:function(e,t){if(!e||!t)return 1;let i=e,n=t;if(i>n){var a=i;i=n,n=a}return(new Date(n).getTime()-new Date(i).getTime())/864e5},getEvents:function(){}},render:function(){return(0,a.h)("section",{},[(0,a.h)("div",{class:"tshop-overlay-label noselect",onClick:()=>this.isOpen?this.close():this.open()},[(0,a.h)("div",{style:"font-size: 20px;line-height: 40px;"+(this.vertical?"height:"+this.$store.state.screenHeight+"px;":"width:"+this.$store.state.screenWidth+"px")},this.isOpen?[(0,a.h)("i",{class:["fas",this.vertical?"fa-angle-double-right":"fa-angle-double-down"]}),(0,a.h)("span","Hide shop rotations"),(0,a.h)("i",{class:["fas",this.vertical?"fa-angle-double-right":"fa-angle-double-down"]})]:[(0,a.h)("i",{class:["fas",this.vertical?"fa-angle-double-left":"fa-angle-double-up"]}),(0,a.h)("span","View shop rotations"),(0,a.h)("i",{class:["fas",this.vertical?"fa-angle-double-left":"fa-angle-double-up"]})])]),(0,a.h)("div",{class:["glass-container shop-timeline",{open:this.isOpen}],style:{[this.vertical?"height":"width"]:"100%"}},[this.events.map(((e,t)=>(0,a.h)("div",{class:"shop-row"},[e.map((e=>e.dt[1]?(0,a.h)("div",{class:"shop-rotation",style:{[this.vertical?"height":"width"]:this.dateDiff(e.dt[this.direction],e.dt[this.rdte],this.direction)*this.daysize+"px",[this.vertical?"top":"left"]:this.dateDiff(e.dt[this.direction],this.timelinedates[1!==this.direction?this.timelinedates.length-1:0])*this.daysize+"px"}},(e.a||e.c).map((e=>(0,a.wy)((0,a.h)("img",{src:0===t?"https://res.cloudinary.com/ceciliabot/image/upload/epic-seven/item_arti/icon_art0000.png":"https://res.cloudinary.com/ceciliabot/image/upload/epic-seven/face/c0000_s.png","data-src":0===t?this.$store.getters.getArtifactIcon(e.id):this.$store.getters.getHeroIcon(e.id),crossorigin:"anonymous",SameSite:"Lax"}),[[h.Z],[d.Z,()=>0===t?this.$store.getters.getArtifactName(e.id):this.$store.getters.getHeroName(e.id)]])))):null))])))])])}},f=(i(72973),i(83744));const u=(0,f.Z)(p,[["__scopeId","data-v-25dd5ae8"]]);var m=u,g=i(42536),v=i(76163),b={name:"ctrlf-component",props:{events:{type:Array,required:!1,default:()=>[]},renderBox:{type:Boolean,required:!1,default:!0},searchFunction:{type:Function,required:!0},toDisplay:{type:Function,required:!0}},data:function(){return{render:!1,localRenderBox:!1,current:0,results:[],hideResultsBox:!1}},watch:{renderBox:{immediate:!0,handler:function(e){this.localRenderBox=e}}},computed:{mobile:function(){return!0}},created:function(){document.addEventListener("keydown",this.openCtrl,!0)},beforeUnmount:function(){document.removeEventListener("keydown",this.openCtrl,!0)},mounted:function(){},methods:{openCtrl:function(e){e.ctrlKey&&"f"===e.key&&(e.preventDefault(),this.render=!0,this.openSearchBar())},openSearchBar:function(){this.render=!0,this.focusInput(),this.selectInputContent()},focus:function(){this.focusInput(),this.selectInputContent()},focusInput:function(){this.$nextTick((()=>{this.$refs["input-search-box"].focus()}))},selectInputContent:function(){this.$nextTick((()=>{this.$refs["input-search-box"].select()}))},searchEvent:(0,v.Ds)((function(e){this.results=this.searchFunction(e.target.value),this.current=0,this.clickEvent(this.results[this.current])}),400),goToSearchEvent:function(e){this.results.length&&(this.current=e,this.current<0&&(this.current=this.results.length-1),this.current>this.results.length-1&&(this.current=0),this.clickEvent(this.results[this.current]))},clickEvent:function(e){this.$emit("event",e)},closeSearchBar:function(){this.render=!1}},render:function(){return(0,a.h)("div",{class:"search-box-pos",style:{display:this.render?"":"none"}},[(0,a.h)("div",{class:"ch-search-box"},[(0,a.h)("input",{ref:"input-search-box",onInput:e=>this.searchEvent(e),onKeydown:e=>{("enter"===e.key||13===e.keyCode)&&this.goToSearchEvent(this.current+1)},autocomplete:"off"}),(0,a.h)("div",{},Math.min(this.current+1,this.results.length)+"/"+this.results.length),(0,a.h)("span",{class:["fas fa-angle-up",{disabled:0===this.results.length}],onClick:()=>this.goToSearchEvent(this.current+1)}),(0,a.h)("span",{class:["fas fa-angle-down",{disabled:0===this.results.length}],onClick:()=>this.goToSearchEvent(this.current-1)}),(0,a.h)("span",{class:"fas fa-bars",onClick:()=>this.localRenderBox=!this.localRenderBox}),(0,a.h)("span",{class:"fas fa-times",onClick:()=>this.closeSearchBar()})]),this.localRenderBox?(0,a.h)("div",{class:["search-results-box",{hidebox:this.hideResultsBox}]},this.results.map(((e,t)=>(0,a.h)("div",{class:["item",{active:t===this.current}],onClick:()=>this.goToSearchEvent(t)},this.toDisplay(e))))):null])}};i(8621);const x=b;var y,w=x,k=i(52784);function S(e,t){var i=new Date(new Date(e).toISOString().substr(0,10));t||(t=(new Date).toISOString().substr(0,10));var n=new Date(t);if(i>n){var a=i;i=n,n=a}var o=i.getFullYear(),r=o%4===0&&o%100!==0||o%400===0?29:28,s=[31,r,31,30,31,30,31,31,30,31,30,31],l=n.getFullYear()-o,c=n.getMonth()-i.getMonth();c<0&&(l--,c+=12);var d=n.getDate()-i.getDate();return d<0&&(c>0?c--:(l--,c=11),d+=s[i.getMonth()]),l+"Y "+c+"M "+d+"D"}var z={name:"timeline-main",components:{},props:["standalone"],data:function(){return{VERSION:1.15,events:[],timelineItems:[],vertical:!1,daySize:20,direction:0,today:"",openBanner:!1,openChangelog:!1,covenantShop:[],galaxyShop:[],powderShop:[],balance:[]}},beforeCreate:function(){},created:function(){this.toggleLoading(!0,"downloading"),Promise.all([(0,k.Z)("./data/timeline/covenant.json").catch((()=>"[]")),(0,k.Z)("./data/timeline/mystic.json").catch((()=>"[]")),this.$store.dispatch("GET_HERO_DB"),this.$store.dispatch("GET_ARTIFACT_DB")]).then((e=>{this.events=this.compatibilityModeDates([].concat(JSON.parse(e[0]),JSON.parse(e[1]))),this.today=(new Date).toISOString().substr(0,10),this.$nextTick((()=>{this.toggleLoading(!1)})),Promise.all([(0,k.Z)("./data/timeline/powder-shop.json").catch((()=>"[]")),(0,k.Z)("./data/timeline/galaxy-coin-shop.json").catch((()=>"[]")),(0,k.Z)("./data/timeline/covenant-coin-shop.json").catch((()=>"[]"))]).then((e=>{this.powderShop=this.compatibilityModeDates(JSON.parse(e[0])),this.galaxyShop=this.compatibilityModeDates(JSON.parse(e[1])),this.covenantShop=this.compatibilityModeDates(JSON.parse(e[2]))}))}))},beforeMount:function(){},mounted:function(){y=this.$refs.TIMELINE_CONTAINER,y.addEventListener("wheel",this.horizionatlScroll)},beforeUnmount:function(){y.removeEventListener("wheel",this.horizionatlScroll),y=null},watch:{timelineDates:function(){this.timelineItems=this.buildRenderArray(),this.$nextTick((()=>{this.$refs[this.today].scrollIntoView({behavior:"auto",block:"center",inline:"center"})}))},direction:function(){this.loading().then((()=>{this.timelineItems=this.buildRenderArray(),this.$nextTick((()=>{this.$refs[this.today].scrollIntoView({behavior:"auto",block:"center",inline:"center"})}))}))},vertical:function(e){this.direction=e?1:0,this.$nextTick((()=>{this.$refs[this.today].scrollIntoView({behavior:"auto",block:"center",inline:"center"})}))}},computed:{mobile:function(){return this.$store.state.isMobile},timelineDates:function(){for(var e=[this.today],t=0;t<this.events.length;t++){let n=this.events[t].dt;if(n)for(var i=0;i<n.length;i++)e.includes(n[i])||e.push(n[i])}return e.sort(((e,t)=>e<t?1:e===t?0:-1)),e},timelinePixelLength:function(){return this.dateDiff(this.timelineDates[0],this.timelineDates[this.timelineDates.length-1])}},methods:{compatibilityModeDates(e){var t=e=>e<10?"0"+e:e;return e.forEach((e=>{e.dt=(e.dt||[]).map((e=>{var i=new Date(e);return i.getUTCFullYear()+"-"+t(i.getUTCMonth()+1)+"-"+t(i.getUTCDate())}))})),e},home:function(){this.$store.commit("toggleMainMenu")},toggleLoading:function(e,t){this.$store.commit("loading",e,t)},loading:function(e){return this.toggleLoading(!0,e),new Promise((e=>{setTimeout((()=>{e(),this.$nextTick((()=>{this.$store.commit("loading",!1)}))}),0)}))},getHero:function(e){return this.$store.getters.getHero(e)},getHeroName:function(e){return this.$store.getters.getHeroName(e)},getHeroIcon:function(e){return this.$store.getters.getHeroIcon(e)},getArtifact:function(e){return this.$store.getters.getArtifact(e)},getArtifactName:function(e){return this.$store.getters.getArtifactName(e)||""},getArtifactIcon:function(e){return this.$store.getters.getArtifactIcon(e)},showSearchBar:function(){this.$refs.ctrlf.openSearchBar()},searchFunction:function(e){const t=this.events;if(!t.length||!e)return[];const i=new RegExp("(\\b|-)"+e,"i");var n=[["Banner",this.events],["Powder Shop",this.powderShop],["Galaxy Coin",this.galaxyShop],["Covenant Coin",this.covenantShop]].map((e=>e[1].filter((e=>!(!e.name||!i.test(e.name))||(!(!e.c||!e.c.some((e=>i.test(this.getHeroName(e.id)))))||(!!(e.a&&e.a.length&&e.a.some((e=>i.test(this.getArtifactName(e.id)))))||void 0)))).map((t=>("Banner"===e[0]?(t.handler=()=>this.$refs["shop-timeline"].close(),t.resultName=t.c?t.c.map((e=>this.getHeroName(e.id))).join(", "):e[0]):(t.handler=()=>this.$refs["shop-timeline"].open(),t.resultName=e[0]),t))))).flat().sort(((e,t)=>e.dt[0]<t.dt[0]?1:e.dt[0]===t.dt[0]?0:-1));return n},searchToDisplay:function(e){return e.dt[0]+" - "+e.resultName},goToSearchResult:function(e){if(e){e.handler&&e.handler();var t=this.dateDiff(e.dt[this.direction],this.timelineDates[1!==this.direction?this.timelineDates.length-1:0]),i={top:0,left:0,behavior:"smooth"};this.vertical?i.top=t*this.daySize:i.left=t*this.daySize+100-window.innerWidth/2,y.scrollTo(i)}},goToDate:function(e){this.$refs[e].scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},horizionatlScroll:function(e){const t=y;if(this.vertical)return;const i=e.deltaY<0&&t.scrollLeft>0,n=e.deltaY>0&&t.scrollLeft<t.scrollWidth-t.clientWidth;(i||n)&&(t.scrollLeft+=e.deltaY)},onContextMenu:function(e){this.$contextmenu(e,[{name:"Direction",children:[{class:0===this.direction?"fa fa-check":"",name:"Normal",handler:()=>this.direction=0},{class:1===this.direction?"fa fa-check":"",name:"Reverse",handler:()=>this.direction=1}]},{name:"Orientation",children:[{class:this.vertical?"":"fa fa-check",name:"Horizontal",handler:()=>this.vertical=!1},{class:this.vertical?"fa fa-check":"",name:"Vertical",handler:()=>this.vertical=!0}]},{name:"Change Day Size",children:[15,20,30,40,50].map((e=>({class:this.daySize===e?"fa fa-check":"",name:e,handler:()=>this.setDaySize(e)})))},{class:"fas fa-map-marker-alt",name:this.$t("strings.scroll_to_today"),handler:()=>this.goToDate(this.today)},{class:"fa fa-search",name:this.$t("strings.search"),handler:()=>this.showSearchBar()}])},dateDiff:function(e,t){if(!e||!t)return 1;let i=e,n=t;if(i>n){var a=i;i=n,n=a}return(new Date(n).getTime()-new Date(i).getTime())/864e5},formatDate:function(e,t){if(!e)return"";var i=e.split(/-/g),n=i[2],a=["January","February","March","April","May","June","July","August","September","October","November","December"][Number(i[1])-1],o=i[0];return Number(n)+" "+a.slice(0,3)+" "+o+(t?" - "+t:"")},dayGraphSize:function(e,t){return this.daySize*this.dateDiff(e,t)},setDaySize:function(e){this.loading().then((()=>{this.daySize=e,this.timelineItems=this.buildRenderArray()}))},buildRenderArray:function(){const e=[0,1][this.direction||0],t=[0,1].filter((t=>t!==e))[0],i=(e,t)=>({date:e,size:1===this.direction?this.dayGraphSize(t,e):this.dayGraphSize(e,t),m:[],n:[],e:[]});var n=this.events,a=this.timelineDates.slice().reverse(),o=[];1===this.direction&&(a=a.reverse());for(var r=0;r<a.length;r++){console.log(a[r]),o[r]||(o[r]=i(a[r],a[r+1]));for(var s=0;s<n.length;s++){var l=-1,c=n[s].dt[e]||n[s].dt[t],d="event"===n[s].type?"e":"mystic"===n[s].type?"m":"n";if(a[r]===c){n[s].dt[1]<this.today?n[s].bTooltip='Ended: <span style="color: #ff1919">'+S(n[s].dt[1],this.today)+"</span> ago":n[s].dt[0]>this.today?n[s].bTooltip='Starts: <span style="color: green">'+S(n[s].dt[0],this.today)+"</span>":n[s].bTooltip='Started: <span style="color: green">'+S(n[s].dt[0],this.today)+'</span> ago<br>Ends: <span style="color: #ff1919">'+S(n[s].dt[1],this.today)+"</span>",n[s].duration=this.dateDiff(n[s].dt[0],n[s].dt[1]),n[s].bannerClass="","limited"===n[s].type?n[s].bannerClass="limited":"mystic"===n[s].type?n[s].bannerClass="mystic":n[s].c&&n[s].c[0]&&(n[s].bannerClass=this.getHero(n[s].c[0].id).attribute),n[s].bannerSize=o[r].size-10;for(var h=0;h<o[r][d].length;h++)if(!o[r][d][h]){o[r][d][h]=n[s],l=h;break}-1===l&&(o[r][d].push(n[s]),l=o[r][d].length-1);var p=a.indexOf(n[s].dt[t])||1;for(h=r;h<p;h++)o[h]||(o[h]=i(a[h],a[h+1])),h!=r&&(n[s].bannerSize+=o[h].size),o[h][d][l]=n[s]}}}return o}},render:function(){return(0,a.h)("div",{style:"height: inherit",onContextmenu:this.onContextMenu},[this.openChangelog?(0,a.h)("div",{class:"center-modal",style:"position: absolute; z-index: 10;",onClick:e=>e.target===e.currentTarget?this.openChangelog=!this.openChangelog:null},[(0,a.h)("div",{class:"flat-modal glass-container-2",style:"padding: 10px; color: var(--font-color); overflow: auto;"},[(0,a.h)(c.Z,{path:"/views/timeline/",style:"height: auto;"})])]):null,(0,a.h)(g.Z,{mobile:this.mobile,options:[{title:this.$t("strings.search"),class:"fa fa-search",click:"search"},{title:this.$t("strings.scroll_to_today"),class:"fas fa-map-marker-alt",click:"goToday"},{title:this.$t("strings.vertical_toggle"),class:"fa fa-mobile "+(this.vertical?"fa-rotate-90":""),click:"vertical"},{title:this.$t("strings.changelog"),class:"fa fa-history",click:"changelog"},this.standalone?{}:{title:this.$t("strings.home"),class:"fa fa-home",click:"home"}],onSearch:()=>this.showSearchBar(),onGoToday:()=>this.goToDate(this.today),onHome:()=>this.home(),onVertical:()=>this.loading().then((()=>this.vertical=!this.vertical)),onChangelog:()=>this.openChangelog=!this.openChangelog,onLanguage:this.$localePicker}),(0,a.h)(w,{ref:"ctrlf",key:"ctrlf-timeline",mobile:this.mobile,events:this.events,toDisplay:this.searchToDisplay,searchFunction:this.searchFunction,onEvent:this.goToSearchResult}),(0,a.h)("div",{ref:"TIMELINE_CONTAINER",style:"height: inherit; width: inherit; overflow: auto;"},[(0,a.h)("ul",{class:this.vertical?"vtimeline":"timeline"},[(0,a.h)(m,{ref:"shop-timeline",events:[this.powderShop,this.galaxyShop,this.covenantShop],vertical:this.vertical,timelinedates:this.timelineDates,daysize:this.daySize,timelinelength:this.timelinePixelLength*this.daySize,direction:this.direction}),this.timelineItems.map(((e,t)=>(0,a.h)("li",{ref:e.date,key:e.date,class:{today:this.today===e.date},index:t,"data-date":this.$d(e.date,"short"),id:e.date,style:{[this.vertical?"height":"width"]:e.size+"px"}},[["m","n"].map((t=>(0,a.h)("section",{class:"wrapper-"+t,key:"wrapper-key-"+e.date+t},[e[t].map((t=>t.dt[this.direction||0]===e.date?(0,a.wy)((0,a.h)("div",{ref:t.id+"-"+e.date,key:t.id,class:"banner "+t.bannerClass,tabindex:0,"data-hero":t.c?t.c[0].id:"null",style:{[this.vertical?"height":"width"]:t.bannerSize+"px"}},[t.c?(0,a.h)("div",{class:"icon_container"},t.c.map((e=>(0,a.h)("div",{class:{isnew:e.new}},[(0,a.wy)((0,a.h)("img",{"data-src":this.getHeroIcon(this.getHero(e.id).id),src:"https://res.cloudinary.com/ceciliabot/image/upload/epic-seven/face/c0000_s.png",crossorigin:"anonymous",SameSite:"Lax"}),[[h.Z]])])))):null,t.name?(0,a.h)("span",{class:"banner-description"},t.name):null]),[[d.Z,{value:t.bTooltip}]]):(0,a.h)("div",{class:"banner dummy"})))])))])))])])])},renderError:function(){}};i(26461);const T=(0,f.Z)(z,[["__scopeId","data-v-a6832fca"]]);var j=T,D=i(20474),$=i(70849);function C(){var e,t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.height||document.body.clientHeight;e=t<=600,D.Z&&(D.Z.commit("updateIsMobile",e),D.Z.commit("updateWindowSize",t),D.Z.commit("updateWindowHeight",i))}window.onresize=C;var E={components:{Main:j},data:function(){return{VERSION:"1.0",memed:!1}},methods:{setLoading:function(e,t){this.$store.commit("loading",[e,t])},installPWA:function(){this.PWAButton.prompt(),this.PWAButton.userChoice.then((e=>{"dismissed"==e.outcome?console.log("Permission refused"):this.$set(this.$store.state,"installPWAButton",null)}))}},computed:{loading:function(){return this.$store.state.loading[0]},loadingText:function(){return this.$store.state.loading[1]}},created:async function(){if(console.log("%cCeciliaBot","font-size: 30px"),console.log(`%cVersion: ${this.VERSION}`,"color: red"),this.$store.commit("updateIsMobile",$.Z.any()),C(),console.log("Mobile:",this.$store.state.isMobile),Math.floor(100*Math.random())+1<5)return this.memed=!0;document.addEventListener("keydown",(e=>{"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&"true"!=e.target.contentEditable&&("Escape"!==e.key&&"m"!==e.key||this.openHome())}))}};i(93383);const _=(0,f.Z)(E,[["render",l]]);var O=_,I=i(89234),M=(i(99266),i(50681),i(71086),i(11830)),N=i(20351),Z=i(44082),A=i(47050),B=i(67482),R=i(82496);window.i18n=I.ZP;let H=(0,n.ri)(O);H.config.unwrapInjectedRef=!0,H.use(D.Z).use(I.ZP).use(Z.Z).use(A.Z).use(B.Z).use(N.Z).directive("tooltip",d.Z).directive("lazyloader",h.Z).directive("ripple-effect",M.Z).component("HeroIcon",R.Z).component("MobileFloatingMenu",g.Z).mount("#app")},8621:function(e,t,i){var n=i(64063);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var a=i(54402).Z;a("5e77d4b6",n,!0,{sourceMap:!1,shadowMode:!1})},72973:function(e,t,i){var n=i(62579);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var a=i(54402).Z;a("6f85b704",n,!0,{sourceMap:!1,shadowMode:!1})},26461:function(e,t,i){var n=i(74246);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var a=i(54402).Z;a("6aff819b",n,!0,{sourceMap:!1,shadowMode:!1})}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={id:n,exports:{}};return e[n](o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,n,a,o){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],o=e[d][2];for(var s=!0,l=0;l<n.length;l++)(!1&o||r>=o)&&Object.keys(i.O).every((function(e){return i.O[e](n[l])}))?n.splice(l--,1):(s=!1,o<r&&(r=o));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,a,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};i.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var o=Object.create(null);i.r(o);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){r[e]=function(){return n[e]}}));return r["default"]=function(){return n},i.d(o,r),o}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))}}(),function(){i.u=function(e){return"js/"+{28:"locales/zh-TW-artifacts-json",57:"changelog/views-tierlist-maker-changelog-en-json",78:"locales/en-strings-json",91:"locales/ko-heroes-json",233:"locales/ja-heroes-json",251:"locales/th-heroes-json",348:"locales/pt-heroes-json",359:"locales/th-artifacts-json",378:"locales/pt-strings-json",393:"changelog/views-timeline2-changelog-en-json",402:"changelog/views-camping-simulator-changelog-en-json",428:"locales/zh-strings-json",483:"changelog/views-timeline-changelog-en-json",499:"locales/zh-heroes-json",516:"locales/th-strings-json",534:"locales/ja-artifacts-json",553:"locales/zh-artifacts-json",635:"locales/es-heroes-json",726:"locales/it-strings-json",737:"locales/es-strings-json",787:"locales/ko-artifacts-json",813:"locales/zh-TW-strings-json",856:"locales/ko-strings-json",913:"locales/zh-TW-heroes-json",921:"locales/es-artifacts-json",950:"locales/pt-artifacts-json",977:"locales/ja-strings-json"}[e]+"."+{28:"8b7a507a",57:"08f68caf",78:"c9326bd6",91:"9b1d9e78",233:"049f084e",251:"10e68e02",348:"00bcd094",359:"b8239d11",378:"9db99c41",393:"a59a1560",402:"a98ff653",428:"fd058f09",483:"a4557575",499:"861d5ae1",516:"00f497d7",534:"82ad6153",553:"83a0c2a8",635:"9c2e4493",726:"2a4e3739",737:"9acc5ef7",787:"933d670a",813:"670aeb0b",856:"96567fa4",913:"917f0568",921:"a01de103",950:"aaf0cff5",977:"c24512d4"}[e]+".js"}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="v3:";i.l=function(n,a,o,r){if(e[n])e[n].push(a);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var h=c[d];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[a];var p=function(t,i){s.onerror=s.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(i)})),t)return t(i)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.j=741}(),function(){i.p=""}(),function(){var e={741:0};i.f.j=function(t,n){var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise((function(i,n){a=e[t]=[i,n]}));n.push(a[2]=o);var r=i.p+i.u(t),s=new Error,l=function(n){if(i.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",s.name="ChunkLoadError",s.type=o,s.request=r,a[1](s)}};i.l(r,l,"chunk-"+t,t)}},i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,r=n[0],s=n[1],l=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in s)i.o(s,a)&&(i.m[a]=s[a]);if(l)var d=l(i)}for(t&&t(n);c<r.length;c++)o=r[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(d)},n=self["webpackChunkv3"]=self["webpackChunkv3"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998,64],(function(){return i(50976)}));n=i.O(n)})();