(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[485],{30581:function(){},84049:function(e,t){"use strict";t["Z"]={emits:["input"],name:"SliderComponent",props:{disabled:{type:Boolean,default:!1},value:{default:!1},showLabels:{type:Boolean,default:!1},labelChecked:{type:String,default:""},labelUnchecked:{type:String,default:""}},data:function(){return{}},computed:{classes:function(){return{disabled:this.disabled}},label:function(){return this.toggled&&this.showLabels?this.labelChecked:this.labelUnchecked}},methods:{toggle:function(e){this.disabled||9===e.keyCode||this.$emit("input",!this.value)}}}},82517:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var i=n(73396),o=n(87139),r=n(77524),s=["checked"],a=(0,i._)("i",{class:"slider round"},null,-1);function l(e,t,n,l,c,u){return(0,i.wg)(),(0,i.iD)("label",{class:(0,o.C_)(["switch",u.classes]),role:"checkbox",onKeydown:[t[0]||(t[0]=function(){return u.toggle&&u.toggle.apply(u,arguments)}),t[1]||(t[1]=(0,r.D2)((function(){return u.toggle&&u.toggle.apply(u,arguments)}),["space"]))],onClick:t[2]||(t[2]=(0,r.iM)((function(){return u.toggle&&u.toggle.apply(u,arguments)}),["prevent"])),tabindex:"0"},[(0,i._)("input",{type:"checkbox",checked:n.value,tabindex:"-1"},null,8,s),a],34)}},26469:function(e,t,n){"use strict";n.d(t,{R:function(){return o},k:function(){return i}});n(40561);function i(e){return e[Math.floor(Math.random()*e.length)]}function o(e,t,n){if(t<n&&n--,t!==n){t>=e.length&&(t=e.length-1),n>=e.length&&(n=e.length-1);while(t<0)t+=e.length;while(n<0)n+=e.length;if(n>=e.length){var i=n-e.length+1;while(i--)e.push(void 0)}e.splice(n,0,e.splice(t,1)[0])}}},43241:function(e,t,n){"use strict";n.d(t,{OW:function(){return s},Pg:function(){return r},R6:function(){return l},cX:function(){return o},uG:function(){return a}});var i=n(89584);function o(e,t){var n=new Date(new Date(e).toISOString().substr(0,10));t||(t=(new Date).toISOString().substr(0,10));var i=new Date(t);if(n>i){var o=n;n=i,i=o}var r=n.getFullYear(),s=r%4===0&&r%100!==0||r%400===0?29:28,a=[31,s,31,30,31,30,31,31,30,31,30,31],l=i.getFullYear()-r,c=i.getMonth()-n.getMonth();c<0&&(l--,c+=12);var u=i.getDate()-n.getDate();return u<0&&(c>0?c--:(l--,c=11),u+=a[n.getMonth()]),l+"Y "+c+"M "+u+"D"}function r(e,t){if(!e||!t)return 1;isNaN(e)&&(e=new Date(e).getTime()),isNaN(t)&&(t=new Date(t).getTime());var n=e,i=t;if(n>i){var o=n;n=i,i=o}return(i-n)/864e5}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2022-09-29";return!(Math.round(r(e,t))%14)}function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0;if(e instanceof Date||(e=new Date(e)),o&&(t=e).setUTCHours.apply(t,(0,i.Z)(o)),void 0===n||isNaN(n))return console.error("Missing target day."),null;n=Math.min(n,6);var r=new Date(e),s=new Date(e);while(r.getUTCDay()!=n)r.setUTCDate(r.getUTCDate()+1);while(s.getDay()!=n)s.setUTCDate(s.getUTCDate()-1);Math.abs(e-r)<Math.abs(e-s)?e.setTime(r):e.setTime(s)}function l(e,t){var n=!1,i=new Date(new Date(e).toISOString().substr(0,10));t||(t=(new Date).toISOString().substr(0,10));var o=new Date(t);if(i>o){n=!0;var r=i;i=o,o=r}var s=i.getFullYear(),a=s%4===0&&s%100!==0||s%400===0?29:28,l=[31,a,31,30,31,30,31,31,30,31,30,31],c=o.getFullYear()-s,u=o.getMonth()-i.getMonth();u<0&&(c--,u+=12);var d=o.getDate()-i.getDate();return d<0&&(u>0?u--:(c--,u=11),d+=l[i.getMonth()]),[c,u,d,n]}},76163:function(e,t,n){"use strict";n.d(t,{Ds:function(){return i},P2:function(){return o}});n(74916),n(23123);function i(e,t){var n=null;return function(){clearTimeout(n);var i=arguments,o=this;n=setTimeout((function(){e.apply(o,i)}),t)}}function o(e,t){var n=!1;return function(){n||(e.apply(this,arguments),n=!0,setTimeout((function(){n=!1}),t))}}},41622:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(56084),o=n(50124),r=n(48534),s=(n(41539),n(54747),n(33948),n(21249),n(73396)),a={name:"ChangelogComponent",props:["path"],data:function(){return{changelog:[],normalizedPath:this.path,changelogLang:"",changelogFetching:!1,changelogFailed:!1,isVisible:!1,observer:null}},created:function(){while("."===this.normalizedPath.charAt(0)||"/"===this.normalizedPath.charAt(0))this.normalizedPath=this.normalizedPath.substring(1);this.observer=new IntersectionObserver(this.onElementObserved,{root:this.$el,threshold:0})},beforeUnmount(){this.observer.disconnect()},mounted:function(){this.observer.observe(this.$refs.changelog)},computed:{lang:function(){return this.$i18n.locale}},watch:{lang:function(){this.changelog=[],!this.changelogFetching&&this.visible&&this.getChangelog()}},methods:{onElementObserved(e){var t=this;e.forEach((function(e){var n=e.isIntersecting;n?(t.visible=!0,t.changelogFetching||t.changelogFailed||t.changelog.length&&t.changelogLang===t.$i18n.locale||t.getChangelog()):t.visible=!1}))},getChangelog:function(){var e=this;return this.changelogFailed=!1,this.changelogFetching=!0,Promise.all([n(68080)(`./${this.normalizedPath}changelog/${this.$i18n.locale}.json`).catch((0,r.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n(57630)(`./${e.normalizedPath}changelog/en.json`);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))))]).then((function(t){var n=(0,i.Z)(t,1),o=n[0],r=o.default||[];return e.changelog=r,Promise.resolve(o)})).catch((function(t){return e.changelogFailed=t,Promise.resolve(!1)})).finally((function(){e.changelogLang=e.$i18n.locale,e.changelogFetching=!1}))}},render:function(){return(0,s.h)("div",{ref:"changelog",class:"camping-change-log"},[(0,s.h)("h2",{class:"title"},[this.$t("strings.changelog"),":"]),this.changelog.length?this.changelog.map((function(e){return(0,s.h)("section",{class:"changelog-section"},[(0,s.h)("header",{class:"changelog-sec-header"},[(0,s.h)("span",{class:"changelog-badge version"},e[0].toFixed(2)),(0,s.h)("h2",{class:"changelog-header-title"},e[1])]),e[2].map((function(e){return(0,s.h)("ul",{},[(0,s.h)("li",{},[(0,s.h)("div",{class:"changelog-badge "+e[0]},e[0]),(0,s.h)("div",{class:"changelog-description flex-fill",innerHTML:e[1]})])])}))])})):(0,s.h)("div",{style:"text-align: center"},[this.changelogFetching?(0,s.h)("div",{class:"fa fa-circle-notch fa-spin"}):this.changelogFailed?(0,s.h)("div",{},this.changelogFailed):this.changelog&&this.changelog.length?null:(0,s.h)("div",{},"Changelog is empty")])])}};const l=a;var c=l},82714:function(e,t,n){"use strict";var i=n(30967),o=n(48974),r=(n(28991),n(40089));const s=(0,r.Z)(o.Z,[["render",i.s]]);t["Z"]=s},10587:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var i=n(73396);function o(e,t,n,o,r,s){return(0,i.wg)(),(0,i.iD)("div",null,"Sorry, no stats for this timeline :(")}var r={},s=n(40089);const a=(0,s.Z)(r,[["render",o]]);var l=a},52212:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eo}});var i=n(73396),o=n(87139),r={style:{height:"100%",width:"100%"}},s={style:{height:"50px",width:"100%"}},a=(0,i._)("div",null,"Customize",-1),l=(0,i._)("span",{class:"icon"},[(0,i._)("i",{class:"fa fa-plus"})],-1),c=[a,l];function u(e,t,n,a,l,u){var d=(0,i.up)("DynamicBackgroundImage"),h=(0,i.up)("TimelineCalendar"),g=(0,i.up)("TimelineItems"),m=(0,i.up)("TimelineSideMenu"),p=(0,i.up)("EventPopup"),f=(0,i.up)("SearchComponent"),v=(0,i.up)("TimelineManager"),w=(0,i.up)("ChangelogWindow");return(0,i.wg)(),(0,i.iD)("div",r,[l.dynamicBackground?((0,i.wg)(),(0,i.j4)(d,{key:0})):(0,i.kq)("",!0),(0,i._)("div",{ref:"SCROLL_TARGET",class:(0,o.C_)([this.vertical?"vtimeline":"ultimate-timeline"]),style:{position:"relative"}},[(0,i.Wm)(h,{start:l.startingDate,end:l.endDate,daySize:l.daySize},null,8,["start","end","daySize"]),(0,i._)("div",{style:(0,o.j5)(["padding-top: 15px; z-index: 2;",{[l.vertical?"height":"width"]:u.timelinePXLength}]),"data-drop":"timelines",onDrop:t[1]||(t[1]=function(){return u.dragDropTimeline&&u.dragDropTimeline.apply(u,arguments)})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.timelines,(function(e){return(0,i.wg)(),(0,i.j4)(g,{key:e,timeline:e,icon:l.supportedTimelines[e].icon,start:l.startingDate,end:l.endDate,daySize:l.daySize,onEvents:u.putEvents,onOpenEvent:u.openPopupEvent,onDestroyed:u.timelineRowDestroyed,onRemove:u.removeTimelineRow,onHighestDate:u.checkIfHigherEndDate},null,8,["timeline","icon","start","end","daySize","onEvents","onOpenEvent","onDestroyed","onRemove","onHighestDate"])})),128)),(0,i._)("div",s,[(0,i._)("div",{class:"timeline-row-aside glass-container-2",onClick:t[0]||(t[0]=function(e){return l.customizeTimelineWindow=!0})},c)])],36)],2),(0,i.Wm)(m,{"dynamic-background":l.dynamicBackground,onToggleUTC:u.toggleUTCTime,onToggleBackground:u.toggleBackground,onToggleVertical:u.toggleVertical,onToggleLowEndMode:u.toggleLowEndMode,onSearch:u.openNewSearchBar,onCustomize:t[2]||(t[2]=function(e){return l.customizeTimelineWindow=!0}),onChangelog:t[3]||(t[3]=function(e){return l.changelogWindow=!0}),onHome:t[4]||(t[4]=function(t){return e.$store.commit("toggleMainMenu")}),onGoToday:t[5]||(t[5]=function(e){return u.goToDate(Date.now())})},null,8,["dynamic-background","onToggleUTC","onToggleBackground","onToggleVertical","onToggleLowEndMode","onSearch"]),(0,i.Wm)(p,{event:l.openInPopup},null,8,["event"]),(0,i.Wm)(f,{events:l.events,onGoTo:u.goToEvent,"open-id":l.openSearchBar},null,8,["events","onGoTo","open-id"]),l.customizeTimelineWindow?((0,i.wg)(),(0,i.j4)(v,{key:1,visible:l.timelines,onSetTimelines:t[6]||(t[6]=function(e){return l.timelines=e}),onClose:t[7]||(t[7]=function(e){return l.customizeTimelineWindow=!1})},null,8,["visible"])):(0,i.kq)("",!0),l.changelogWindow?((0,i.wg)(),(0,i.j4)(w,{key:2,onClose:t[8]||(t[8]=function(e){return l.changelogWindow=!1})})):(0,i.kq)("",!0)])}n(65069),n(82772),n(40561);var d={style:{position:"sticky",top:"0"}},h={style:{position:"sticky",top:"0","z-index":"11"}},g={class:"timeline_header"},m=["data-background-break"],p={class:"month-label-box"},f={class:"month-label"},v={class:"day-of-week noselect"};function w(e,t,n,r,s,a){var l=(0,i.up)("NowIndicator");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",d,[(0,i._)("div",{class:"timeline-background",style:(0,o.j5)({width:(s.timelineLength+1)*this.daySize+"px","background-size":this.daySize+"px "+this.daySize+"px"})},null,4)]),(0,i._)("div",h,[(0,i.Wm)(l,{start:n.start,end:n.end,reverse:n.reverse,vertical:n.vertical},null,8,["start","end","reverse","vertical"])]),(0,i._)("div",g,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.calendar,(function(r){return(0,i.wg)(),(0,i.iD)("div",{key:r[0]},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r[1],(function(s){return(0,i.wg)(),(0,i.iD)("div",{key:s[0]+"-"+s[1],class:"month-block","data-background-break":s[2]},[(0,i._)("div",p,[(0,i._)("div",f,(0,o.zw)(e.$tm("strings.months")[s[0]])+" "+(0,o.zw)(r[0]),1)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s[1],(function(r){return(0,i.wg)(),(0,i.iD)("div",{key:r[0],ref_for:!0,ref:s[1]+"-"+s[0]+"-"+r[0],class:"timeline-day",onMouseenter:t[0]||(t[0]=function(){return a.selectActiveEvents&&a.selectActiveEvents.apply(a,arguments)}),onMouseleave:t[1]||(t[1]=function(){return a.deselectActiveEvents&&a.deselectActiveEvents.apply(a,arguments)}),style:(0,o.j5)({width:n.daySize+"px"}),tabindex:"0"},[(0,i._)("div",v,(0,o.zw)(e.$tm("strings.day_short")[r[1]]),1),(0,i._)("div",{class:(0,o.C_)(["date noselect",{"patch-day":r[3]}])},(0,o.zw)(r[0]),3)],36)})),128))],8,m)})),128))])})),128))])],64)}n(41539),n(54747);var y={class:"now_line"},b=(0,i._)("div",{id:"now_indicator",class:"now_pill"},null,-1),D=[b];function T(e,t,n,o,r,s){return(0,i.wg)(),(0,i.iD)("div",y,D)}var k=n(13087),S=n(62833),_=(n(21249),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,k.Z)(this,e),this.setData(t),this.startTimer()}return(0,S.Z)(e,[{key:"setData",value:function(e){this.date=void 0!==e.date?e.date&&isNaN(e.date)?new Date(e.date).getTime():e.date:this.date,this.utc=void 0!==e.utc?e.utc:this.utc,this.onUpdate=void 0!==e.onUpdate?e.onUpdate:this.onUpdate||function(){},this.onZero=void 0!==e.onZero?e.onZero:function(){}||function(){},this.interval=void 0!==e.interval?e.interval:this.interval||1e3}},{key:"startTimer",value:function(){var e=this;this.date?this.countDown():this.clock(),this.w=setTimeout((function(){e.date?e.t=setInterval((function(){return e.countDown()}),e.interval):e.t=setInterval((function(){return e.clock()}),e.interval)}),1e3-(new Date).getMilliseconds())}},{key:"countDown",value:function(){var e=(this.date-Date.now())/1e3,t=[86400,3600,60,1].map((function(t){var n=Math.max(Math.floor(e/t),0);return e-=t*n,n}));this.onUpdate(t,e),this.date-Date.now()<=0&&this.onZero()}},{key:"padNumber",value:function(e){return e<10?"0"+e:e}},{key:"clock",value:function(){var e=new Date,t=this.utc?e.getUTCHours():e.getHours(),n=this.padNumber(this.utc?e.getUTCMinutes():e.getMinutes()),i=this.padNumber(this.utc?e.getUTCSeconds():e.getSeconds());this.onUpdate([t,n,i],t+":"+n+":"+i)}},{key:"$update",value:function(e,t){t&&(clearInterval(this.t),clearTimeout(this.w)),this.setData(e),t&&this.startTimer()}},{key:"$destroy",value:function(){clearInterval(this.t),clearTimeout(this.w),this.t=null,this.w=null,this.interval=null,this.onUpdate=null,this.onZero=null,this.date=null,this.utc=null}}]),e}()),x=n(43241),E={name:"CurrentTimeIndicator",inject:["UTCTime","daySize"],props:{start:{type:Date},end:{type:Date},vertical:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1}},data(){return{timer:null,lastPositionAdjustment:-1}},watch:{daySize(){this.lastPositionAdjustment=-1},UTCTime(){this.timer&&this.timer.$update({utc:this.UTCTime})}},mounted(){var e=this;this.timer=new _({utc:this.UTCTime,onUpdate:function(t,n){if(document.getElementById("now_indicator").innerHTML=n,t[0]!==e.lastPositionAdjustment){e.lastPositionAdjustment=t[0];var i=new Date,o=i.getTimezoneOffset();e.updatePosition((0,x.Pg)(new Date,e.start),o)}}})},beforeUnmount(){this.timer.$destroy(),this.timer=null},methods:{updatePosition(e,t){var n=this.UTCTime?0:t/1440*this.daySize;document.getElementById("now_indicator").parentNode.style.left=e*this.daySize-n+"px"}}},C=n(40089);const M=(0,C.Z)(E,[["render",T]]);var z=M,I=n(58439),P={startingTimelines:["covenant","mystic","powder_shop","covenant_shop","galaxy_shop","exclusive_equipment","specialty_change","arena","world_arena","guild_war"],supportedTimelines:{covenant:{icon:I.cK+"item/token_ticket_rare.png"},mystic:{icon:I.cK+"item/token_ticket_special.png"},powder_shop:{icon:I.cK+"item/token_powder.png"},covenant_shop:{icon:I.cK+"item/token_rarecoin.png"},galaxy_shop:{icon:I.cK+"item/token_mooncoin.png"},exclusive_equipment:{icon:I.cK+"img/token_exclusive.png"},balance_adjustment:{icon:I.cK+"img/icon_menu_store.png"},specialty_change:{icon:I.cK+"img/icon_menu_classchange.png"},arena:{icon:I.cK+"img/icon_menu_arena.png"},world_arena:{icon:I.cK+"img/icon_battle.png"},guild_war:{icon:I.cK+"img/icon_menu_clan_war.png"},skin:{icon:I.cK+"img/icon_menu_skin.png"}},bgBreakPoints:{2018:{11:"https://multiplayer.net-cdn.it/thumbs/images/2018/11/16/epic-seven-cover_png_1200x0_crop_q85.jpg"},2019:{7:"https://i.redd.it/iw40wnybwjt41.jpg"},2020:{8:"https://i.ytimg.com/vi/vrdWaQMjK-g/maxresdefault.jpg"},2021:{4:"https://external-preview.redd.it/LxJvmBPs63PwYalDoaZrwlYivPiBuS1oE6pVdH8i9yA.jpg?auto=webp&s=54753599a34f858016cb0deb5becaeb6ac3725a6",6:"",7:"https://i.ibb.co/9W0WYDM/34307ae2205c4198a25ae3c6106915e1-1619684701-3.jpg",11:""},2022:{8:"https://progioco.com/wp-content/uploads/2022/08/Elenco-dei-sette-livelli-di-Epic-i-migliori-personaggi-per.jpg"}}},U=n(76163),$={name:"TimelineCalendar",components:{NowIndicator:z},props:{daySize:{type:Number,default:60},vertical:{type:Boolean,default:!1},reverse:{type:Boolean,default:!1},indicator:{type:Boolean,default:!0},start:{type:Date,default:0},end:{type:Date,default:0}},data(){return{calendar:[],lastDate:null,timelineLength:null}},mounted(){},beforeUnmount(){this.timer&&(this.timer.$destroy,this.timer=null)},watch:{end:{immediate:!0,handler:function(){this.calendar=this.generateArrayWithYear()}}},methods:{updateTimelineLength(e,t){this.timelineLength=(0,x.Pg)(e,t)},generateArrayWithYear(){var e=[],t=[],n=[],i=new Date(this.lastDate||this.start||"2018-11-01"),o=this.end?new Date(this.end):new Date,r=i.getUTCFullYear(),s=i.getUTCMonth(),a=!0;if(i>=o)return[];while(a){var l=i.getUTCFullYear(),c=i.getUTCMonth();if(c!==s){if(n.length){var u=P.bgBreakPoints[r],d=u&&u[s+1]?u[s+1]:void 0;t.push([s,n,d])}if(n=[],r>=o.getUTCFullYear()&&s>=o.getUTCMonth()){a=!1;break}s=c}l!==r&&(e.push([r,t]),t=[],r=l);var h=i.getUTCDay(),g=4===h&&(0,x.OW)(i);n.push([i.getUTCDate(),h,4===h,g]),i.setUTCDate(i.getUTCDate()+1)}return n.length&&t.push([s,n]),t.length&&e.push([r,t]),this.updateTimelineLength(new Date(this.start||"2018-11-01"),o),e},recursivePointerIntersections(e,t,n,i,o){for(var r=document.elementsFromPoint(e,t),s=0;s<r.length;s++)if(o(r[s]))break;(i&&t<window.innerHeight||!i&&e<window.innerWidth)&&this.recursivePointerIntersections(i?e:e+n,i?t+n:t,n,i,o)},selectActiveEvents:(0,U.Ds)((function(e){var t=this,n=(e.currentTarget||e.target).getBoundingClientRect();[n.left,n.left+n.width].forEach((function(e){t.recursivePointerIntersections(e,0,55,!0,(function(e){return!!e.classList.contains("banner")&&(e.classList.add("highlight"),!0)}))}))}),200),deselectActiveEvents:(0,U.Ds)((function(){(document.querySelectorAll(".banner.highlight")||[]).forEach((function(e){e.classList.remove("highlight")}))}),200)}};const O=(0,C.Z)($,[["render",w]]);var L=O,A={style:{position:"relative",height:"100%",width:"100%"}},j={class:"content"},N={style:{"text-align":"center"}},W=(0,i._)("span",null,"Stats",-1),B=[W],F=(0,i._)("span",null,"Remove",-1),R=[F],H={class:"icon"},Y=["src"];function q(e,t,n,r,s,a){var l=(0,i.up)("BannerItem"),c=(0,i.up)("StatisticsWindow"),u=(0,i.Q2)("ripple-effect"),d=(0,i.Q2)("drag");return(0,i.wg)(),(0,i.iD)("div",{class:"timeline-row",style:(0,o.j5)(a.timelineRowStyle)},[(0,i._)("div",A,[(0,i._)("div",{style:(0,o.j5)(a.timezonePaddingStyle)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.renderList,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.dt[0]+"-"+e.inDayIndex,event:e,daySize:n.daySize,vertical:a.vertical,category:n.timeline,onOpenEvent:a.openEvent},null,8,["event","daySize","vertical","category","onOpenEvent"])})),128))],4),(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:(0,o.C_)(["timeline-row-aside",{"glass-container-2":!this.lowEndMode,"low-end":this.lowEndMode}])},[(0,i._)("div",j,[(0,i._)("div",N,(0,o.zw)(n.timeline),1),(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button stroked primary",onClick:t[0]||(t[0]=function(e){return s.openStats=!0}),style:{"line-height":"1.5em"}},B)),[[u]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button stroked warn",onClick:t[1]||(t[1]=function(t){return e.$emit("remove",n.timeline)}),style:{"line-height":"1.5em"}},R)),[[u]])]),(0,i._)("div",H,[(0,i._)("img",{src:n.icon,style:{width:"36px"},crossorigin:"anonymous",samesite:"Lax"},null,8,Y)])],2)),[[d,{drops:["timelines"],node:this.$el,item:this.timeline,list:[],vertical:!this.vertical,disableDeepPlaceholder:!0}]])]),s.openStats?((0,i.wg)(),(0,i.j4)(c,{key:0,"timeline-key":n.timeline,"timeline-data":s.renderList,onClose:t[2]||(t[2]=function(e){return s.openStats=!1})},null,8,["timeline-key","timeline-data"])):(0,i.kq)("",!0)],4)}n(47042),n(33948),n(2707);var Z={class:"banner-text-wrapper"},Q={style:{position:"sticky",left:"0",display:"inline-block"}},K={key:1},X={class:"icon-container"},G=["src","data-src"];function V(e,t,n,r,s,a){var l=(0,i.Q2)("lazyloader"),c=(0,i.Q2)("tooltip");return(0,i.wg)(),(0,i.iD)("div",{style:(0,o.j5)(a.bannerStyle),onClick:t[0]||(t[0]=function(){return a.openEvent&&a.openEvent.apply(a,arguments)})},[(0,i._)("div",{class:(0,o.C_)(["banner",a.firstAttribute,n.event.class,n.category])},[(0,i._)("div",Z,[(0,i._)("div",Q,[a.showPill?((0,i.wg)(),(0,i.iD)("div",{key:0,ref:"timer_pill",class:(0,o.C_)(["time-pill",{ongoing:a.needsTimer}])},null,2)):(0,i.kq)("",!0),a.bannerText?((0,i.wg)(),(0,i.iD)("span",K,(0,o.zw)(a.bannerText),1)):(0,i.kq)("",!0)])]),(0,i._)("div",X,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.icons,(function(e){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("img",{key:e[1],src:e[0],"data-src":e[1],class:(0,o.C_)({new:e[2]}),crossorigin:"anonymous",SameSite:"Lax"},null,10,G)),[[l],[c,e[3]]])})),128))])],2)],4)}n(92222);function J(e){return e<10?"0"+e:e}var ee={name:"BannerItem",emits:["openEvent"],props:{event:{type:Object,required:!0},category:{type:String,required:!1},vertical:{type:Boolean,default:!1},daySize:{type:Number,default:30},reverse:{type:Boolean,default:!1}},data(){return{countDown:0}},mounted(){this.needsTimer&&this.createTimer(this.event)},beforeUnmount(){this.countDown&&this.countDown.$destroy(),this.countDown=null},computed:{bannerStyle(){return{position:"absolute",padding:this.vertical?"1px 0":"0 1px",transform:this.vertical?"translate("+55*this.event.inDayIndex+"px, "+(this.reverse?this.event.fromEnd:this.event.fromStart)*this.daySize+"px)":"translate("+(this.reverse?this.event.fromEnd:this.event.fromStart)*this.daySize+"px, "+55*this.event.inDayIndex+"px )",[this.vertical?"height":"width"]:this.daySize*this.event.size+"px"}},needsTimer(){return this.event.isOngoing||this.event.isComingSoon},showPill(){return this.needsTimer},icons(){var e=this,t=[];return this.event.c&&(t=t.concat(this.event.c.map((function(t){return[I.cK+"/face/c0000_s.png",e.$store.getters.getHeroIcon(t.id),t.new,function(){return e.heroAndArtifactTooltip(t.id,"hero")}]})))),this.event.a&&(t=t.concat(this.event.a.map((function(t){return[I.cK+"item_arti/icon_art0000.png",e.$store.getters.getArtifactIcon(t.id),t.new,function(){return e.heroAndArtifactTooltip(t.id,"artifact")}]})))),t},firstAttribute(){return"limited"===this.event.type?"limited":this.event.c&&this.event.c.length?this.$store.getters.getHero(this.event.c[0].id).attribute:"default"},bannerText(){return this.event.name}},methods:{openEvent(){this.$emit("openEvent",this.event)},heroAndArtifactTooltip(e,t){return"hero"===t?this.$store.getters.getHeroName(e):this.$store.getters.getArtifactName(e)},createTimer(e){var t=this;this.countDown=new _({date:e.isComingSoon?e.dt[0]:e.dt[1],interval:1e3,onUpdate:function(e){t.$refs.timer_pill.innerHTML=t.$tm("strings.Dhms").map((function(t,n){return void 0===e[n]?"":(n>0?J(e[n]):e[n])+t})).join(" ")},onZero:function(){e.isComingSoon&&e.dt[1]?(e.isComingSoon=!1,e.isOngoing=!0,t.countDown.$update({date:e.dt[1]})):(t.$refs.timer_pill.innerHTML="Closed",t.countDown.$destroy(),t.countDown=null,e.isComingSoon=!1,e.isOngoing=!1)}})}}};const te=(0,C.Z)(ee,[["render",V],["__scopeId","data-v-6851b88f"]]);var ne=te,ie=n(52784);function oe(e,t){for(var n=e.length-1;n>0;n--)if(t(e[n]))return e[n];return null}function re(e){return[e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()]}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=e[e.length-1];if(!i.isPrediction&&1!==e.length){for(var o={avgLength:0,avgDownTime:0,avgStartDay:0,avgEndDay:0,avgStartTime:[0,0,0],avgEndTime:[0,0,0]},r=0,s=0,a=null,l=e.length-1;l>=0;l--){if(!e[l])break;if(!t||e[l].type===t){if(6===r)break;r++;var c=new Date(e[l].dt[0]);if(o.avgStartDay+=c.getUTCDay(),re(c).forEach((function(e,t){o.avgStartTime[t]+=e})),e[l].dt[1]){var u=new Date(e[l].dt[1]);o.avgEndDay+=u.getUTCDay(),re(u).forEach((function(e,t){o.avgEndTime[t]+=e})),o.avgLength+=e[l].size,s++}a&&(o.avgDownTime+=a-Number(e[l].dt[1]||e[l].dt[0])),a=Number(e[l].dt[0])}}return o.avgLength=864e5*Math.round(o.avgLength/s),o.avgDownTime=Math.round(o.avgDownTime/r),o.avgStartDay=Math.round(o.avgStartDay/r),o.avgEndDay=Math.round(o.avgEndDay/s),o.avgStartTime=o.avgStartTime.map((function(e){return e/r})),o.avgEndTime=o.avgEndTime.map((function(e){return e/s})),n(o)}}function ae(e,t){var n={title:t.title||"",length:t.length||0,downTime:t.downTime?t.downTime<1e3?864e5*t.downTime:t.downTime:1,startingDay:t.startingDay,endingDay:t.endingDay,startTime:t.startTime,endTime:t.endTime,timelineStartingPoint:t.timelineStartingPoint,timelineEndingPoint:t.timelineEndingPoint||Date.now()},i=oe(e,(function(e){return!t.type||e.type===t.type}));if(i){if(!i.dt[1]&&n.length){var o=new Date(i.dt[0]).getTime(),r=new Date(o+n.length);return(0,x.uG)(r,n.endingDay,n.endTime),i.dt.push(r.getTime()),i.size=(r.getTime()-o)/864e5,i.isPrediction=!0,i.name=(i.name||"")+"[Ending Prediction]",Date.now()<o?i.isComingSoon=!0:Date.now()<r.getTime()&&(i.isOngoing=!0),r}if(i.dt[1]>Date.now())return;var s=new Date(Number(i.dt[1]||i.dt[0])+n.downTime);(0,x.uG)(s,n.startingDay,n.startTime);var a=s;n.length&&(a=new Date(s.getTime()+n.length),(0,x.uG)(a,n.endingDay,n.endTime));var l={dt:n.length?[s.getTime(),a.getTime()]:[s.getTime()],name:n.title,size:n.length?(a.getTime()-s.getTime())/864e5:1,fromStart:(0,x.Pg)(s,n.timelineStartingPoint),fromEnd:(0,x.Pg)(a,n.timelineEndingPoint),inDayIndex:0,isPrediction:!0};return Date.now()<s.getTime()?l.isComingSoon=!0:Date.now()<a.getTime()&&(l.isOngoing=!0),e.push(l),a}}function le(e,t){return se(e,"season",(function(n){return ae(e,{title:"Arena Season Automated Prediction",type:"season",length:n.avgLength,downTime:n.avgDownTime,startingDay:0,endingDay:1,startTime:[10,0,0],endTime:[5,0,0],timelineStartingPoint:t.start,timelineEndingPoint:t.end})}))}function ce(e,t){return se(e,"season",(function(n){return ae(e,{title:"World Arena Season Automated Prediction",type:"season",length:n.avgLength,downTime:n.avgDownTime,startingDay:6,endingDay:6,startTime:[3,0,0],endTime:[2,59,59],timelineStartingPoint:t.start,timelineEndingPoint:t.end})}))}function ue(e,t){return se(e,"season",(function(n){return ae(e,{title:"Guild War Season Automated Prediction",type:"season",length:n.avgLength,downTime:n.avgDownTime,startingDay:6,endingDay:6,startTime:[10,0,0],endTime:[9,59,59],timelineStartingPoint:t.start,timelineEndingPoint:t.end})}))}function de(e,t){return ae(e,{title:"Balance Preview Prediction",type:"balance",length:0,downTime:42,startingDay:5,endingDay:5,startTime:[10,0,0],endTime:[0,0,0],timelineStartingPoint:t.start,timelineEndingPoint:t.end})}var he=(0,i._)("img",{src:"https://page.onstove.com/img/icons/apple-touch-icon.png",samesite:"Lax"},null,-1);function ge(e,t,n,r,s,a){var l=(0,i.up)("FloatingWindow");return(0,i.wg)(),(0,i.j4)(l,{wid:n.timelineKey+"stats",onClose:a.close,"glass-window":!this.lowEndMode,"open-maximized":s.fullScreenWindows},{icon:(0,i.w5)((function(){return[he]})),title:(0,i.w5)((function(){return[(0,i._)("span",null,(0,o.zw)(a.windowTitle),1)]})),default:(0,i.w5)((function(){return[r.StatsComponent?((0,i.wg)(),(0,i.j4)((0,i.LL)(r.StatsComponent),{key:0,timelineId:n.timelineKey,data:n.timelineData},null,8,["timelineId","data"])):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)(" Loading ")],64))]})),_:1},8,["wid","onClose","glass-window","open-maximized"])}var me=n(44870),pe=n(77524),fe={class:"min-icon"},ve={class:"min-title"},we={class:"floating-content"},ye={class:"window-header"},be={class:"header-buttons"},De=(0,i._)("i",{class:"fas fa-window-minimize"},null,-1),Te=[De],ke=(0,i._)("i",{class:"fas fa-times"},null,-1),Se=[ke],_e={class:"window-body hide-scrollbar"};function xe(e,t,n,r,s,a){return(0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(),(0,i.j4)(i.lR,{to:s.teleport[1]},[(0,i._)("div",{onClick:t[0]||(t[0]=function(){return a.minimizedIconClick&&a.minimizedIconClick.apply(a,arguments)}),class:"minimized"},[(0,i._)("div",fe,[(0,i.WI)(e.$slots,"icon")]),(0,i._)("div",ve,[(0,i.WI)(e.$slots,"title")])])],8,["to"])),((0,i.wg)(),(0,i.j4)(i.lR,{to:s.teleport[0]},[(0,i.wy)((0,i._)("div",{ref:"floating-window",class:(0,o.C_)(["floating-window",{"glass-container-2":n.glassWindow,"flat-window":!n.glassWindow,"full-screen":s.isFullScreen}]),onFocusin:t[22]||(t[22]=function(){return a.onFocus&&a.onFocus.apply(a,arguments)}),onBlur:t[23]||(t[23]=function(){return a.onBlur&&a.onBlur.apply(a,arguments)}),tabindex:"0"},[(0,i._)("div",we,[(0,i._)("div",ye,[(0,i._)("div",{class:"window-title noselect",onMousedown:t[1]||(t[1]=(0,pe.iM)((function(){return a.moveWindowMouseDown&&a.moveWindowMouseDown.apply(a,arguments)}),["prevent"])),onTouchstart:t[2]||(t[2]=(0,pe.iM)((function(){return a.moveWindowMouseDown&&a.moveWindowMouseDown.apply(a,arguments)}),["prevent"]))},[(0,i.WI)(e.$slots,"icon"),(0,i.WI)(e.$slots,"title")],32),(0,i._)("div",be,[(0,i.WI)(e.$slots,"extra-button"),(0,i._)("button",{class:"header-button",onClick:t[3]||(t[3]=function(){return a.toggleMinimize&&a.toggleMinimize.apply(a,arguments)})},Te),(0,i._)("button",{class:"header-button",onClick:t[4]||(t[4]=function(){return a.toggleFullScreen&&a.toggleFullScreen.apply(a,arguments)})},[(0,i._)("i",{class:(0,o.C_)(["fa",s.isFullScreen?"fa-window-restore":"fa-window-maximize"])},null,2)]),(0,i._)("button",{class:"header-button close",onClick:t[5]||(t[5]=function(){return a.close&&a.close.apply(a,arguments)})},Se)])]),(0,i._)("div",_e,[(0,i.WI)(e.$slots,"default")])]),(0,i._)("div",{class:"resizer n",onMousedown:t[6]||(t[6]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)}),onTouchstart:t[7]||(t[7]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)})},null,32),(0,i._)("div",{class:"resizer e",onMousedown:t[8]||(t[8]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)}),onTouchstart:t[9]||(t[9]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)})},null,32),(0,i._)("div",{class:"resizer s",onMousedown:t[10]||(t[10]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)}),onTouchstart:t[11]||(t[11]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)})},null,32),(0,i._)("div",{class:"resizer w",onMousedown:t[12]||(t[12]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)}),onTouchstart:t[13]||(t[13]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)})},null,32),(0,i._)("div",{class:"resizer nw",onMousedown:t[14]||(t[14]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)}),onTouchstart:t[15]||(t[15]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)})},null,32),(0,i._)("div",{class:"resizer sw",onMousedown:t[16]||(t[16]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)}),onTouchstart:t[17]||(t[17]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)})},null,32),(0,i._)("div",{class:"resizer se",onMousedown:t[18]||(t[18]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)}),onTouchstart:t[19]||(t[19]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)})},null,32),(0,i._)("div",{class:"resizer ne",onMousedown:t[20]||(t[20]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)}),onTouchstart:t[21]||(t[21]=function(){return a.resizeMouseDown&&a.resizeMouseDown.apply(a,arguments)})},null,32)],34),[[pe.F8,!s.isMinimized]])],8,["to"]))],64)}function Ee(e){var t=e;return!t.clientX&&e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY}}function Ce(){Ie.forEach((function(e){e.minimize()}))}function Me(){var e=document.getElementById("FloatingWindowsContainer");if(e){var t=document.getElementById("FloatingWindowsIconContainer");return[e,t]}var n=document.createElement("div");n.id="FloatingWindowsContainer",n.style="position: fixed; bottom: 20px; left: 0; z-index: 20;";var i=document.createElement("div");i.tabIndex=-1,i.className="windows-apps-icon",i.style.display="none";var o=document.createElement("div");o.className="minimized",o.innerHTML='<div class="min-icon"><i class="fa fa-th"></i></div>',i.appendChild(o);var r=document.createElement("div");r.id="FloatingWindowsIconContainer",r.className="popup-window-icon-container material-popup";var s=document.createElement("div");return s.className="minimized",s.onclick=Ce,s.innerHTML='<div class="min-icon"><i class="fa fa-eye-slash"></i></div><div class="min-title">Minimize all</div>',r.appendChild(s),i.appendChild(r),n.appendChild(i),document.body.appendChild(n),[n,r]}var ze=Me(),Ie=[],Pe={emits:["close","minimize","restore","resize"],props:{wid:{required:!0},minheight:{type:Number,required:!1,default:30},minwidth:{type:Number,required:!1,default:130},glassWindow:{type:Boolean,default:!0},openMaximized:{type:Boolean,default:!1},size:{type:Object,required:!1},position:{required:!1}},data(){return{teleport:ze,isFullScreen:!1,isMinimized:!1,onMouseMove:[],onMouseUp:[],beforeSnapSize:null}},created(){window.addEventListener("mouseup",this.mouseUp),window.addEventListener("touchend",this.mouseUp),window.addEventListener("touchleave",this.mouseUp),this.openMaximized&&(this.isFullScreen=!0),this.position&&this.position},mounted(){var e=this.$refs["floating-window"],t=this.size&&this.size.width?this.size.width:Math.min(window.innerWidth-30,Math.max(.5*window.innerWidth,900)),n=this.size&&this.size.height?this.size.height:Math.min(window.innerHeight,Math.max(.5*window.innerHeight,500)),i=(window.innerWidth-t)/window.innerWidth*100/2+1*Ie.length+"%",o=(window.innerHeight-n)/window.innerHeight*100/2+1*Ie.length+"%";e.style.height=n+"px",e.style.width=t+"px";var r=this.position;if(r&&("string"===typeof r||r instanceof String)){var s={};-1!==r.indexOf("top")?s.top="1%":-1!==r.indexOf("bottom")&&(s.bottom="1%"),-1!==r.indexOf("left")?s.left="2%":-1!==r.indexOf("right")&&(s.right="2%"),r=s}r?(r.bottom?e.style.bottom=r.bottom:e.style.top=r.top||o,r.right?e.style.right=r.right:e.style.left=r.left||i):(e.style.top=o,e.style.left=i),Ie.push(this),ze[1].parentNode.style.display="",ze[1].parentNode.style.zIndex=Ie.length+1,e.style.zIndex=Ie.length},beforeUnmount(){window.removeEventListener("mouseup",this.mouseUp),window.removeEventListener("touchend",this.mouseUp),window.removeEventListener("touchleave",this.mouseUp),this.removeEvents(),Ie.splice(Ie.indexOf(this),1),Ie.length||(ze[1].parentNode.style.display="none")},watch:{},methods:{resizeMouseDown(e){var t=this;e.preventDefault(),e.stopPropagation(),this.removeEvents(),this.$refs["floating-window"].focus();var n=e.target.classList[1],i=this.$refs["floating-window"].getBoundingClientRect();e=Ee(e),this.beforeSnapSize=null,-1!==n.indexOf("n")?this.onMouseMove.push((function(n){return t.resize(n,i,1,e)})):-1!==n.indexOf("s")&&this.onMouseMove.push((function(e){return t.resize(e,i,1,!1)})),-1!==n.indexOf("w")?this.onMouseMove.push((function(n){return t.resize(n,i,0,e)})):-1!==n.indexOf("e")&&this.onMouseMove.push((function(e){return t.resize(e,i,0,!1)})),this.onMouseMove.forEach((function(e){window.addEventListener("mousemove",e),window.addEventListener("touchmove",e)})),this.$refs["floating-window"].style.boxShadow="#008eff 0px 0px 0px 2px",document.body.style.pointerEvents="none",this.onMouseUp.push((function(){document.body.style.pointerEvents=null,t.$refs["floating-window"].style.boxShadow=null}))},resize(e,t,n,i){var o,r=["width","height"][n],s=["clientX","clientY"][n],a=["left","top"][n];if(e=Ee(e),i){if(o=t[r]-(e[s]-i[s]),this["min"+r]>=o)return;this.$refs["floating-window"].style[r]=o+"px",this.$refs["floating-window"].style[a]=Math.max(0,t[a]+(e[s]-i[s]))+"px"}else{if(o=e[s]-t[a]+1,this["min"+r]>=o)return;this.$refs["floating-window"].style[r]=o+"px"}},moveWindowMouseDown(e){var t=this;this.$refs["floating-window"].focus(),e=Ee(e);var n=this.$refs["floating-window"].getBoundingClientRect(),i=this.beforeSnapSize?-this.beforeSnapSize.width/2:n.left-e.clientX,o=n.top-e.clientY;this.isFullScreen&&(i=-parseInt(this.$refs["floating-window"].style.width)/2),this.onMouseMove.push((function(e){return t.moveWindow(e,i,o)})),this.onMouseMove.forEach((function(e){window.addEventListener("mousemove",e),window.addEventListener("touchmove",e)})),this.onMouseUp.push(this.snapWindow),document.body.style.pointerEvents="none",this.onMouseUp.push((function(){return document.body.style.pointerEvents=null}))},moveWindow(e,t,n){e=Ee(e),this.isFullScreen=!1;var i=this.$refs["floating-window"].style;this.beforeSnapSize&&(i.height=this.beforeSnapSize.height+"px",i.width=this.beforeSnapSize.width+"px",this.beforeSnapSize=null),i.top=Math.max(0,Math.min(window.innerHeight-30,e.clientY+n)/window.innerHeight*100)+"%",i.left=Math.max(0,Math.min(window.innerWidth-30,e.clientX+t)/window.innerWidth*100)+"%"},snapWindow(e){var t=this.$refs["floating-window"],n=e.clientX,i=e.clientY,o=!1,r="100%",s="100%",a=0,l=0;if(n<15?(r="50%",l=0,o=!0):n>window.innerWidth-60&&(r="50%",l="50%",o=!0),i<15?(s="50%",a=0,o=!0):i>window.innerHeight-60&&(s="50%",a="50%",o=!0),!0===o){var c=t.getBoundingClientRect();this.beforeSnapSize={height:c.height,width:c.width},t.style.width=r,t.style.height=s,t.style.top=a,t.style.left=l}},applyMouseUpEvents(e){this.onMouseUp.forEach((function(t){t(e)}))},mouseUp(e){this.applyMouseUpEvents(e),this.removeEvents()},removeEvents(){this.onMouseMove.forEach((function(e){window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e)})),this.onMouseMove=[],this.onMouseUp=[]},moveToTheTop(){var e=Ie.indexOf(this);if(-1!==e){Ie.splice(e,1),Ie.push(this);for(var t=e;t<Ie.length;t++)Ie[t]&&(Ie[t].$refs["floating-window"].style.zIndex=t)}},onFocus(){this.moveToTheTop()},onBlur(){},toggleFullScreen(){this.isFullScreen=!this.isFullScreen},toggleMinimize(){this.isMinimized?this.resotreFromMinimized():this.minimize()},minimize(){this.$emit("minimize",this.wid),this.isMinimized=!0},resotreFromMinimized(){this.isMinimized=!1,this.moveToTheTop()},minimizedIconClick(){this.isMinimized?(this.$refs["floating-window"].focus(),this.toggleMinimize()):Ie.slice(-1)[0]!==this?this.$refs["floating-window"].focus():this.minimize()},outsideSetFocus(){this.$refs["floating-window"].focus(),this.isMinimized=!1},close(){this.$emit("close",this.wid)}}};const Ue=(0,C.Z)(Pe,[["render",xe]]);var $e=Ue,Oe=n(10587),Le={emits:["close"],inject:["lowEndMode"],components:{FloatingWindow:$e},props:{timelineKey:{type:String},timelineData:{type:Array,required:!0}},data(){return{results:null,fullScreenWindows:this.$store.getters.getIsMobile()}},setup(e){var t=(0,me.XI)("");return n(30597)(`./${e.timelineKey}.vue`).then((function(e){console.log(e.default),t.value=e.default})).catch((function(){t.value=Oe["default"]})),{StatsComponent:t}},computed:{windowTitle(){return this.timelineKey+" - Stats"}},methods:{getStats(){var e=this.timelineData,t={eventDates:[],newEventDates:[],characters:{},artifacts:{}};e.forEach((function(e){t.eventDates.push(e.dt),(e.c||[]).some((function(e){return e.new}))&&t.newEventDates.push(e.dt),(e.c||[]).forEach((function(n){t.characters[n.id]||(t.characters[n.id]=[]),t.characters[n.id].push(e.dt)})),(e.a||[]).forEach((function(n){t.artifacts[n.id]||(t.artifacts[n.id]=[]),t.artifacts[n.id].push(e.dt)}))})),this.results=t},close(){this.$emit("close")}}};const Ae=(0,C.Z)(Le,[["render",ge]]);var je,Ne,We,Be,Fe=Ae,Re=n(89584),He=(n(26699),n(32023),[]),Ye=[];function qe(e){var t=e;return!t.clientX&&e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY}}function Ze(e,t){je.hasMoved=!0,st(e,t),ot(e,t),wt(t.target,"dragstart",{node:t.target})}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je.offsetX=t.offsetX=t.box.left-t.clientX,je.offsetY=t.offsetY=t.box.top-t.clientY}function Ke(e){Ye=[],it(e),vt()}function Xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=Math.abs(t.clientY-je.freezeY)>3,r=Math.abs(t.clientX-je.freezeX)>3;if(je.horizontal&&o||je.vertical&&r)Ke(e);else if(o||r){Qe(e,t),Ze(e,t);var s,a=He.indexOf(i||Xe);if(-1!==a)(s=He).splice.apply(s,[a,1].concat((0,Re.Z)(n))),n.forEach((function(n){n(e,t)}))}}function Ge(e){e.stopPropagation()}function Ve(e){e.preventDefault()}function Je(e,t,n){var i=e.target===document.activeElement;if((!i||"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&!0!==e.target.contenteditable)&&(document.activeElement.blur(),(n||0===e.button&&!e.ctrlKey)&&!(n&&e.touches.length>1))){e.stopPropagation();var o=qe(e);je={originalEvent:e,item:t.item,index:t.index,from:t.list,drop:t.drops||[],node:t.node||e.currentTarget,vertical:t.vertical,targetDrop:null,targetIndex:null,freezeX:o.clientX,freezeY:o.clientY,deepPlaceholder:!t.disableDeepPlaceholder,immediate:t.immediate,center:!t.center,restoreOnSpill:t.restoreOnSpill},je.node instanceof Function&&(je.node=je.node(e)),void 0===je.index&&(je.index=Array.prototype.indexOf.call(je.node.parentNode.querySelectorAll("."+je.node.classList[0]),je.node)),je.box=je.node.getBoundingClientRect(),We=je.node.nextSibling,Be=je.node.parentNode;var r=[Ve,je.vertical?function(){}:ct,je.horizontal?function(){}:ut,je.center?ht:dt,gt];je.immediate?(et(e,[Qe,Ze].concat(r)),He=[].concat(r,[(0,U.P2)(pt,50)])):He=[Ge,function e(t,n){Xe(t,n,[].concat(r,[(0,U.P2)(pt,50)]),e)}],window.addEventListener("mousemove",tt,{passive:!1}),window.addEventListener("touchmove",tt,{passive:!1}),Ye=[rt,at,ft,vt],window.addEventListener("mouseup",it,{passive:!1,capture:!0}),window.addEventListener("touchend",nt,{passive:!1,capture:!0})}}function et(e,t){var n=qe(e),i=je.box,o={target:je.node,clientY:n.clientY,clientX:n.clientX,box:i,left:i.left,top:i.top,offsetX:je.offsetX||0,offsetY:je.offsetY||0};t.forEach((function(t){t&&t(e,o)}))}function tt(e){et(e,He)}function nt(e){e.touches.length||it(e)}function it(e){et(e,Ye),He=[],Ye=[],window.removeEventListener("mousemove",tt,{passive:!1}),window.removeEventListener("touchmove",tt,{passive:!1}),window.removeEventListener("mouseup",it,{passive:!1,capture:!0}),window.removeEventListener("touchend",nt,{passive:!1,capture:!0})}function ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je.originalStyle=t.target.style.cssText+"",t.target.style.width=getComputedStyle(t.target).width,t.target.style.height=getComputedStyle(t.target).height,t.target.style.left=t.box.left+"px",t.target.style.right=t.box.right+"px",t.target.classList.add("is-dragging"),document.body.classList.add("holding-drag"),document.body.appendChild(t.target)}function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};document.body===t.target.parentNode&&(Be.insertBefore(t.target,We),t.target.classList.remove("is-dragging"),t.target.style=je.originalStyle,document.body.classList.remove("holding-drag"))}function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ne=t.target.cloneNode(je.deepPlaceholder),Ne.className=t.target.className+" dragPlaceholder",Ne.id="item-placeholder",Ne.style.position="",t.target.parentNode.insertBefore(Ne,t.target)}function at(){Ne&&(Ne.remove(),Ne=null)}function lt(){Ne&&(Ne.style.display="none")}function ct(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.left=t.clientX,je.lastX=t.clientX}function ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.top=t.clientY,je.lastY=t.clientY}function dt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je.horizontal||(t.top=t.top+(t.offsetY||0)),je.vertical||(t.left=t.left+(t.offsetX||0))}function ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je.horizontal||(t.top=t.top-t.box.height/2),je.vertical||(t.left=t.left-t.box.width/2)}function gt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.target.style.left=t.left+"px",t.target.style.top=t.top+"px"}function mt(e,t){Ne&&(Ne.style.display="",e.insertBefore(Ne,t))}function pt(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=document.elementsFromPoint(je.lastX||je.freezeX,je.lastY||je.freezeY);for(var r in o)if((o[r]===Ne||i.target.classList.contains(o[r].classList[0]))&&(t=o[r]),je.drop.includes(o[r].getAttribute("data-drop"))){n=o[r];break}if(je.targetDrop!==n&&(wt(je.targetDrop,"dragleave",{node:je.node,state:je}),n&&wt(n,"dragenter",{node:je.node,state:je})),n)if(je.targetDrop=n,t)if(t===Ne)je.targetIndex=null!==je.targetIndex?je.targetIndex:je.index;else{var s=t.getBoundingClientRect(),a=je.vertical?s.top+s.height/2<je.lastY:s.left+s.width/2<je.lastX,l=t.getAttribute("data-item-index"),c=null!==l?Number(l):NaN;isNaN(c)&&(c=Array.prototype.indexOf.call(n.querySelectorAll("."+t.classList[0]+":not(.dragPlaceholder)"),t),Be===n&&je.index<=c&&c++),a?(mt(t.parentNode,t.nextSibling),c++):mt(t.parentNode,t),je.targetIndex=Math.max(0,c)}else mt(n),je.targetIndex=n.children.length;else je.restoreOnSpill&&(lt(),je.targetDrop=null,je.targetIndex=null);return null}function ft(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};je.hasMoved&&(je.targetDrop?wt(je.targetDrop,"drop",{item:je.item,list:je.from,oldIndex:je.index,index:je.targetIndex,node:je.node,clientX:t.clientX||je.lastX,clientY:t.clientY||je.lastY}):wt(t.target,"dragfail",{node:t.target,list:je.from,oldIndex:je.index}))}function vt(){je=null,We=null,Be=null}function wt(e,t,n){if(e&&t){var i=new CustomEvent(t,{detail:n||{}});e.dispatchEvent(i)}}var yt={beforeMount:function(e,t){e.setAttribute("data-item-index",t.value.index),e.setAttribute("data-item",t.value.item),e.onmousedown=function(e){return Je(e,t.value)},e.ontouchstart=function(e){return Je(e,t.value,!0)}},beforeUpdate:function(e,t){e.setAttribute("data-item-index",t.value.index),e.setAttribute("data-item",t.value.item),e.onmousedown=function(e){return Je(e,t.value)},e.ontouchstart=function(e){return Je(e,t.value,!0)}},beforeUnmount:function(){}},bt={beforeMount:function(e,t){e.setAttribute("data-drop",t.value)},beforeUpdate:function(e,t){e.setAttribute("data-drop",t.value)},beforeUnmount:function(){}},Dt={name:"TimelineItems",inject:["vertical","UTCTime","lowEndMode"],emits:["events","highestDate","openEvent","destroyed","remove"],directives:{drag:yt},components:{BannerItem:ne,StatisticsWindow:Fe},props:{timeline:{type:String,required:!0},icon:{type:String,required:!1},start:{type:Date,required:!0},end:{type:Date,required:!0},timelineLength:{type:Number,default:1},daySize:{type:Number,default:30}},data(){return{list:[],renderList:[],largestStack:0,prediction:function(){},openStats:!1}},created(){this.getTimelineItems(this.timeline)},beforeUnmount(){this.$emit("destroyed",this.timeline)},computed:{timeZonePadding(){return this.UTCTime?0:-(new Date).getTimezoneOffset()/1440*this.daySize},timezonePaddingStyle(){return{[this.vertical?"marginTop":"marginLeft"]:this.timeZonePadding+"px"}},timelineRowStyle(){return{[this.vertical?"width":"height"]:55*(this.largestStack+1)+"px"}}},watch:{list(){this.renderList=this.buildRenderArray(),this.$emit("events",this.timeline,this.list.slice())},start(){var e=this;this.renderList.forEach((function(t){t.fromStart=(0,x.Pg)(e.getDate(t.dt[0]),e.start)}))}},methods:{openEvent(e){this.$emit("openEvent",e)},getTimelineItems(e){var t=this;switch(e){case"covenant":Promise.all([(0,ie.Z)("./data/timeline/covenant.json").catch((function(){return"[]"})),this.$store.dispatch("GET_HERO_DB"),this.$store.dispatch("GET_ARTIFACT_DB")]).then((function(e){t.list=JSON.parse(e[0])}));break;case"mystic":Promise.all([(0,ie.Z)("./data/timeline/mystic.json").catch((function(){return"[]"})),this.$store.dispatch("GET_HERO_DB"),this.$store.dispatch("GET_ARTIFACT_DB")]).then((function(e){t.list=JSON.parse(e[0])}));break;case"covenant_shop":Promise.all([(0,ie.Z)("./data/timeline/covenant-coin-shop.json").catch((function(){return"[]"})),this.$store.dispatch("GET_HERO_DB")]).then((function(e){t.list=JSON.parse(e[0])}));break;case"galaxy_shop":Promise.all([(0,ie.Z)("./data/timeline/galaxy-coin-shop.json").catch((function(){return"[]"})),this.$store.dispatch("GET_HERO_DB")]).then((function(e){t.list=JSON.parse(e[0])}));break;case"powder_shop":Promise.all([this.$store.dispatch("GET_POWDER_SHOP"),this.$store.dispatch("GET_ARTIFACT_DB")]).then((function(e){t.list=e[0]}));break;case"specialty_change":Promise.all([(0,ie.Z)("./data/timeline/specialty-change.json").catch((function(){return"[]"})),this.$store.dispatch("GET_HERO_DB")]).then((function(e){t.list=JSON.parse(e[0])}));break;case"balance_adjustment":Promise.all([(0,ie.Z)("./data/timeline/balance.json").catch((function(){return"[]"})),this.$store.dispatch("GET_HERO_DB"),this.$store.dispatch("GET_ARTIFACT_DB")]).then((function(e){t.list=JSON.parse(e[0]),t.prediction=de}));break;case"exclusive_equipment":Promise.all([(0,ie.Z)("./data/timeline/exclusive-equipment.json").catch((function(){return"[]"})),this.$store.dispatch("GET_HERO_DB")]).then((function(e){t.list=JSON.parse(e[0])}));break;case"arena":Promise.all([(0,ie.Z)("./data/timeline/arena.json").catch((function(){return"[]"}))]).then((function(e){t.list=JSON.parse(e[0]),t.prediction=le}));break;case"world_arena":Promise.all([(0,ie.Z)("./data/timeline/world-arena.json").catch((function(){return"[]"}))]).then((function(e){t.list=JSON.parse(e[0]),t.prediction=ce}));break;case"guild_war":Promise.all([(0,ie.Z)("./data/timeline/guild-war.json").catch((function(){return"[]"}))]).then((function(e){t.list=JSON.parse(e[0]),t.prediction=ue}));break;case"skin":Promise.all([this.$store.dispatch("GET_HERO_DB"),(0,ie.Z)("./data/timeline/skin.json").catch((function(){return"[]"}))]).then((function(e){t.list=JSON.parse(e[1])}));break}},getDate(e){return isNaN(e)?new Date(e).getTime():e},buildRenderArray(){var e=this,t=this.list.sort((function(e,t){return e.dt[0]-t.dt[0]})),n=[],i=0,o="2000-01-01";t.forEach((function(t){t.dt[0]=e.getDate(t.dt[0]),t.dt[1]&&(t.dt[1]=e.getDate(t.dt[1])),t.c||(t.c=[]),!t.a&&(t.a=[]),t.class="max-content";for(var r=!t.dt[1],s=t.dt[0],a=t.dt[1]||t.dt[0],l=(0,x.Pg)(s,a),c=r?s+864e5*Math.max(t.c.length+t.a.length,0):a,u=(0,x.Pg)(s,e.start),d=(0,x.Pg)(e.end,a),h=-1,g=0;g<n.length;g++){var m=n[g];if(!(s<m)){h=g,n.splice(g,1,c);break}}-1===h&&(h=n.length,n.push(c)),o<t.dt[1]&&(o=t.dt[1]),t.fromStart=u,t.fromEnd=d,t.inDayIndex=h,t.size=Math.max(l,1),Date.now()<s?t.isComingSoon=!0:Date.now()<a&&(t.isOngoing=!0),h>i&&(i=h)}));var r=this.prediction(t,this);return this.largestStack=i,this.$emit("highestDate",r||o),t},diff(e,t){return(0,x.Pg)(e,t)}}};const Tt=(0,C.Z)(Dt,[["render",q]]);var kt=Tt;function St(e,t,n,o,r,s){var a=(0,i.up)("EventPopupWindow");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.openWindows,(function(e){return(0,i.wg)(),(0,i.j4)(a,{key:e[0],event:e[1],wid:e[0],onClose:function(t){return s.close(e)}},null,8,["event","wid","onClose"])})),128)}var _t=["href"],xt=(0,i._)("i",{class:"fas fa-external-link-alt"},null,-1),Et=[xt],Ct=(0,i._)("i",{class:"fas fa-share-alt"},null,-1),Mt=[Ct],zt=(0,i._)("img",{src:"https://page.onstove.com/img/icons/apple-touch-icon.png",samesite:"Lax"},null,-1),It={class:"window-content-body"},Pt={class:"event-side-menu"},Ut=(0,i._)("i",{class:"fa fa-home"},null,-1),$t=[Ut],Ot=["onClick"],Lt=(0,i._)("img",{src:"https://page.onstove.com/img/icons/apple-touch-icon.png"},null,-1),At=[Lt],jt=(0,i._)("img",{src:"https://page.onstove.com/img/icons/apple-touch-icon.png"},null,-1),Nt=[jt],Wt=(0,i._)("i",{class:"fa fa-comments"},null,-1),Bt=[Wt],Ft={style:{flex:"1",padding:"10px"}},Rt={key:0,style:{width:"100%","max-width":"1000px",padding:"20px",margin:"auto","background-color":"var(--background-modifier-darken-alpha)","border-radius":"8px"}},Ht={style:{"text-align":"center"}},Yt=["src"],qt={key:0},Zt={key:0},Qt={key:0};function Kt(e,t,n,r,s,a){var l=(0,i.up)("DISQUS"),c=(0,i.up)("StoveComponent"),u=(0,i.up)("FloatingWindow"),d=(0,i.Q2)("tooltip");return(0,i.wg)(),(0,i.j4)(u,{key:n.event,wid:n.wid,onClose:a.close,"open-maximized":a.fullScreenWindows,"glass-window":!a.lowEndMode},(0,i.Nv)({icon:(0,i.w5)((function(){return[zt]})),title:(0,i.w5)((function(){return[(0,i._)("span",null,(0,o.zw)(s.windowTitle),1)]})),default:(0,i.w5)((function(){return[(0,i._)("div",It,[(0,i._)("div",Pt,[(0,i._)("button",{onClick:t[1]||(t[1]=function(e){return s.TAB="HOME"}),class:"material-button flat basic"},$t),Array.isArray(n.event.nid)?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(n.event.nid,(function(e,t){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{key:"button-nid-"+e,onClick:function(t){return s.nid=e,s.TAB="STOVE"},class:"material-button flat basic"},At,8,Ot)),[[d,"Stove Notice"+(t+1)]])})),128)):n.event.nid?(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{key:"button-nid-"+n.event.nid,onClick:t[2]||(t[2]=function(e){return s.nid=n.event.nid,s.TAB="STOVE"}),class:"material-button flat basic"},Nt)),[[d,"Stove Notice"]]):(0,i.kq)("",!0),(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{onClick:t[3]||(t[3]=function(e){return s.TAB="DISQUS"}),class:"material-button flat basic"},Bt)),[[d,"Comments [Not STOVE]"]])]),(0,i._)("div",Ft,["HOME"===s.TAB?((0,i.wg)(),(0,i.iD)("div",Rt,[(0,i._)("div",Ht,[n.event.thumbnail?((0,i.wg)(),(0,i.iD)("img",{key:0,src:n.event.thumbnail,style:{width:"100%","border-radius":"8px"}},null,8,Yt)):(0,i.kq)("",!0)]),(0,i._)("div",null,[(0,i._)("span",null,"Start: "+(0,o.zw)(e.$d(n.event.dt[0],"long-with-time")),1),a.timeElapsed?((0,i.wg)(),(0,i.iD)("span",qt," ("+(0,o.zw)(a.timeElapsed[0])+" ago)",1)):(0,i.kq)("",!0)]),n.event.dt[1]?((0,i.wg)(),(0,i.iD)("div",Zt,[(0,i._)("span",null,"End: "+(0,o.zw)(e.$d(n.event.dt[1],"long-with-time")),1),a.timeElapsed?((0,i.wg)(),(0,i.iD)("span",Qt," ("+(0,o.zw)(a.timeElapsed[1])+" ago)",1)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),"DISQUS"===s.TAB?((0,i.wg)(),(0,i.j4)(l,{key:1,"discussion-id":a.DISQUSID},null,8,["discussion-id"])):(0,i.kq)("",!0),"STOVE"===s.TAB?((0,i.wg)(),(0,i.j4)(c,{key:s.nid,nid:s.nid,onTitle:a.updateTitle,onLink:a.updateLink},null,8,["nid","onTitle","onLink"])):(0,i.kq)("",!0)])])]})),_:2},[s.link?{name:"extra-button",fn:(0,i.w5)((function(){return[(0,i.wy)(((0,i.wg)(),(0,i.iD)("a",{href:s.link,target:"_blank"},Et,8,_t)),[[d,"Go to STOVE"]]),(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{onClick:t[0]||(t[0]=function(){return a.copyLink&&a.copyLink.apply(a,arguments)})},Mt)),[[d,"Copy link"]])]})),key:"0"}:void 0]),1032,["wid","onClose","open-maximized","glass-window"])}var Xt={name:"open-banner",props:["discussionId"],data:function(){return{DISQUSApproved:!1}},created:function(){this.checkDISQUSPrivacy()},methods:{checkDISQUSPrivacy:function(){var e=this;this.DISQUSApproved=!1,this.DISQUSApproved=localStorage.getItem("DISQUS_USER_APPROVAL"),this.DISQUSApproved&&this.$nextTick((function(){e.initDISQUS()}))},initDISQUS:function(){var e=document.createElement("iframe");e.style="height: 100%; width: 100%; border: none; outline: none;",this.$el.appendChild(e);var t=document.createElement("div");e.contentDocument.querySelector("body").appendChild(t),t.outerHTML='<div id="disqus_thread" style="font: normal 16px/1.5 \'Titillium Web\', sans-serif;"></div>';var n=e.contentDocument.createElement("script");n.type="text/javascript",n.innerHTML='var disqusId= "'+this.discussionId+'"; window.disqus_config = function () { this.page.url="https://ceciliabot.github.io/ultimate-timeline/?"+disqusId; this.page.identifier = disqusId; this.page.title = disqusId;}; var d = document, s = d.createElement("script"); s.src = "https://ceciliabot.disqus.com/embed.js"; s.setAttribute("data-timestamp", +new Date()); (d.head || d.body).appendChild(s);',e.contentDocument.querySelector("body").appendChild(n)}},render:function(){var e=this;return(0,i.h)("div",{style:"max-width: 1000px; margin: auto; height: 100%;",tabIndex:"-1"},[this.discussionId,this.DISQUSApproved?null:(0,i.h)("div",{},[(0,i.h)("div",{style:"text-align: center;"},["CeciliaBot's comment section is powered by DISQUS.",(0,i.h)("br"),"DISQUS is a third-party service and as such it may collect, use, store and transfer different kinds of personal data about you.",(0,i.h)("br"),"If you live outside the EU make sure to OPT-OUT from DISQUS' trackings: click on 'Do Not Sell My Data' at the bottom of the comment section or click ",(0,i.h)("a",{href:"https://disqus.com/data-sharing-settings/",target:"_blank"},"here."),(0,i.h)("br"),(0,i.h)("br"),"CeciliaBot does not actively collect your data!",(0,i.h)("br"),"Click the button bellow to accept and go to the comment section",(0,i.h)("br"),(0,i.h)("br"),(0,i.h)("button",{onClick:function(){localStorage.setItem("DISQUS_USER_APPROVAL",!0),e.checkDISQUSPrivacy()},class:"material-button flat accent"},"OK, I understand")])])])}};const Gt=Xt;var Vt=Gt,Jt={style:{width:"100%","max-width":"1000px",padding:"20px",margin:"auto","background-color":"var(--background-modifier-darken-alpha)","border-radius":"8px"}},en={style:{"text-align":"center"}},tn=["src"],nn=(0,i._)("p",null,"Sorry, something went wrong. Unable to get this STOVE notice!",-1),on={key:1,class:"fa fa-spinner fa-pulse",style:{"font-size":"70px","text-align":"center"}},rn={key:0,style:{"text-align":"center","margin-bottom":"5px"}},sn=["innerHTML"],an={key:1,style:{"text-align":"center"}},ln={key:0,style:{width:"100%"}},cn=(0,i._)("p",null,"Sorry no STOVE link has been provided for this event.",-1);function un(e,t,r,s,a,l){return(0,i.wg)(),(0,i.iD)("div",Jt,[r.nid?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",en,[a.fetchFailed?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("img",{src:n(28890)},null,8,tn),nn],64)):(0,i.kq)("",!0),a.isFetching?((0,i.wg)(),(0,i.iD)("i",on)):(0,i.kq)("",!0)]),a.author?((0,i.wg)(),(0,i.iD)("div",rn,(0,o.zw)(a.author)+" • "+(0,o.zw)(e.$d(this.date,"long-with-time","en")),1)):(0,i.kq)("",!0),(0,i._)("div",{innerHTML:a.body},null,8,sn)],64)):((0,i.wg)(),(0,i.iD)("div",an,[e.event.thumbnail?((0,i.wg)(),(0,i.iD)("img",ln)):(0,i.kq)("",!0),cn]))])}var dn=n(56084);n(74916),n(4723),n(39714),n(15306);function hn(e){var t={black:"#000000",white:"#ffffff",gray:"#808080",red:"#ff0000"};if(t[e]&&(e=t[e]),-1!==e.indexOf("#")){console.log("Is hex"),e=e.substring(1),e=parseInt(e,16);var n=e>>16&255,i=e>>8&255,o=e>>0&255;return[n,i,o]}return-1!==e.indexOf("rgb")?e.match(/\d+/g).map(Number):[255,255,255]}function gn(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function mn(e,t,n){return"#"+gn(e)+gn(t)+gn(n)}function pn(e){return(16777215^Number(`0x1${e.slice(1)}`)).toString(16).substr(1).toUpperCase()}function fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",n=hn(e),i=(0,dn.Z)(n,3),o=i[0],r=i[1],s=i[2],a=hn(t),l=(0,dn.Z)(a,3),c=l[0],u=l[1],d=l[2],h=.2126*o+.7152*r+.0722*s,g=.2126*c+.7152*u+.0722*d,m=Math.abs(h-g);return m<45&&"#"+pn(mn(o,r,s))}var vn={emits:["title","link"],props:{nid:{type:Number,required:!0}},data(){return{title:"",author:"",dt:0,body:"",link:"",mediaList:[],isFetching:!0,fetchFailed:!1}},watch:{title(){this.$emit("title",this.title)},link(){this.$emit("link",this.link)}},created(){var e=this;if(this.nid){var t=this.nid;Array.isArray(t)&&(t=t[0]),(0,ie.Z)("https://ceciliabotgithub.glitch.me/stove/"+t).then((function(e){return JSON.parse(e)})).then((function(t){console.log(t),e.title=t.title,e.author=t.user.nickname,e.date=Number(t.reg_dt),e.body=e.checkHtmlText(t.content),e.mediaList=t.media_list,e.$nextTick(e.patchHtml)})).catch((function(t){console.error(t),e.fetchFailed=!0})).finally((function(){e.isFetching=!1,e.link="https://page.onstove.com/epicseven/global/view/"+t}))}},methods:{checkHtmlText(e){return e.replace(/<([^/][\S]*?)(\sstyle\s*=\s*"[^<>]*(color|background)+[^<>]*")+[^<>]*>/gi,(function(e){return e.match(/\bcolor\s*:\s*[^;]+/i)?(e=e.slice(0,-1),e+=' data-color-patch="true">',e):(e=e.slice(0,-1),e+=' data-background-patch="true">',e)}))},getRecursiveParentBackground(e){if(e===this.$el)return null;var t=e.parentNode.style.background;return t||this.getRecursiveParentBackground(e.parentNode)},patchHtml(){var e=this;this.$el.querySelectorAll("img").forEach((function(t){t.style.cursor="pointer",t.style.maxWidth="100%",t.onclick=function(n){"IMG"===n.target.tagName&&e.$gallery([{src:t.src}],0)}})),this.$el.querySelectorAll("iframe").forEach((function(e){e.style.maxWidth="100%"})),this.$el.querySelectorAll("span, p").forEach((function(e){e.style.background=null})),this.$el.querySelectorAll("[data-color-patch]").forEach((function(t){var n=e.getRecursiveParentBackground(t);t.style.color=fn(t.style.color||"black",n||"#222222")})),this.$el.querySelectorAll("[data-background-patch]").forEach((function(e){var t=fn(e.style.color||"white",e.style.background);t&&(e.style.color=t)}))}}};const wn=(0,C.Z)(vn,[["render",un]]);var yn=wn,bn=n(50124),Dn=n(48534);function Tn(e){var t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy");return document.body.removeChild(t),n?Promise.resolve(e):Promise.reject("Fallback copy failed")}catch(i){return document.body.removeChild(t),Promise.reject("Fallback copy failed\n"+i)}}function kn(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){return Promise.resolve(e)}),(function(e){return Promise.reject("Could not copy: "+e)})):Tn(e).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}function Sn(e){var t=[new ClipboardItem({[e.type]:e})];if(!navigator.clipboard)return Promise.reject("Blob copy failed. Your browser does not support Clipboard API.");navigator.clipboard.write(t).then((function(){return Promise.resolve(t)}),(function(e){return Promise.reject("Could not copy: "+e)}))}function _n(e){return xn.apply(this,arguments)}function xn(){return xn=(0,Dn.Z)((0,bn.Z)().mark((function e(t){var n,i;return(0,bn.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"string"!==typeof t){e.next=5;break}return e.abrupt("return",kn(t));case 5:if(!(t instanceof Blob)){e.next=9;break}return e.abrupt("return",Sn(t));case 9:if(!(t instanceof HTMLElement)||["IMG","CANVAS"].includes(t.tagName)){e.next=13;break}return e.abrupt("return",kn(t.innerHTML));case 13:if(!(t instanceof HTMLElement)){e.next=25;break}if("CANVAS"!==t.tagName){e.next=18;break}return e.abrupt("return",t.toBlob((function(e){return Sn(e)})));case 18:return e.next=20,fetch(t.src);case 20:return n=e.sent,e.next=23,n.blob();case 23:return i=e.sent,e.abrupt("return",Sn(i));case 25:return e.abrupt("return",Promise.reject("Element type not supported"));case 28:return e.prev=28,e.t0=e["catch"](0),console.log("Copy error",e.t0),e.abrupt("return",Promise.reject(e.t0));case 32:case"end":return e.stop()}}),e,null,[[0,28]])}))),xn.apply(this,arguments)}var En={emits:["close"],inject:["lowEndMode"],components:{FloatingWindow:$e,StoveComponent:yn,DISQUS:Vt},props:{event:{type:Object,required:!0},wid:{required:!0}},data(){return{TAB:"HOME",windowTitle:"",link:"",nid:null}},mounted(){},created(){var e=this;this.windowTitle=this.event.c&&this.event.c.length?this.event.c.map((function(t){return e.$store.getters.getHeroName(t.id)})).join(", "):this.event.name||"Event"},computed:{DISQUSID(){return(this.event.c?this.event.c.map((function(e){return e.id})).sort((function(e,t){return e>t?1:-1})).join("-").slice(0,40).toUpperCase()+"_":this.event.a?this.event.a.map((function(e){return e.id})).sort((function(e,t){return e>t?1:-1})).join("-").slice(0,40).toUpperCase()+"_":this.event.name?this.event.name+"_":"")+this.UTCISODate(new Date(this.event.dt[0]))+"_"+this.UTCISODate(new Date(this.event.dt[1]||this.event.dt[0]))},fullScreenWindows(){return this.$store.getters.getIsMobile()},timeElapsed(){if(this.event.isComingSoon||this.event.isOngoing)return null;var e=["Y","M","D"],t=(0,x.R6)(this.event.dt[0]),n=this.event.dt[1]?(0,x.R6)(this.event.dt[1]):[];return[e.map((function(e,n){return t[n]+e})).join(" "),e.map((function(e,t){return n[t]+e})).join(" ")]}},methods:{UTCISODate(e){var t=function(e){return e<10?"0"+e:e};return e.getUTCFullYear()+"-"+t(e.getUTCMonth())+"-"+t(e.getUTCDate())},updateTitle(e){this.windowTitle=(e||"").slice()},updateLink(e){this.link=!!e&&e.slice()},copyLink(){var e=this;_n(this.link).then((function(){e.$snackbar.log({title:"Link copied to your clipboard"})})).catch((function(){e.$snackbar.error({title:"Could not copy"})}))},close(){this.$emit("close")}}};const Cn=(0,C.Z)(En,[["render",Kt]]);var Mn=Cn,zn={emits:[],components:{EventPopupWindow:Mn},props:{event:{required:!0}},watch:{event(){this.openWindows.push(["event-window-"+Date.now(),this.event])}},data(){return{openWindows:[]}},methods:{close(e){this.openWindows.splice(this.openWindows.indexOf(e),1)}}};const In=(0,C.Z)(zn,[["render",St]]);var Pn=In,Un={class:"phantom-background"},$n=["src"];function On(e,t,n,o,r,s){return(0,i.wg)(),(0,i.iD)("div",Un,[(0,i.Wm)(pe.uT,{name:"fade"},{default:(0,i.w5)((function(){return[((0,i.wg)(),(0,i.iD)("img",{src:r.dynamicSrc,key:r.dynamicSrc},null,8,$n))]})),_:1})])}n(26833);var Ln=Object.values(P.bgBreakPoints),An={props:{end:{type:Number}},data(){return{observer:null,breakPoints:[[],[],[],[],[]],dynamicSrc:"https://multiplayer.net-cdn.it/thumbs/images/2018/11/16/epic-seven-cover_png_1200x0_crop_q85.jpg"}},watch:{end(){this.oberveDOM()}},mounted(){var e=this;this.observer=new IntersectionObserver((function(t){t.forEach((function(t){var n;if(t.isIntersecting)n=t.target.getAttribute("data-background-break");else if(!n&&t.boundingClientRect.left>0){var i=Ln.indexOf(t.target.getAttribute("data-background-break"));-1!==i&&(n=Ln[i-1])}n&&(e.dynamicSrc=n)}))}),{rootMargin:"0px",threshold:0}),this.oberveDOM()},beforeUnmount(){this.observer.disconnect()},methods:{oberveDOM(){var e=this;document.querySelectorAll("[data-background-break]").forEach((function(t){return e.observer.observe(t)}))}}};const jn=(0,C.Z)(An,[["render",On],["__scopeId","data-v-4bc875ae"]]);var Nn=jn,Wn=function(e){return(0,i.dD)("data-v-a96f541c"),e=e(),(0,i.Cn)(),e},Bn={style:{"z-index":"50",position:"fixed"}},Fn=Wn((function(){return(0,i._)("img",{src:"/favicons/apple-touch-icon.png"},null,-1)})),Rn={style:{"max-width":"800px",margin:"auto",height:"100%"}},Hn={style:{"margin-right":"50px"}},Yn=Wn((function(){return(0,i._)("i",null,"Drag the items bellow to sort the timeline",-1)})),qn={class:"draggable-timeline-row-editor"},Zn={style:{flex:"1"}},Qn=["src"],Kn=["onClick"];function Xn(e,t,n,r,s,a){var l=(0,i.up)("FloatingWindow"),c=(0,i.Q2)("tooltip"),u=(0,i.Q2)("drag"),d=(0,i.Q2)("drop");return(0,i.wg)(),(0,i.iD)("div",Bn,[(0,i.Wm)(l,{wid:"timeline-rows-manager",onClose:a.close,"glass-window":!a.lowEndMode},{icon:(0,i.w5)((function(){return[Fn]})),title:(0,i.w5)((function(){return[(0,i.Uk)("Timeline Manager")]})),default:(0,i.w5)((function(){return[(0,i._)("div",Rn,[(0,i._)("div",Hn,[Yn,(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{style:{height:"100%"},onDrop:t[0]||(t[0]=function(e){return a.handleDropEvent(e.detail.item,s.timelinesArray,s.timelinesArray,e.detail.index,e.detail.oldIndex)})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.timelinesArray,(function(e,t){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:e,class:"draggable-timeline-row-wrapper"},[(0,i._)("div",qn,[(0,i._)("div",Zn,[(0,i._)("img",{src:s.timelines[e[0]].icon,style:{width:"1.5em","max-height":"2em","vertical-align":"middle"},crossorigin:"anonymous",samesite:"Lax"},null,8,Qn),(0,i._)("span",null,(0,o.zw)(e[0]),1)]),(0,i.wy)((0,i._)("i",{class:(0,o.C_)(["fa",e[1]?"fa-eye on":"fa-eye-slash off"]),onClick:function(t){return e[1]=!e[1]}},null,10,Kn),[[c,function(){return a.tooltip(e[1])}]])])])),[[u,{drops:["timelines-manager"],index:t,item:e[0],list:s.timelinesArray,vertical:!0}]])})),128))],32)),[[d,"timelines-manager"]])])])]})),_:1},8,["onClose","glass-window"])])}n(57327);var Gn=n(26469),Vn={emits:["close","setTimelines"],inject:["lowEndMode"],components:{FloatingWindow:$e},directives:{drag:yt,drop:bt},props:{visible:{type:Array}},data(){return{timelines:P.supportedTimelines,timelinesArray:[],isInternalChange:!1}},created(){var e=this;this.timelinesArray=this.visible.map((function(e){return[e,!0]})),Object.keys(P.supportedTimelines).filter((function(t){return!e.visible.includes(t)})).forEach((function(t){return e.timelinesArray.push([t,!1])}))},watch:{visible:{deep:!0,handler:function(){var e=this;this.isInternalChange?this.isInternalChange=!1:this.timelinesArray.forEach((function(t){t[1]=e.visible.includes(t[0])}))}},timelinesArray:{deep:!0,handler:function(){this.$emit("setTimelines",this.applyChanges())}}},methods:{applyChanges(){return this.isInternalChange=!0,this.timelinesArray.filter((function(e){return e[1]})).map((function(e){return e[0]}))},tooltip(e){return e?"Click to hide":"Click to display"},close(){this.$emit("close")},handleDropEvent(e,t,n,i,o){if(o=Number(o),-1!==o)if(n===t){if(i===o)return;(0,Gn.R)(t,o,i)}else n.splice(o,1),t.splice(i,0,e)}}};const Jn=(0,C.Z)(Vn,[["render",Xn],["__scopeId","data-v-a96f541c"]]);var ei=Jn;function ti(e,t,n,o,r,s){var a=(0,i.up)("SearchWindow");return(0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.openWindows,(function(o){return(0,i.wg)(),(0,i.j4)(a,{key:o,ref_for:!0,ref:o,wid:o,events:n.events,onClose:s.closeWindow,onGoTo:t[0]||(t[0]=function(t){return e.$emit("goTo",t)})},null,8,["wid","events","onClose"])})),128))])}var ni=function(e){return(0,i.dD)("data-v-4f1dd323"),e=e(),(0,i.Cn)(),e},ii=ni((function(){return(0,i._)("i",{class:"fas fa-search"},null,-1)})),oi={ref:"el",style:{"max-width":"960px",margin:"auto"}},ri={class:"nsearchbar",style:{display:"flex",flex:"1",overflow:"hidden",position:"relative",height:"40px"}},si=["value","placeholder"],ai=ni((function(){return(0,i._)("i",{class:"fa fa-angle-up"},null,-1)})),li=[ai],ci=ni((function(){return(0,i._)("i",{class:"fa fa-angle-down"},null,-1)})),ui=[ci],di={class:"search-content hide-scrollbar"},hi={class:"table"},gi=ni((function(){return(0,i._)("thead",null,[(0,i._)("th",null,"Type"),(0,i._)("th",{style:{"column-width":"400px"}},"Match"),(0,i._)("th",null,"Date 1"),(0,i._)("th",null,"Length"),(0,i._)("th",null,"Time")],-1)})),mi=["onClick"],pi=["src"],fi={key:1},vi={style:{"max-width":"300px",overflow:"clip"}};function wi(e,t,n,r,s,a){var l=this,c=(0,i.up)("FloatingWindow"),u=(0,i.Q2)("ripple-effect");return(0,i.wg)(),(0,i.j4)(c,{ref:"search-window",wid:n.wid,minheight:81,onClose:a.close,"glass-window":!a.lowEndMode},{icon:(0,i.w5)((function(){return[ii]})),title:(0,i.w5)((function(){return[(0,i.Uk)("Timeline Quick Search")]})),default:(0,i.w5)((function(){return[(0,i._)("div",oi,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",ri,[(0,i._)("input",{ref:"tierlist-maker-search-bar",onInput:t[0]||(t[0]=function(){return a.typingSearch&&a.typingSearch.apply(a,arguments)}),value:s.searchQuery,style:{"background-color":"#575656ad"},placeholder:`${e.$t("strings.search")}...`,onKeydown:t[1]||(t[1]=function(e){("enter"===e.key||13===e.keyCode)&&l.goToAddition(1)}),autocomplete:"off"},null,40,si),(0,i._)("div",{class:"go",onClick:t[2]||(t[2]=function(e){return s.searchQuery="",e.currentTarget.previousSibling.focus()})},[(0,i._)("i",{class:(0,o.C_)(["fa",{"fa-search":!s.searchQuery,"fa-times":s.searchQuery}])},null,2)]),(0,i._)("div",{class:(0,o.C_)(["go",{disabled:!s.results.length}]),onClick:t[3]||(t[3]=function(e){return a.goToAddition(-1)})},li,2),(0,i._)("div",{class:(0,o.C_)(["go",{disabled:!s.results.length}]),onClick:t[4]||(t[4]=function(e){return a.goToAddition(1)})},ui,2)])),[[u]]),(0,i._)("div",di,[(0,i._)("table",hi,[gi,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.results,(function(t,n){return(0,i.wg)(),(0,i.iD)("tr",{key:"result-"+n,class:(0,o.C_)({active:n===s.currResult}),onClick:function(){return a.goToEvent(t,n)}},[(0,i._)("td",null,[s.timelineData[t._type].icon?((0,i.wg)(),(0,i.iD)("img",{key:0,src:s.timelineData[t._type].icon,style:{height:"1.5em","vertical-align":"middle"},crossorigin:"anonymous",samesite:"Lax"},null,8,pi)):((0,i.wg)(),(0,i.iD)("span",fi,(0,o.zw)(t._type),1))]),(0,i._)("td",vi,(0,o.zw)(t._searchMatch),1),(0,i._)("td",null,(0,o.zw)(e.$d(t.dt[0],"long","en")),1),(0,i._)("td",null,(0,o.zw)(isNaN(t.size)?"":Math.round(t.size)),1),(0,i._)("td",null,(0,o.zw)(t._elapsed),1)],10,mi)})),128))])])])],512)]})),_:1},8,["wid","onClose","glass-window"])}n(73210),n(38862),n(24603),n(28450),n(88386),n(77601);var yi={emits:["goTo","close"],inject:["lowEndMode"],components:{FloatingWindow:$e},props:{events:{type:Object,required:!0},wid:{type:String}},data(){return{timelineData:P.supportedTimelines,searchEvents:[],searchQuery:"",results:[],currResult:0}},watch:{searchQuery(){var e=this;this.results=this.searchFunction(this.searchQuery),this.$nextTick((function(){return e.goToEvent(e.results[0],0)}))}},mounted(){this.$refs["search-window"].outsideSetFocus(),this.focusSearchBar()},methods:{close(){this.searchQuery="",this.results=[],this.currResult=0,this.$emit("close",this.wid)},goToAddition(e){this.goToEventN(this.currResult+e)},goToEventN(e){this.currResult=e,this.currResult<0?this.currResult=Math.max(this.results.length-1,0):this.currResult>=this.results.length&&(this.currResult=0),this.goToEvent(this.results[this.currResult],this.currResult)},goToEvent(e,t){e&&(this.currResult=t,this.$emit("goTo",e))},outsideSetFocus(){this.$refs["search-window"].outsideSetFocus(),this.focusSearchBar()},focusSearchBar:function(){this.focusInput(),this.selectInputContent()},focusInput:function(){var e=this;this.$nextTick((function(){e.$refs["el"].querySelector("input").focus()}))},selectInputContent:function(){var e=this;this.$nextTick((function(){e.$refs["el"].querySelector("input").select()}))},typingSearch:(0,U.Ds)((function(e){this.searchQuery=e.target.value.trim()}),400),buildResultObject(e){return JSON.parse(JSON.stringify(e))},elapsed(e){return(0,x.R6)(Date.now(),e).map((function(e,t){return 3===t?e?"ago":"":e?e+["Y","M","D"][t]:""})).join(" ")},searchFunction(e){if(!e)return[];try{var t=this.events,n=[],i=new RegExp("(\\b|-)"+e,"i");for(var o in t)if(!this.searchEvents.length||this.searchEvents.includes(o))for(var r=0;r<t[o].length;r++){var s,a=t[o][r],l=!1;if(a.name&&i.test(a.name))s=this.buildResultObject(a),s._searchMatch=a.name+"",s._type=o,s._elapsed=this.elapsed(s.dt[0]),n.push(s);else{if(a.c){for(var c=0;c<a.c.length;c++){var u=this.$store.getters.getHeroName(a.c[c].id);if(i.test(u)){s=this.buildResultObject(a),s._searchMatch=u+"",s._type=o,s._elapsed=this.elapsed(s.dt[0]),n.push(s),l=!0;break}}if(l)continue}if(a.a){for(var d=0;d<a.a.length;d++){var h=this.$store.getters.getArtifactName(a.a[d].id);if(i.test(h)){s=this.buildResultObject(a),s._searchMatch=h+"",s._type=o,s._elapsed=this.elapsed(s.dt[0]),n.push(s),l=!0;break}}if(l)continue}}}return n.sort((function(e,t){return t.dt[1]-e.dt[0]}))}catch(g){return[]}}}};const bi=(0,C.Z)(yi,[["render",wi],["__scopeId","data-v-4f1dd323"]]);var Di=bi,Ti={name:"SearchBarsManager",components:{SearchWindow:Di},props:{openId:{type:String},events:{required:!0}},data(){return{openWindows:[]}},watch:{openId(e){this.openNewWindow(e)}},created(){window.addEventListener("keydown",this.keyboardShortcut)},beforeUnmount(){window.removeEventListener("keydown",this.keyboardShortcut)},methods:{openNewWindow(e){this.openWindows.push(e)},closeWindow(e){this.openWindows.splice(this.openWindows.indexOf(e),1)},keyboardShortcut(e){if(e.ctrlKey&&"f"===e.key){e.preventDefault();var t=this.openWindows[this.openWindows.length-1],n=this.$refs[t];t&&n?n[0].outsideSetFocus():this.openNewWindow("search-id-"+Date.now())}}}};const ki=(0,C.Z)(Ti,[["render",ti]]);var Si=ki,_i=(0,i._)("i",{class:"fa fa-history"},null,-1),xi=(0,i._)("div",{style:{"text-align":"center"}},"You can contact me on discord: gio#0898",-1);function Ei(e,t,n,o,r,s){var a=(0,i.up)("ChangelogComponent"),l=(0,i.up)("FloatingWindow");return(0,i.wg)(),(0,i.j4)(l,{wid:"changelog-ultimate-timeline",onClose:t[0]||(t[0]=function(t){return e.$emit("close")}),"glass-window":!s.lowEndMode},{icon:(0,i.w5)((function(){return[_i]})),title:(0,i.w5)((function(){return[(0,i.Uk)("Changelog")]})),default:(0,i.w5)((function(){return[xi,(0,i.Wm)(a,{path:"views/timeline2/"})]})),_:1},8,["glass-window"])}var Ci=n(41622),Mi={emits:["close"],inject:["lowEndMode"],components:{FloatingWindow:$e,ChangelogComponent:Ci.Z}};const zi=(0,C.Z)(Mi,[["render",Ei]]);var Ii=zi,Pi={class:"menu-icon pointer"},Ui=(0,i._)("i",{class:"fa fa-bars"},null,-1),$i=[Ui],Oi=(0,i.uE)('<div class="flex relative items-center justify-between margin-5 font-bold"><div class="pad-5 text-center menu-option-icon"><i class="fa fa-calendar-alt"></i></div><div class="flex-fill pad-5 text-ellipsis">Ultimate Timeline</div></div><div class="separator margin-5 round-s"></div>',2),Li={class:"flex-fill overflow-auto hide-scrollbar"},Ai={class:"flex flex-col flex-fill"},ji=["onClick"],Ni={class:"pad-5 text-center menu-option-icon"},Wi={class:"flex-fill pad-5 text-ellipsis"},Bi={class:"pad-5"},Fi={key:0,class:"fa fa-angle-right"},Ri=(0,i._)("div",{class:"separator margin-5 round-s"},null,-1),Hi=(0,i.uE)('<div class="pad-5 text-center"><img src="/favicons/android-chrome-192x192.png" style="height:1.5em;vertical-align:middle;"></div><div class="flex-fill pad-5 menu-option-icon">CeciliaBot Tools</div><div class="pad-5"><i class="fa fa-angle-right"></i></div>',3),Yi=[Hi];function qi(e,t,n,r,s,a){var l=(0,i.up)("Slider"),c=(0,i.Q2)("ripple-effect");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",Pi,[(0,i.wy)(((0,i.wg)(),(0,i.iD)("button",{class:"material-button flat primary round-0 mat-hover",style:{"font-size":"inherit"},onClick:t[0]||(t[0]=function(){return a.openMenu&&a.openMenu.apply(a,arguments)})},$i)),[[c]])]),(0,i._)("div",{class:(0,o.C_)(["side-menu flex flex-col justify-center font-l pad-5 margin-5 round-s noselect",{open:e.isOpen}])},[Oi,(0,i._)("div",Li,[(0,i._)("div",Ai,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.options,(function(e){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:e,class:(0,o.C_)(["flex relative items-center justify-between margin-5 round-s pointer mat-hover overflow-hidden",{disabled:e.disabled}]),onClick:function(t){return a.clickRow(t,e)}},[(0,i._)("div",Ni,[(0,i._)("i",{class:(0,o.C_)(e.class)},null,2)]),(0,i._)("div",Wi,(0,o.zw)(e.name),1),(0,i._)("div",Bi,[e.slider?e.slider?((0,i.wg)(),(0,i.j4)(l,{key:1,value:e.value},null,8,["value"])):(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("i",Fi))])],10,ji)),[[c]])})),128))])]),Ri,(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:"flex relative items-center justify-between margin-5 round-s pointer mat-hover overflow-hidden",onClick:t[1]||(t[1]=function(t){e.$store.commit("toggleMainMenu"),a.closeMenu()})},Yi)),[[c]])],2),(0,i._)("div",{class:(0,o.C_)(["menu-background container",{open:e.isOpen}]),onClick:t[2]||(t[2]=function(){return a.closeMenu&&a.closeMenu.apply(a,arguments)})},null,2)])}var Zi=n(82714),Qi={inject:["vertical","lowEndMode","UTCTime"],components:{Slider:Zi.Z},props:{dynamicBackground:{type:Boolean}},data:function(){var e=this;return{isOpen:!1,options:[{class:"fa fa-paint-brush",name:"Customize Timeline",click:function(){e.$emit("customize")}},{class:"fa fa-search",name:"Search",click:function(){e.$emit("search")}},{class:"fas fa-map-marker-alt",name:"Scroll to today",click:function(){e.$emit("goToday")}},{class:"fa fa-history",name:"Changelog",click:function(){e.$emit("changelog")}},{class:"fa fa-globe",name:"Language",click(){window.show()}},{class:"fa fa-clock",name:"Use local time",slider:!0,value:!this.UTCTime,click:function(){e.$emit("toggleUTC")}},{class:"fa fa-image",name:"Dynamic Background",slider:!0,value:this.dynamicBackground,click:function(){e.$emit("toggleBackground")}},{class:"fas fa-ruler-vertical fa-rotate-180",name:"Vertical layout",slider:!0,value:this.vertical,disabled:!0,click:function(){e.$emit("toggleVertical")}},{class:"fa fa-microchip",name:"Low-end mode",slider:!0,value:this.lowEndMode,click:function(){e.$emit("toggleLowEndMode")}}]}},methods:{openMenu(){this.isOpen=!0},closeMenu(){this.isOpen=!1},clickRow(e,t){if(!t.disabled){var n=!t.slider,i=function(){return n=!1};t.slider&&(t.value=!t.value),t.click&&t.click(e,t,i),n&&this.closeMenu()}}}};const Ki=(0,C.Z)(Qi,[["render",qi]]);var Xi=Ki;function Gi(e){var t=e.currentTarget||e.target;if(!e.ctrlKey){if(e.shiftKey)return t.scrollTop+=e.deltaY/2,void e.preventDefault();var n=e.deltaY<0&&t.scrollLeft>0,i=e.deltaY>0&&t.scrollLeft<t.scrollWidth-t.clientWidth;(n||i)&&(t.scrollLeft+=e.deltaY,e.preventDefault())}}var Vi={name:"UltimateTimeline",components:{TimelineCalendar:L,TimelineItems:kt,DynamicBackgroundImage:Nn,EventPopup:Pn,SearchComponent:Si,TimelineManager:ei,TimelineSideMenu:Xi,ChangelogWindow:Ii},provide:function(){var e=this;return{lowEndMode:(0,i.Fl)((function(){return e.lowEndMode})),vertical:(0,i.Fl)((function(){return e.vertical})),reverse:(0,i.Fl)((function(){return e.reverse})),daySize:(0,i.Fl)((function(){return e.daySize})),UTCTime:(0,i.Fl)((function(){return e.UTCTime}))}},data(){return{supportedTimelines:P.supportedTimelines,startingDate:new Date("2018-11-01 0:00:00Z"),endDate:new Date((new Date).setDate((new Date).getDate()+10)),vertical:!1,reverse:!1,daySize:30,UTCTime:!1,dynamicBackground:!0,lowEndMode:!1,customizeTimelineWindow:!1,changelogWindow:!0,openInPopup:null,openSearchBar:null,timelines:P.startingTimelines,events:{}}},created(){this.lowEndMode=this.$store.getters.getIsMobile()},mounted(){var e=this;window.setDay=function(t){e.daySize=t,e.UTCTime=!e.UTCTime},this.$refs.SCROLL_TARGET.addEventListener("wheel",Gi),this.goToDate(Date.now()+864e5,{behavior:"auto"})},beforeUnmount(){this.endDate=null,this.$refs.SCROLL_TARGET.removeEventListener("wheel",Gi)},watch:{},computed:{timelinePXLength(){return Math.ceil((0,x.Pg)(this.startingDate,this.endDate)+1)*this.daySize+"px"}},methods:{checkIfHigherEndDate(e){var t=new Date(e);if(!(t>this.endDate))return!1;this.endDate=new Date(t.getFullYear(),t.getMonth()+1,0)},putEvents(e,t){this.events[e]=t},timelineRowDestroyed(e){delete this.events[e]},removeTimelineRow(e){var t=this.timelines.indexOf(e);-1!==t&&this.timelines.splice(t,1)},dragDropTimeline(e){if(!e.detail.item&&void 0===e.detail.oldIndex)return console.error("Missing drop element name or starting index. At least one must be provided in the drag directive");var t=e.detail.index;if(void 0===t)return console.error("No drop position provided");var n=e.detail.oldIndex||this.timelines.indexOf(e.detail.item);if(n<0)return console.error("Could not find the item in the array");n!==t&&(0,Gn.R)(this.timelines,n,t)},goToEvent(e){this.goToDate(this.reverse&&e.dt[1]||e.dt[0])},goToDate(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=(0,x.Pg)(this.reverse?this.endDate:this.startingDate,e),i={top:0,left:0,behavior:t.behavior||"smooth"};this.vertical?i.top=n*this.daySize:i.left=n*this.daySize-window.innerWidth/2,this.$refs.SCROLL_TARGET.scrollTo(i)}},openPopupEvent(e){this.openInPopup=e},openNewSearchBar(){this.openSearchBar="search-id-"+Date.now()},toggleUTCTime(){this.UTCTime=!this.UTCTime},toggleBackground(){this.dynamicBackground=!this.dynamicBackground},toggleVertical(){this.vertical=!this.vertical},toggleLowEndMode(){this.lowEndMode=!this.lowEndMode}}};const Ji=(0,C.Z)(Vi,[["render",u]]);var eo=Ji},28991:function(e,t,n){"use strict";n(30581)},48974:function(e,t,n){"use strict";n.d(t,{Z:function(){return i.Z}});var i=n(84049)},30967:function(e,t,n){"use strict";n.d(t,{s:function(){return i.s}});var i=n(82517)},30597:function(e,t,n){var i={"./StatsError.vue":[10587],"./covenant.vue":[49897,897]};function o(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(o)}))}o.keys=function(){return Object.keys(i)},o.id=30597,e.exports=o},68080:function(e,t,n){var i={"./views/camping-simulator/changelog/en.json":[35502,402],"./views/tierlist-maker/changelog/en.json":[90419,57],"./views/timeline/changelog/en.json":[7467,483],"./views/timeline2/changelog/en.json":[58370,393]};function o(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,19)}))}o.keys=function(){return Object.keys(i)},o.id=68080,e.exports=o},57630:function(e,t,n){var i={"./views/camping-simulator/changelog/en.json":[35502,402],"./views/tierlist-maker/changelog/en.json":[90419,57],"./views/timeline/changelog/en.json":[7467,483],"./views/timeline2/changelog/en.json":[58370,393]};function o(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,19)}))}o.keys=function(){return Object.keys(i)},o.id=57630,e.exports=o},28890:function(e,t,n){"use strict";e.exports=n.p+"img/cermia404.00418f21.png"}}]);