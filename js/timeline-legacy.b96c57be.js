(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[951],{94362:function(t,e,i){var n=i(41589),a=Math.floor,o=function(t,e){var i=t.length,c=a(i/2);return i<8?r(t,e):s(t,o(n(t,0,c),e),o(n(t,c),e),e)},r=function(t,e){var i,n,a=t.length,o=1;while(o<a){n=o,i=t[o];while(n&&e(t[n-1],i)>0)t[n]=t[--n];n!==o++&&(t[n]=i)}return t},s=function(t,e,i,n){var a=e.length,o=i.length,r=0,s=0;while(r<a||s<o)t[r+s]=r<a&&s<o?n(e[r],i[s])<=0?e[r++]:i[s++]:r<a?e[r++]:i[s++];return t};t.exports=o},47045:function(t,e,i){var n=i(56339),a=i(3070);t.exports=function(t,e,i){return i.get&&n(i.get,e,{getter:!0}),i.set&&n(i.set,e,{setter:!0}),a.f(t,e,i)}},6790:function(t,e,i){"use strict";var n=i(43157),a=i(26244),o=i(7207),r=i(49974),s=function(t,e,i,c,l,d,h,f){var u,p,v=l,m=0,g=!!h&&r(h,f);while(m<c)m in i&&(u=g?g(i[m],m,e):i[m],d>0&&n(u)?(p=a(u),v=s(t,e,u,p,v,d-1)-1):(o(v+1),t[v]=u),v++),m++;return v};t.exports=s},84944:function(t,e,i){"use strict";var n=i(82109),a=i(6790),o=i(47908),r=i(26244),s=i(19303),c=i(65417);n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),i=r(e),n=c(e,0);return n.length=a(n,e,e,i,0,void 0===t?1:s(t)),n}})},33792:function(t,e,i){var n=i(51223);n("flat")},64063:function(t,e,i){"use strict";i.r(e);var n=i(8081),a=i.n(n),o=i(23645),r=i.n(o),s=r()(a());s.push([t.id,".search-box-pos{position:fixed;z-index:100;right:90px;top:0;width:328px;display:flex;flex-direction:column}.ch-search-box{background-color:#1d1d21;border-radius:5px;box-shadow:0 0 2px 2px #00000082;display:flex;padding:10px 15px;align-items:center;color:#a6a6a6;font-size:13px;text-align:center;transition:all .4s ease;z-index:1}.ch-search-box>input{background-color:transparent;border:none;color:#fff;outline:none;width:50%;font-size:12px;text-align:start;padding:8px 0}.ch-search-box>div{flex:1.6;border-right:2px solid #454343;padding:8px 0;margin-right:10px}.ch-search-box>span{flex:1;border-radius:100%}.ch-search-box>span.disabled{color:#ffffff1c}.ch-search-box>span:not(.disabled):hover{background-color:#ffffff1c;padding:8px 0}.search-results-box{top:0;right:0;padding:20px 0;max-height:300px;background-color:#1d1d21;color:#fff;overflow-y:auto;order:1;margin:0 10px;border-radius:0 0 8px 8px;scrollbar-width:none;box-shadow:0 0 2px 2px #00000082}.search-results-box.hidebox{height:0;padding:0;opacity:0}.search-results-box .item{cursor:pointer;padding:8px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:start;z-index:99}",""]),e["default"]=s},62579:function(t,e,i){"use strict";i.r(e);var n=i(8081),a=i.n(n),o=i(23645),r=i.n(o),s=r()(a());s.push([t.id,".tshop-overlay-label[data-v-25dd5ae8]{position:absolute;text-align:center;z-index:5;cursor:pointer;transition:box-shadow .3s ease}.tshop-overlay-label i[data-v-25dd5ae8]{padding:5px}.timeline .tshop-overlay-label[data-v-25dd5ae8]{width:100%;height:40px;bottom:0}.timeline .tshop-overlay-label[data-v-25dd5ae8]:hover{box-shadow:inset 0 -30px 32px -25px #596df5}.timeline .tshop-overlay-label>div[data-v-25dd5ae8]{position:-webkit-sticky;position:sticky;left:0}.vtimeline .tshop-overlay-label[data-v-25dd5ae8]{height:100%;width:40px;right:0;-webkit-writing-mode:vertical-lr;writing-mode:vertical-lr}.vtimeline .tshop-overlay-label[data-v-25dd5ae8]:hover{box-shadow:inset -30px 0 32px -25px #596df5}.vtimeline .tshop-overlay-label>div[data-v-25dd5ae8]{position:-webkit-sticky;position:sticky;top:0}.vtimeline .tshop-overlay-label span[data-v-25dd5ae8]{transform:rotate(180deg);display:inline-block}.timeline .shop-timeline[data-v-25dd5ae8]{z-index:1;height:40px;overflow:hidden;padding-top:40px;position:absolute;bottom:0;transition:height .4s ease}.timeline .shop-timeline.open[data-v-25dd5ae8]{height:60%;z-index:2}.timeline .shop-timeline>.shop-row[data-v-25dd5ae8]{position:relative;width:100%;height:28%;max-height:75px;margin:5px 0}.timeline .shop-row>.shop-rotation[data-v-25dd5ae8]{position:absolute;padding:5px;height:100%}.shop-row>.shop-rotation[data-v-25dd5ae8]{border-radius:10px;border:thin solid #fff;background-color:rgba(0,0,0,.5)}.timeline .shop-row>.shop-rotation img[data-v-25dd5ae8]{height:100%}.vtimeline .shop-timeline[data-v-25dd5ae8]{z-index:1;width:40px;overflow:hidden;padding-left:40px;position:absolute;right:0;transition:width .4s ease}.vtimeline .shop-timeline>.shop-row[data-v-25dd5ae8]{display:inline-block;position:relative;height:100%;width:28%;max-width:75px;margin:0 5px}.shop-timeline .shop-row>.shop-icon[data-v-25dd5ae8]{height:75px;display:none;width:75px;position:fixed;background-color:#000;z-index:1}.shop-timeline:hover .shop-row>.shop-icon[data-v-25dd5ae8]{display:block}.vtimeline .shop-row>.shop-rotation[data-v-25dd5ae8]{position:absolute;width:100%;padding:5px}.vtimeline .shop-row>.shop-rotation img[data-v-25dd5ae8]{width:100%}.vtimeline .shop-timeline.open[data-v-25dd5ae8]{width:60%;z-index:2}.shop-timeline .date-icon[data-v-25dd5ae8]{opacity:0;-webkit-animation-delay:.4s;animation-delay:.4s;-o-animation-delay:.4s}.shop-timeline:hover .date-icon[data-v-25dd5ae8]{opacity:1}.shop-timeline .date-icon[data-v-25dd5ae8]:after{content:attr(data-date);position:absolute;top:40%;transform:translateY(-50%) translateX(-16px) rotate(-45deg);width:20px;height:20px;z-index:2;border:thick solid #fff;background:#4caf50;color:#fff;text-indent:20px;line-height:10px;white-space:nowrap;pointer-events:none}",""]),e["default"]=s},74246:function(t,e,i){"use strict";i.r(e);var n=i(8081),a=i.n(n),o=i(23645),r=i.n(o),s=r()(a());s.push([t.id,'.timeline .date[data-v-a6832fca]{position:absolute;top:calc(40% - 50px);color:#fff;transform:rotate(-45deg);width:-webkit-max-content;width:-moz-max-content;width:max-content}.timeline span.tevent[data-v-a6832fca]{font-size:45px;line-height:1em;margin-left:-.2em;position:absolute;text-orientation:mixed;-webkit-writing-mode:vertical-rl;writing-mode:vertical-rl;top:100%;transform:translateY(-100%);color:var(--icon-bar-active);height:-webkit-max-content;height:-moz-max-content;height:max-content;opacity:.5;max-height:100%;text-align:end;text-decoration:none;z-index:1}span.tevent a[data-v-a6832fca]{text-decoration:none;color:inherit}#timeline[data-v-a6832fca]{text-align:center}.timeline li.today[data-v-a6832fca]{border-left:solid red}.vtimeline li.today[data-v-a6832fca]{border-top:solid red}.timeline[data-v-a6832fca]{position:relative;list-style:none;display:inline-flex;flex-wrap:nowrap;margin:0;padding-left:100px;height:100%;text-align:start;vertical-align:top}.timeline .dummy[data-v-a6832fca]{visibility:hidden;opacity:0;width:0!important;pointer-events:none}.timeline[data-v-a6832fca]:before{content:"";position:absolute;top:40%;top:calc(40% - 1px);width:100%;height:2px;background:var(--decoration-color-primary)}.timeline>li[data-v-a6832fca]{display:flex;padding:0 5px;width:350px;border-left:thin dashed #ffffff4f}.timeline .banner[data-v-a6832fca]{overflow:hidden;padding:10px;width:100%;height:100px;border:1px var(--decoration-color-primary) solid;background-color:red;border-radius:30px;margin:5px 0;cursor:pointer;position:relative}.timeline .banner.mystic[data-v-a6832fca]{background:#6b266b;background-image:url(https://p4.wallpaperbetter.com/wallpaper/237/281/286/space-universe-nebula-star-wallpaper-preview.jpg);background-size:cover;color:#fff}.timeline .banner.covenant[data-v-a6832fca]{background-color:#fff}.timeline .banner.limited[data-v-a6832fca]{background-color:#544caf}.timeline .banner.fire[data-v-a6832fca]{background-color:#af4c4c}.timeline .banner.ice[data-v-a6832fca]{background-color:#4c8aaf}.timeline .banner.wind[data-v-a6832fca]{background-color:#4caf50}.timeline .wrapper-n[data-v-a6832fca]{position:absolute;top:calc(40% + 10px);width:0}.timeline .wrapper-m[data-v-a6832fca]{position:absolute;top:40px;width:0}span.banner-description[data-v-a6832fca]{display:inline-block;position:-webkit-sticky;position:sticky;width:100%;text-align:center;color:#fff;background-color:#000000aa;padding:10px 0}.timeline span.banner-description[data-v-a6832fca]{top:50%;transform:translateY(-50%)}.timeline>li[data-v-a6832fca]:before{content:attr(data-date);position:absolute;top:40%;transform:translateY(-50%) translateX(-16px) rotate(-45deg);width:20px;height:20px;z-index:2;border:thick solid #fff;background:#4caf50;color:#fff;text-indent:20px;line-height:10px;white-space:nowrap;pointer-events:none}.timeline div .icon_container[data-v-a6832fca]{white-space:nowrap;position:-webkit-sticky;position:sticky;right:0;left:0;display:inline-block;vertical-align:top;height:100%;float:right}.timeline div .icon_container>div[data-v-a6832fca]{height:inherit;position:relative;display:inline-block}.timeline div .icon_container img[data-v-a6832fca]{height:inherit;width:inherit;overflow:clip}div.isnew>img[data-v-a6832fca]{background-color:orange;border-radius:100px;border-radius:100%;border:solid #ff4500}div.isnew[data-v-a6832fca]:after{content:"N";position:absolute;top:0;right:0;width:-webkit-max-content;width:-moz-max-content;width:max-content;background-color:#ff4500;border-radius:100%;box-shadow:0 0 8px 5px #ff4500;color:#fff;font-size:75%;text-align:center;padding:2px 6px}.timeline>section.event-overlay[data-v-a6832fca]{z-index:1;position:absolute;display:inline-flex;height:40%!important;top:-35%;transition:top .4s ease}.timeline>section.event-overlay[data-v-a6832fca]:hover{z-index:2;top:0}.timeline .event-line[data-v-a6832fca]{position:relative;overflow:hidden;padding:0 10px;width:100%;height:40px;line-height:40px;border:1px var(--decoration-color-primary) solid;background-color:#fff;color:#000;border-radius:7px;margin:5px 0;cursor:pointer}.timeline .event-line.dummy[data-v-a6832fca]{opacity:0;visibility:0}@media screen and (max-height:600px){.timeline .banner[data-v-a6832fca]{height:70px!important}.timeline .wrapper-n[data-v-a6832fca]{top:calc(10% + 10px)}.timeline .wrapper-m[data-v-a6832fca]{top:calc(100% - 200px);display:flex;height:160px;flex-direction:column-reverse}.timeline .date[data-v-a6832fca]{top:calc(10% - 20px);transform:rotate(0deg)}.timeline[data-v-a6832fca]:before{top:10%;top:calc(10% - 1px)}.timeline>li[data-v-a6832fca]:before{top:10%}}.vtimeline[data-v-a6832fca]{position:relative;list-style:none;display:flex;flex-wrap:nowrap;flex-direction:column;margin:auto;padding:100px 0;width:100%;max-width:900px}.vtimeline .dummy[data-v-a6832fca]{visibility:none;opacity:0;pointer-events:none}.vtimeline[data-v-a6832fca]:before{content:"";position:absolute;left:40%;left:calc(40% - 1px);height:100%;width:2px;background:var(--decoration-color-primary)}.vtimeline>li[data-v-a6832fca]{display:flex;padding:5px 0;width:100%!important;height:200px}.vtimeline .banner[data-v-a6832fca]{overflow:hidden;padding:10px;max-width:100px;width:30%;margin-top:5px;border:1px var(--decoration-color-primary) solid;background-color:red;border-radius:30px;margin:0 5px;cursor:pointer;display:inline-block}.vtimeline .banner.mystic[data-v-a6832fca]{width:100px;background:#6b266b;background-image:url(https://p4.wallpaperbetter.com/wallpaper/237/281/286/space-universe-nebula-star-wallpaper-preview.jpg);background-size:cover;color:#fff}.vtimeline .banner.covenant[data-v-a6832fca]{background-color:#fff}.vtimeline .banner.limited[data-v-a6832fca]{background-color:#544caf}.vtimeline .banner.fire[data-v-a6832fca]{background-color:#af4c4c}.vtimeline .banner.ice[data-v-a6832fca]{background-color:#4c8aaf}.vtimeline .banner.wind[data-v-a6832fca]{background-color:#4caf50}.vtimeline .wrapper-n[data-v-a6832fca]{left:calc(40% + 10px);width:calc(60% - 10px)}.vtimeline .wrapper-m[data-v-a6832fca],.vtimeline .wrapper-n[data-v-a6832fca]{position:absolute;height:0;display:inline-flex}.vtimeline .wrapper-m[data-v-a6832fca]{left:10px;width:calc(40% - 20px);justify-content:flex-end}.vtimeline .wrapper-n>div[data-v-a6832fca]{display:inline-block}.vtimeline>li[data-v-a6832fca]:before{content:attr(data-date);position:absolute;left:40%;transform:translateY(-80%) translateX(-50%);height:20px;z-index:2;border:thick solid #fff;line-height:10px;white-space:nowrap;border-radius:10px;color:#000;background-color:#fff;pointer-events:none}.vtimeline div .icon_container[data-v-a6832fca]{display:inline-block;width:100%}.vtimeline div .icon_container>div[data-v-a6832fca]{width:inherit;position:relative}.vtimeline div .icon_container img[data-v-a6832fca]{width:inherit;height:inherit;overflow:clip}.vtimeline span.tevent[data-v-a6832fca]{font-size:45px;position:absolute;text-orientation:mixed;transform:translateY(-100%);color:var(--icon-bar-active);width:-webkit-max-content;width:-moz-max-content;width:max-content;opacity:.5;max-height:100%;text-align:end;text-decoration:none;z-index:1;margin-top:30px}',""]),e["default"]=s},26771:function(t,e,i){"use strict";i(21249);var n=i(66252),a=i(76163);e["Z"]={name:"ctrlf-component",props:{events:{type:Array,required:!1,default:function(){return[]}},renderBox:{type:Boolean,required:!1,default:!0},searchFunction:{type:Function,required:!0},toDisplay:{type:Function,required:!0}},data:function(){return{render:!1,localRenderBox:!1,current:0,results:[],hideResultsBox:!1}},watch:{renderBox:{immediate:!0,handler:function(t){this.localRenderBox=t}}},computed:{mobile:function(){return!0}},created:function(){document.addEventListener("keydown",this.openCtrl,!0)},beforeUnmount:function(){document.removeEventListener("keydown",this.openCtrl,!0)},mounted:function(){},methods:{openCtrl:function(t){t.ctrlKey&&"f"===t.key&&(t.preventDefault(),this.render=!0,this.openSearchBar())},openSearchBar:function(){this.render=!0,this.focusInput(),this.selectInputContent()},focus:function(){this.focusInput(),this.selectInputContent()},focusInput:function(){var t=this;this.$nextTick((function(){t.$refs["input-search-box"].focus()}))},selectInputContent:function(){var t=this;this.$nextTick((function(){t.$refs["input-search-box"].select()}))},searchEvent:(0,a.Ds)((function(t){this.results=this.searchFunction(t.target.value),this.current=0,this.clickEvent(this.results[this.current])}),400),goToSearchEvent:function(t){this.results.length&&(this.current=t,this.current<0&&(this.current=this.results.length-1),this.current>this.results.length-1&&(this.current=0),this.clickEvent(this.results[this.current]))},clickEvent:function(t){this.$emit("event",t)},closeSearchBar:function(){this.render=!1}},render:function(){var t=this;return(0,n.h)("div",{class:"search-box-pos",style:{display:this.render?"":"none"}},[(0,n.h)("div",{class:"ch-search-box"},[(0,n.h)("input",{ref:"input-search-box",onInput:function(e){return t.searchEvent(e)},onKeydown:function(e){("enter"===e.key||13===e.keyCode)&&t.goToSearchEvent(t.current+1)},autocomplete:"off"}),(0,n.h)("div",{},Math.min(this.current+1,this.results.length)+"/"+this.results.length),(0,n.h)("span",{class:["fas fa-angle-up",{disabled:0===this.results.length}],onClick:function(){return t.goToSearchEvent(t.current+1)}}),(0,n.h)("span",{class:["fas fa-angle-down",{disabled:0===this.results.length}],onClick:function(){return t.goToSearchEvent(t.current-1)}}),(0,n.h)("span",{class:"fas fa-bars",onClick:function(){return t.localRenderBox=!t.localRenderBox}}),(0,n.h)("span",{class:"fas fa-times",onClick:function(){return t.closeSearchBar()}})]),this.localRenderBox?(0,n.h)("div",{class:["search-results-box",{hidebox:this.hideResultsBox}]},this.results.map((function(e,i){return(0,n.h)("div",{class:["item",{active:i===t.current}],onClick:function(){return t.goToSearchEvent(i)}},t.toDisplay(e))}))):null])}}},7620:function(t,e,i){"use strict";i(57327),i(41539),i(21249);var n=i(66252),a=i(35089),o=i(82229);e["Z"]={name:"shop-overlay",props:["events","vertical","timelinelength","timelinedates","daysize","direction"],data:function(){return{initialRender:!1,timelineItems:[],isOpen:!1}},created:function(){},computed:{rdte:function(){var t=this;return[0,1].filter((function(e){return e!==t.direction}))[0]}},methods:{open:function(){this.isOpen=!0},close:function(){this.isOpen=!1},checkRender:function(){},dateDiff:function(t,e){if(!t||!e)return 1;var i=t,n=e;if(i>n){var a=i;i=n,n=a}return(new Date(n).getTime()-new Date(i).getTime())/864e5},getEvents:function(){}},render:function(){var t=this;return(0,n.h)("section",{},[(0,n.h)("div",{class:"tshop-overlay-label noselect",onClick:function(){return t.isOpen?t.close():t.open()}},[(0,n.h)("div",{style:"font-size: 20px;line-height: 40px;"+(this.vertical?"height:"+this.$store.state.screenHeight+"px;":"width:"+this.$store.state.screenWidth+"px")},this.isOpen?[(0,n.h)("i",{class:["fas",this.vertical?"fa-angle-double-right":"fa-angle-double-down"]}),(0,n.h)("span","Hide shop rotations"),(0,n.h)("i",{class:["fas",this.vertical?"fa-angle-double-right":"fa-angle-double-down"]})]:[(0,n.h)("i",{class:["fas",this.vertical?"fa-angle-double-left":"fa-angle-double-up"]}),(0,n.h)("span","View shop rotations"),(0,n.h)("i",{class:["fas",this.vertical?"fa-angle-double-left":"fa-angle-double-up"]})])]),(0,n.h)("div",{class:["glass-container shop-timeline",{open:this.isOpen}],style:{[this.vertical?"height":"width"]:"100%"}},[this.events.map((function(e,i){return(0,n.h)("div",{class:"shop-row"},[e.map((function(e){return e.dt[1]?(0,n.h)("div",{class:"shop-rotation",style:{[t.vertical?"height":"width"]:t.dateDiff(e.dt[t.direction],e.dt[t.rdte],t.direction)*t.daysize+"px",[t.vertical?"top":"left"]:t.dateDiff(e.dt[t.direction],t.timelinedates[1!==t.direction?t.timelinedates.length-1:0])*t.daysize+"px"}},(e.a||e.c).map((function(e){return(0,n.wy)((0,n.h)("img",{src:0===i?"https://res.cloudinary.com/ceciliabot/image/upload/epic-seven/item_arti/icon_art0000.png":"https://res.cloudinary.com/ceciliabot/image/upload/epic-seven/face/c0000_s.png","data-src":0===i?t.$store.getters.getArtifactIcon(e.id):t.$store.getters.getHeroIcon(e.id),crossorigin:"anonymous",SameSite:"Lax"}),[[o.Z],[a.Z,function(){return 0===i?t.$store.getters.getArtifactName(e.id):t.$store.getters.getHeroName(e.id)}]])}))):null}))])}))])])}}},81208:function(t,e,i){"use strict";i(41539),i(33948),i(92222),i(26699),i(32023),i(2707),i(54747),i(21249),i(24603),i(28450),i(74916),i(88386),i(39714),i(84944),i(33792),i(57327),i(77601),i(23123),i(47042),i(65069),i(82772);var n,a=i(66252),o=i(86214),r=i(35089),s=i(82229),c=i(86235),l=i(42536),d=i(46909),h=i(52784),f=i(43241);e["Z"]={name:"timeline-main",components:{},props:["standalone"],data:function(){return{VERSION:1.15,events:[],timelineItems:[],vertical:!1,daySize:20,direction:0,today:"",openBanner:!1,openChangelog:!1,covenantShop:[],galaxyShop:[],powderShop:[],balance:[]}},beforeCreate:function(){},created:function(){var t=this;this.toggleLoading(!0,"downloading"),Promise.all([(0,h.Z)("./data/timeline/covenant.json").catch((function(){return"[]"})),(0,h.Z)("./data/timeline/mystic.json").catch((function(){return"[]"})),this.$store.dispatch("GET_HERO_DB"),this.$store.dispatch("GET_ARTIFACT_DB")]).then((function(e){t.events=t.compatibilityModeDates([].concat(JSON.parse(e[0]),JSON.parse(e[1]))),t.today=(new Date).toISOString().substr(0,10),t.$nextTick((function(){t.toggleLoading(!1)})),Promise.all([(0,h.Z)("./data/timeline/powder-shop.json").catch((function(){return"[]"})),(0,h.Z)("./data/timeline/galaxy-coin-shop.json").catch((function(){return"[]"})),(0,h.Z)("./data/timeline/covenant-coin-shop.json").catch((function(){return"[]"}))]).then((function(e){t.powderShop=t.compatibilityModeDates(JSON.parse(e[0])),t.galaxyShop=t.compatibilityModeDates(JSON.parse(e[1])),t.covenantShop=t.compatibilityModeDates(JSON.parse(e[2]))}))}))},beforeMount:function(){},mounted:function(){n=this.$refs.TIMELINE_CONTAINER,n.addEventListener("wheel",this.horizionatlScroll)},beforeUnmount:function(){n.removeEventListener("wheel",this.horizionatlScroll),n=null},watch:{timelineDates:function(){var t=this;this.timelineItems=this.buildRenderArray(),this.$nextTick((function(){t.$refs[t.today].scrollIntoView({behavior:"auto",block:"center",inline:"center"})}))},direction:function(){var t=this;this.loading().then((function(){t.timelineItems=t.buildRenderArray(),t.$nextTick((function(){t.$refs[t.today].scrollIntoView({behavior:"auto",block:"center",inline:"center"})}))}))},vertical:function(t){var e=this;this.direction=t?1:0,this.$nextTick((function(){e.$refs[e.today].scrollIntoView({behavior:"auto",block:"center",inline:"center"})}))}},computed:{mobile:function(){return this.$store.state.isMobile},timelineDates:function(){for(var t=[this.today],e=0;e<this.events.length;e++){var i=this.events[e].dt;if(i)for(var n=0;n<i.length;n++)t.includes(i[n])||t.push(i[n])}return t.sort((function(t,e){return t<e?1:t===e?0:-1})),t},timelinePixelLength:function(){return this.dateDiff(this.timelineDates[0],this.timelineDates[this.timelineDates.length-1])}},methods:{compatibilityModeDates(t){var e=function(t){return t<10?"0"+t:t};return t.forEach((function(t){t.dt=(t.dt||[]).map((function(t){var i=new Date(t);return i.getUTCFullYear()+"-"+e(i.getUTCMonth()+1)+"-"+e(i.getUTCDate())}))})),t},home:function(){this.$store.commit("toggleMainMenu")},toggleLoading:function(t,e){this.$store.commit("loading",t,e)},loading:function(t){var e=this;return this.toggleLoading(!0,t),new Promise((function(t){setTimeout((function(){t(),e.$nextTick((function(){e.$store.commit("loading",!1)}))}),0)}))},getHero:function(t){return this.$store.getters.getHero(t)},getHeroName:function(t){return this.$store.getters.getHeroName(t)},getHeroIcon:function(t){return this.$store.getters.getHeroIcon(t)},getArtifact:function(t){return this.$store.getters.getArtifact(t)},getArtifactName:function(t){return this.$store.getters.getArtifactName(t)||""},getArtifactIcon:function(t){return this.$store.getters.getArtifactIcon(t)},showSearchBar:function(){this.$refs.ctrlf.openSearchBar()},searchFunction:function(t){var e=this,i=this.events;if(!i.length||!t)return[];var n=new RegExp("(\\b|-)"+t,"i"),a=[["Banner",this.events],["Powder Shop",this.powderShop],["Galaxy Coin",this.galaxyShop],["Covenant Coin",this.covenantShop]].map((function(t){return t[1].filter((function(t){return!(!t.name||!n.test(t.name))||(!(!t.c||!t.c.some((function(t){return n.test(e.getHeroName(t.id))})))||(!!(t.a&&t.a.length&&t.a.some((function(t){return n.test(e.getArtifactName(t.id))})))||void 0))})).map((function(i){return"Banner"===t[0]?(i.handler=function(){return e.$refs["shop-timeline"].close()},i.resultName=i.c?i.c.map((function(t){return e.getHeroName(t.id)})).join(", "):t[0]):(i.handler=function(){return e.$refs["shop-timeline"].open()},i.resultName=t[0]),i}))})).flat().sort((function(t,e){return t.dt[0]<e.dt[0]?1:t.dt[0]===e.dt[0]?0:-1}));return a},searchToDisplay:function(t){return t.dt[0]+" - "+t.resultName},goToSearchResult:function(t){if(t){t.handler&&t.handler();var e=this.dateDiff(t.dt[this.direction],this.timelineDates[1!==this.direction?this.timelineDates.length-1:0]),i={top:0,left:0,behavior:"smooth"};this.vertical?i.top=e*this.daySize:i.left=e*this.daySize+100-window.innerWidth/2,n.scrollTo(i)}},goToDate:function(t){this.$refs[t].scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},horizionatlScroll:function(t){var e=n;if(!this.vertical){var i=t.deltaY<0&&e.scrollLeft>0,a=t.deltaY>0&&e.scrollLeft<e.scrollWidth-e.clientWidth;(i||a)&&(e.scrollLeft+=t.deltaY)}},onContextMenu:function(t){var e=this;this.$contextmenu(t,[{name:"Direction",children:[{class:0===this.direction?"fa fa-check":"",name:"Normal",handler:function(){return e.direction=0}},{class:1===this.direction?"fa fa-check":"",name:"Reverse",handler:function(){return e.direction=1}}]},{name:"Orientation",children:[{class:this.vertical?"":"fa fa-check",name:"Horizontal",handler:function(){return e.vertical=!1}},{class:this.vertical?"fa fa-check":"",name:"Vertical",handler:function(){return e.vertical=!0}}]},{name:"Change Day Size",children:[15,20,30,40,50].map((function(t){return{class:e.daySize===t?"fa fa-check":"",name:t,handler:function(){return e.setDaySize(t)}}}))},{class:"fas fa-map-marker-alt",name:this.$t("strings.scroll_to_today"),handler:function(){return e.goToDate(e.today)}},{class:"fa fa-search",name:this.$t("strings.search"),handler:function(){return e.showSearchBar()}}])},dateDiff:function(t,e){if(!t||!e)return 1;var i=t,n=e;if(i>n){var a=i;i=n,n=a}return(new Date(n).getTime()-new Date(i).getTime())/864e5},formatDate:function(t,e){if(!t)return"";var i=t.split(/-/g),n=i[2],a=["January","February","March","April","May","June","July","August","September","October","November","December"][Number(i[1])-1],o=i[0];return Number(n)+" "+a.slice(0,3)+" "+o+(e?" - "+e:"")},dayGraphSize:function(t,e){return this.daySize*this.dateDiff(t,e)},setDaySize:function(t){var e=this;this.loading().then((function(){e.daySize=t,e.timelineItems=e.buildRenderArray()}))},buildRenderArray:function(){var t=this,e=[0,1][this.direction||0],i=[0,1].filter((function(t){return t!==e}))[0],n=function(e,i){return{date:e,size:1===t.direction?t.dayGraphSize(i,e):t.dayGraphSize(e,i),m:[],n:[],e:[]}},a=this.events,o=this.timelineDates.slice().reverse(),r=[];1===this.direction&&(o=o.reverse());for(var s=0;s<o.length;s++){console.log(o[s]),r[s]||(r[s]=n(o[s],o[s+1]));for(var c=0;c<a.length;c++){var l=-1,d=a[c].dt[e]||a[c].dt[i],h="event"===a[c].type?"e":"mystic"===a[c].type?"m":"n";if(o[s]===d){a[c].dt[1]<this.today?a[c].bTooltip='Ended: <span style="color: #ff1919">'+(0,f.cX)(a[c].dt[1],this.today)+"</span> ago":a[c].dt[0]>this.today?a[c].bTooltip='Starts: <span style="color: green">'+(0,f.cX)(a[c].dt[0],this.today)+"</span>":a[c].bTooltip='Started: <span style="color: green">'+(0,f.cX)(a[c].dt[0],this.today)+'</span> ago<br>Ends: <span style="color: #ff1919">'+(0,f.cX)(a[c].dt[1],this.today)+"</span>",a[c].duration=this.dateDiff(a[c].dt[0],a[c].dt[1]),a[c].bannerClass="","limited"===a[c].type?a[c].bannerClass="limited":"mystic"===a[c].type?a[c].bannerClass="mystic":a[c].c&&a[c].c[0]&&(a[c].bannerClass=this.getHero(a[c].c[0].id).attribute),a[c].bannerSize=r[s].size-10;for(var u=0;u<r[s][h].length;u++)if(!r[s][h][u]){r[s][h][u]=a[c],l=u;break}-1===l&&(r[s][h].push(a[c]),l=r[s][h].length-1);var p=o.indexOf(a[c].dt[i])||1;for(u=s;u<p;u++)r[u]||(r[u]=n(o[u],o[u+1])),u!=s&&(a[c].bannerSize+=r[u].size),r[u][h][l]=a[c]}}}return r}},render:function(){var t=this;return(0,a.h)("div",{style:"height: inherit",onContextmenu:this.onContextMenu},[this.openChangelog?(0,a.h)("div",{class:"center-modal",style:"position: absolute; z-index: 10;",onClick:function(e){return e.target===e.currentTarget?t.openChangelog=!t.openChangelog:null}},[(0,a.h)("div",{class:"flat-modal glass-container-2",style:"padding: 10px; color: var(--font-color); overflow: auto;"},[(0,a.h)(o.Z,{path:"/views/timeline/",style:"height: auto;"})])]):null,(0,a.h)(l.Z,{mobile:this.mobile,options:[{title:this.$t("strings.search"),class:"fa fa-search",click:"search"},{title:this.$t("strings.scroll_to_today"),class:"fas fa-map-marker-alt",click:"goToday"},{title:this.$t("strings.vertical_toggle"),class:"fa fa-mobile "+(this.vertical?"fa-rotate-90":""),click:"vertical"},{title:this.$t("strings.changelog"),class:"fa fa-history",click:"changelog"},this.standalone?{}:{title:this.$t("strings.home"),class:"fa fa-home",click:"home"}],onSearch:function(){return t.showSearchBar()},onGoToday:function(){return t.goToDate(t.today)},onHome:function(){return t.home()},onVertical:function(){return t.loading().then((function(){return t.vertical=!t.vertical}))},onChangelog:function(){return t.openChangelog=!t.openChangelog},onLanguage:this.$localePicker}),(0,a.h)(d.Z,{ref:"ctrlf",key:"ctrlf-timeline",mobile:this.mobile,events:this.events,toDisplay:this.searchToDisplay,searchFunction:this.searchFunction,onEvent:this.goToSearchResult}),(0,a.h)("div",{ref:"TIMELINE_CONTAINER",style:"height: inherit; width: inherit; overflow: auto;"},[(0,a.h)("ul",{class:this.vertical?"vtimeline":"timeline"},[(0,a.h)(c.Z,{ref:"shop-timeline",events:[this.powderShop,this.galaxyShop,this.covenantShop],vertical:this.vertical,timelinedates:this.timelineDates,daysize:this.daySize,timelinelength:this.timelinePixelLength*this.daySize,direction:this.direction}),this.timelineItems.map((function(e,i){return(0,a.h)("li",{ref:e.date,key:e.date,class:{today:t.today===e.date},index:i,"data-date":t.$d(e.date,"short"),id:e.date,style:{[t.vertical?"height":"width"]:e.size+"px"}},[["m","n"].map((function(i){return(0,a.h)("section",{class:"wrapper-"+i,key:"wrapper-key-"+e.date+i},[e[i].map((function(i){return i.dt[t.direction||0]===e.date?(0,a.wy)((0,a.h)("div",{ref:i.id+"-"+e.date,key:i.id,class:"banner "+i.bannerClass,tabindex:0,"data-hero":i.c?i.c[0].id:"null",style:{[t.vertical?"height":"width"]:i.bannerSize+"px"}},[i.c?(0,a.h)("div",{class:"icon_container"},i.c.map((function(e){return(0,a.h)("div",{class:{isnew:e.new}},[(0,a.wy)((0,a.h)("img",{"data-src":t.getHeroIcon(t.getHero(e.id).id),src:"https://res.cloudinary.com/ceciliabot/image/upload/epic-seven/face/c0000_s.png",crossorigin:"anonymous",SameSite:"Lax"}),[[s.Z]])])}))):null,i.name?(0,a.h)("span",{class:"banner-description"},i.name):null]),[[r.Z,{value:i.bTooltip}]]):(0,a.h)("div",{class:"banner dummy"})}))])}))])}))])])])},renderError:function(){}}},43241:function(t,e,i){"use strict";i.d(e,{OW:function(){return r},Pg:function(){return o},R6:function(){return c},cX:function(){return a},uG:function(){return s}});var n=i(40414);function a(t,e){var i=new Date(new Date(t).toISOString().substr(0,10));e||(e=(new Date).toISOString().substr(0,10));var n=new Date(e);if(i>n){var a=i;i=n,n=a}var o=i.getFullYear(),r=o%4===0&&o%100!==0||o%400===0?29:28,s=[31,r,31,30,31,30,31,31,30,31,30,31],c=n.getFullYear()-o,l=n.getMonth()-i.getMonth();l<0&&(c--,l+=12);var d=n.getDate()-i.getDate();return d<0&&(l>0?l--:(c--,l=11),d+=s[i.getMonth()]),c+"Y "+l+"M "+d+"D"}function o(t,e){if(!t||!e)return 1;isNaN(t)&&(t=new Date(t).getTime()),isNaN(e)&&(e=new Date(e).getTime());var i=t,n=e;if(i>n){var a=i;i=n,n=a}return(n-i)/864e5}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2022-09-29";return!(Math.round(o(t,e))%14)}function s(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;if(t instanceof Date||(t=new Date(t)),a&&(e=t).setUTCHours.apply(e,(0,n.Z)(a)),void 0===i||isNaN(i))return console.error("Missing target day."),null;i=Math.min(i,6);var o=new Date(t),r=new Date(t);while(o.getUTCDay()!=i)o.setUTCDate(o.getUTCDate()+1);while(r.getDay()!=i)r.setUTCDate(r.getUTCDate()-1);Math.abs(t-o)<Math.abs(t-r)?t.setTime(o):t.setTime(r)}function c(t,e){var i=!1,n=new Date(new Date(t).toISOString().substr(0,10));e||(e=(new Date).toISOString().substr(0,10));var a=new Date(e);if(n>a){i=!0;var o=n;n=a,a=o}var r=n.getFullYear(),s=r%4===0&&r%100!==0||r%400===0?29:28,c=[31,s,31,30,31,30,31,31,30,31,30,31],l=a.getFullYear()-r,d=a.getMonth()-n.getMonth();d<0&&(l--,d+=12);var h=a.getDate()-n.getDate();return h<0&&(d>0?d--:(l--,d=11),h+=c[n.getMonth()]),[l,d,h,i]}},46909:function(t,e,i){"use strict";var n=i(93134);i(92524);const a=n.Z;e["Z"]=a},86235:function(t,e,i){"use strict";var n=i(71883),a=(i(71335),i(83744));const o=(0,a.Z)(n.Z,[["__scopeId","data-v-25dd5ae8"]]);e["Z"]=o},94263:function(t,e,i){"use strict";i.r(e);var n=i(36034),a=(i(13274),i(83744));const o=(0,a.Z)(n.Z,[["__scopeId","data-v-a6832fca"]]);e["default"]=o},93134:function(t,e,i){"use strict";i.d(e,{Z:function(){return n.Z}});var n=i(26771)},71883:function(t,e,i){"use strict";i.d(e,{Z:function(){return n.Z}});var n=i(7620)},36034:function(t,e,i){"use strict";i.d(e,{Z:function(){return n.Z}});var n=i(81208)},92524:function(t,e,i){"use strict";i(8621)},71335:function(t,e,i){"use strict";i(72973)},13274:function(t,e,i){"use strict";i(26461)},8621:function(t,e,i){var n=i(64063);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var a=i(54402).Z;a("5e77d4b6",n,!0,{sourceMap:!1,shadowMode:!1})},72973:function(t,e,i){var n=i(62579);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var a=i(54402).Z;a("6f85b704",n,!0,{sourceMap:!1,shadowMode:!1})},26461:function(t,e,i){var n=i(74246);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var a=i(54402).Z;a("6aff819b",n,!0,{sourceMap:!1,shadowMode:!1})},33892:function(t,e,i){"use strict";i.d(e,{Z:function(){return a}});var n=i(49227);function a(t){if(Array.isArray(t))return(0,n.Z)(t)}},40414:function(t,e,i){"use strict";i.d(e,{Z:function(){return s}});var n=i(33892);i(82526),i(41817),i(41539),i(33948),i(91038);function a(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var o=i(12780);i(21703);function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return(0,n.Z)(t)||a(t)||(0,o.Z)(t)||r()}}}]);