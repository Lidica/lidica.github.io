(self["webpackChunkv3"]=self["webpackChunkv3"]||[]).push([[300],{11060:function(e,t,i){var o=i(1702),n=Error,s=o("".replace),r=function(e){return String(n(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(r);e.exports=function(e,t){if(l&&"string"==typeof e&&!n.prepareStackTrace)while(t--)e=s(e,a,"");return e}},22914:function(e,t,i){var o=i(47293),n=i(79114);e.exports=!o((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},58340:function(e,t,i){var o=i(70111),n=i(68880);e.exports=function(e,t){o(t)&&"cause"in t&&n(e,"cause",t.cause)}},56277:function(e,t,i){var o=i(41340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},89191:function(e,t,i){"use strict";var o=i(35005),n=i(92597),s=i(68880),r=i(47976),a=i(27674),l=i(99920),c=i(2626),d=i(79587),p=i(56277),h=i(58340),u=i(11060),m=i(22914),g=i(19781),f=i(31913);e.exports=function(e,t,i,w){var y="stackTraceLimit",v=w?2:1,b=e.split("."),x=b[b.length-1],_=o.apply(null,b);if(_){var k=_.prototype;if(!f&&n(k,"cause")&&delete k.cause,!i)return _;var T=o("Error"),C=t((function(e,t){var i=p(w?t:e,void 0),o=w?new _(e):new _;return void 0!==i&&s(o,"message",i),m&&s(o,"stack",u(o.stack,2)),this&&r(k,this)&&d(o,this,C),arguments.length>v&&h(o,arguments[v]),o}));if(C.prototype=k,"Error"!==x?a?a(C,T):l(C,T,{name:!0}):g&&y in _&&(c(C,_,y),c(C,_,"prepareStackTrace")),l(C,_),!f)try{k.name!==x&&s(k,"name",x),k.constructor=C}catch(S){}return C}}},65069:function(e,t,i){"use strict";var o=i(82109),n=i(1702),s=i(43157),r=n([].reverse),a=[1,2];o({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return s(this)&&(this.length=this.length),r(this)}})},21703:function(e,t,i){var o=i(82109),n=i(17854),s=i(22104),r=i(89191),a="WebAssembly",l=n[a],c=7!==Error("e",{cause:7}).cause,d=function(e,t){var i={};i[e]=r(e,t,c),o({global:!0,constructor:!0,arity:1,forced:c},i)},p=function(e,t){if(l&&l[e]){var i={};i[e]=r(a+"."+e,t,c),o({target:a,stat:!0,constructor:!0,arity:1,forced:c},i)}};d("Error",(function(e){return function(t){return s(e,this,arguments)}})),d("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),d("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),d("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),d("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),d("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),d("URIError",(function(e){return function(t){return s(e,this,arguments)}})),p("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),p("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),p("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},38862:function(e,t,i){var o=i(82109),n=i(35005),s=i(22104),r=i(46916),a=i(1702),l=i(47293),c=i(43157),d=i(60614),p=i(70111),h=i(52190),u=i(50206),m=i(36293),g=n("JSON","stringify"),f=a(/./.exec),w=a("".charAt),y=a("".charCodeAt),v=a("".replace),b=a(1..toString),x=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,T=!m||l((function(){var e=n("Symbol")();return"[null]"!=g([e])||"{}"!=g({a:e})||"{}"!=g(Object(e))})),C=l((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),S=function(e,t){var i=u(arguments),o=t;if((p(t)||void 0!==e)&&!h(e))return c(t)||(t=function(e,t){if(d(o)&&(t=r(o,this,e,t)),!h(t))return t}),i[1]=t,s(g,null,i)},L=function(e,t,i){var o=w(i,t-1),n=w(i,t+1);return f(_,e)&&!f(k,n)||f(k,e)&&!f(_,o)?"\\u"+b(y(e,0),16):e};g&&o({target:"JSON",stat:!0,arity:3,forced:T||C},{stringify:function(e,t,i){var o=u(arguments),n=s(T?S:g,null,o);return C&&"string"==typeof n?v(n,x,L):n}})},41507:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,".emotable-div{position:absolute;opacity:1;transition:opacity .4s ease}.emotable-div:hover,.input-box:focus-within+.emotable-div,.input-box:hover+.emotable-div{opacity:1;color:#f1e069}.emote-selector{z-index:10;position:fixed;z-index:50;width:320px;height:300px;overflow:auto;padding:10px;background-color:var(--background-color-secondary);border-bottom:solid 20px var(--background-color-tertiary);border-radius:8px}.emote-wrapper{padding:5px;height:40px;cursor:pointer}.emote-wrapper:hover{background-color:var(--background-modifier-darken-alpha)}",""]),t["default"]=a},4152:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,'.filter-wrapper{display:flex;position:fixed;top:0;left:0;height:100%;width:100%;z-index:50}.filter-wrapper *{-ms-overflow-style:none;scrollbar-width:none}.filter-wrapper ::-webkit-scrollbar{display:none}.filter-modal{max-width:90%;overflow:scroll;max-height:550px;background-color:#000;color:#a1aebd;margin:auto;border-radius:10px;border:2px solid #776048;z-index:0;padding:10px 0;font-size:16px}.filter-columns{height:13.4em;font-size:1.3em;display:block;white-space:nowrap;overflow-x:scroll;overflow-y:hidden}.filter-columns>div{padding:0 .4em;min-width:5.5em;display:inline-flex;-webkit-writing-mode:vertical-lr;writing-mode:vertical-lr;flex-wrap:wrap;align-content:flex-start;height:100%}.filter-columns>div:not(:last-child){border-right:thin solid #776048}.filter-columns .elements{min-width:4.4em;-webkit-writing-mode:horizontal-tb;writing-mode:horizontal-tb;padding:.1em .3em;border-radius:.4em;margin:.1em;white-space:nowrap;cursor:default}.filter-columns .elements.active{background:#4caf5066}.filter-columns .elements.active-sort{background-color:#af804c66;color:#fff}.filter-columns img{height:1.25em;vertical-align:middle}.filter-columns .all-filter-label{height:1.3em}.filter-modal .filter-options{margin:10px;padding:20px 10px 0;border-top:thin solid #776048}.custom-check{position:relative;display:inline-block;-webkit-user-select:none;-moz-user-select:none;user-select:none;margin:10px 0;padding-left:1.8em}.custom-check input[type=checkbox]{display:none;position:absolute}.custom-check .checkmark{position:absolute;left:0;transition:all .2s ease-out;white-space:nowrap;height:1.2em;width:1.2em;background-color:#1e2126;border-radius:.4em;border:.1em solid #1b1c1c;box-shadow:inset .2em .2em .2em #00000094,.2em .2em .2em #00000094;top:50%;transform:translateY(-50%)}.custom-check .checkmark:after{content:"";position:absolute;width:0;height:.7em;border-bottom:.2em solid #4caf50;border-left:.2em solid #4caf50;left:50%;transform-origin:bottom left;transform:rotate(-45deg);opacity:0;transition:all .2s ease-out}.custom-check input:checked~.checkmark:after{opacity:1;width:1.2em}.filter-modal .custom-check{color:#a1aebd!important}',""]),t["default"]=a},70625:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,".smooth[data-v-69ff600e]{transition:transform .3s cubic-bezier(.66,.69,.54,.91)}.main-container[data-v-69ff600e]{outline:none;position:relative;width:100%;height:100%;max-height:100vh;top:0;left:0}",""]),t["default"]=a},45890:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,'.tierlist-compare-box{pointer-events:none;display:flex;justify-content:space-evenly}.dragPlaceholder>.tierlist-compare-box,.is-dragging>.tierlist-compare-box{display:none}.compare-up-tier{color:green;position:relative}.compare-up-tier:before{content:"";display:inline-block;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:10px solid;margin-right:.2em}.compare-down-tier{color:red;padding-left:10px;position:relative}.compare-down-tier:before{content:"";display:inline-block;border-left:5px solid transparent;border-right:5px solid transparent;border-top:10px solid;margin-right:.2em}.compare-left-tier{color:green;position:relative}.compare-left-tier:before{content:"";display:inline-block;border-top:5px solid transparent;border-bottom:5px solid transparent;border-right:10px solid;margin-right:.2em}.compare-right-tier{color:red;padding-left:10px;position:relative}.compare-right-tier:before{content:"";display:inline-block;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:10px solid;margin-right:.2em}.tier-list-title{position:relative;display:inline-block;color:var(--font-color-secondary);text-align:center;width:100%;padding:.25em;margin:0;font-size:60px;font-weight:400;white-space:break-spaces;word-break:break-word}.mobile-list>.tier-database{overflow:scroll;overflow-y:hidden}.desktop-list>.tier-database{display:flex;flex-wrap:wrap;min-height:100%;padding-bottom:100px;align-content:flex-start}.tier-name[contenteditable]:focus{outline:0 solid transparent}.type1{padding:10px 0}.type1 .tier-name{background-color:#e3b972;border-radius:6px;padding:5px 20px;display:inline-block;margin-left:10px;color:#000;max-width:60%;white-space:break-spaces;word-break:break-word;position:relative;z-index:1}.tier-list{display:flex;flex-wrap:wrap}.type1 .tier-list{min-height:127px;margin-top:-20px;padding:30px 15px 20px;border-radius:12px;position:relative}.type1 .tier-list,.type2{background-color:#0000006e}.type2{display:flex;border:1px solid #000;border-bottom:none}.type2:last-of-type{border-bottom:1px solid #000}.type2 .tier-name{flex:0 0 100px;white-space:break-spaces;word-break:break-word;background:#b43a3a;color:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;border-right:1px solid #000}.type2 .tier-list{flex:1;min-height:127px;padding:15px 20px 15px 0;position:relative}.drag-tier-container{justify-content:center;cursor:move}.drag-tier-container,.tiermaker-control-box{position:absolute;right:0;top:0;height:100%;width:30px;display:flex;align-items:center}.tiermaker-control-box{flex-direction:column;justify-content:space-around}.tiermaker-control-box>i:hover{color:red}.tier-item{display:inline-block;cursor:-webkit-grab;cursor:grab}.desktop-list{overflow:scroll;width:350px}.desktop-list,.mobile-list{background-color:var(--background-color-secondary)}.mobile-list{white-space:nowrap;bottom:0;width:100%;padding:10px;border-radius:20px 20px 0 0;z-index:1}.mobile-list .tier-database:before{content:"« Swipe here »";display:block;text-align:center;font-size:30px;position:-webkit-sticky;position:sticky;left:0;right:0;color:var(--font-color);pointer-events:none}.mobile-list .tier-database:after{content:"";width:100px;display:inline-block}.tier-maker-container{display:flex;height:100%;width:100%}.tier-maker-container.mobileView{flex-direction:column}.tier-maker-container *{-ms-overflow-style:none;scrollbar-width:none}.tier-maker-container ::-webkit-scrollbar{display:none}.tier-draw-area{flex:1;overflow:scroll;padding:10px;position:relative}.xy-graph-container{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;padding-top:50px}.mobileView .xy-graph-container{padding-top:0}.force-stack-view:not(.mobile-list) .xy-graph-container{position:relative;padding-top:0}.box-manage{margin:.2em 0;font-size:20px;line-height:1em;display:flex}.box-manage>*>img{height:1em;vertical-align:middle}.box-manage>*{background-color:var(--icon-bar);padding:.6em;cursor:pointer;color:var(--font-color)}.box-manage>:first-child{border-radius:10px 0 0 10px}.box-manage>:last-child{border-radius:0 10px 10px 0}.box-manage>.active{color:#fff;background-color:var(--decoration-color-secondary)}.new-tier-modal{display:flex;height:400px;max-width:1000px;text-align:center;padding:10px}.new-tier-modal>div{flex:1;overflow:auto}.new-tier-box{flex:1;font-size:22px;border-radius:10px;border:dotted;margin:10px 0;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center}.new-tier-box:hover{background-color:#00000044}.tierlist-history>div{cursor:pointer;padding:10px}.tierlist-history>div:hover{background-color:#00000044}.flex-option-delete{display:flex;cursor:pointer;width:100%;text-align:center;padding:10px 0}.flex-option-delete:hover{background-color:#00000044}.flex-option-delete>span{flex:1}.tier-control-buttons{margin:-10px;box-shadow:0 -2px 3px 3px hsla(0,0%,4%,.65);text-align:center;position:-webkit-sticky;position:sticky;top:0;z-index:2;margin-bottom:5px}.tier-control-buttons>button{margin:5px;padding:0 10px;font-size:15px;background-color:#ffffff2e;border:none;color:inherit;border-radius:50px;min-width:40px;cursor:pointer;height:40px;line-height:37px}.tier-control-buttons>button .icon:not(:last-child){margin-right:10px}.tier-control-buttons>button:hover{background-color:#fff;color:green}.force-stack-view:not(.mobile-list){display:block;max-width:1100px;margin:auto}.force-stack-view:not(.mobile-list) .desktop-list{width:100%!important;min-height:100%}',""]),t["default"]=a},44818:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,".tier-card{display:flex;cursor:pointer;flex-direction:column;justify-content:space-between;vertical-align:top;width:240px;background-color:var(--background-color-tertiary);border-radius:8px;margin:5px 20px;padding:10px}.tier-card .title{margin:5px 0 10px;-webkit-line-clamp:2;word-break:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical}.tier-card .description{font-size:.8em;font-weight:200}",""]),t["default"]=a},9190:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,".full-screen[data-v-4ffbc8e4]{position:absolute;z-index:50;width:100vw;height:100%;display:flex}.full-screen>div[data-v-4ffbc8e4]{position:relative;display:flex;align-items:center;justify-content:center;padding:20px}.tier-load-box[data-v-4ffbc8e4]{flex:1;display:flex;flex-direction:column;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#00000077}.tier-load-box>h1[data-v-4ffbc8e4]{width:100%;padding:40px 0;font-size:50px;align-self:start;font-weight:400}.tier-load-box>div[data-v-4ffbc8e4]{flex:1;width:100%;overflow:auto}.load-body[data-v-4ffbc8e4]{display:flex;flex-wrap:wrap;justify-content:center}",""]),t["default"]=a},78920:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,".full-screen[data-v-d476792c]{position:absolute;z-index:50;width:100vw;height:100%;display:flex}.full-screen>div[data-v-d476792c]{position:relative;display:flex;align-items:center;justify-content:center;padding:20px}.new-box[data-v-d476792c]{flex:0 0 400px;background-color:#fff;flex-direction:column;color:#000;text-align:center}.new-box button[data-v-d476792c]{width:100%;font-size:18px;font-weight:400}.tier-load-box[data-v-d476792c]{flex:1;display:flex;flex-direction:column;box-shadow:none}.tier-load-box>h1[data-v-d476792c]{width:100%;padding:40px 0;font-size:50px;align-self:start;font-weight:400}.tier-load-box>div[data-v-d476792c]{flex:1;width:100%;overflow:auto}.load-body[data-v-d476792c],.tier-load-box>div[data-v-d476792c]{display:flex;flex-wrap:wrap;justify-content:center}.button-large[data-v-d476792c]{float:right;font-size:.5em;width:180px}@media only screen and (max-width:900px){.hide-mobile[data-v-d476792c]{display:none}.full-screen[data-v-d476792c]{flex-direction:column-reverse}.new-box[data-v-d476792c]{flex:0 0 280px;flex-direction:row;flex-wrap:wrap}.new-tiers-title[data-v-d476792c]{order:-1}.new-tiers-title>h2[data-v-d476792c]{display:none}.new-tiers-group[data-v-d476792c]{flex:1 0 50%;order:-1}.tier-load-box[data-v-d476792c]{height:0}.tier-load-box>h1[data-v-d476792c]{padding:20px 0;font-size:34px}.button-large[data-v-d476792c]{width:auto}}",""]),t["default"]=a},86894:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,".color-circle{display:inline-block;height:30px;width:30px;border-radius:100%;margin:5px;vertical-align:middle;font-size:19px;text-align:center;cursor:pointer;border:2px solid transparent}.color-circle.selected-color{border:2px solid}",""]),t["default"]=a},3829:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,'.switch{position:relative;display:inline-block;width:60px;height:36px;vertical-align:middle}.switch input{opacity:0;width:0;height:0}.slider{cursor:pointer;width:60px;top:0;right:0;bottom:0;background-color:#ccc}.slider,.slider:before{position:absolute;transition:.4s}.slider:before{content:"";height:26px;width:26px;left:5px;bottom:5px;background-color:#fff}input:checked+.slider{background-color:#2196f3}input:focus+.slider{box-shadow:0 0 1px #2196f3}input:checked+.slider:before{transform:translateX(24px)}.slider.round{border-radius:34px}.slider.round:before{border-radius:50%}',""]),t["default"]=a},82461:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,".list-enter-active[data-v-3499319a],.list-leave-active[data-v-3499319a],.list-move[data-v-3499319a]{transition:all .5s ease}.list-enter-from[data-v-3499319a],.list-leave-to[data-v-3499319a]{opacity:0;transform:translateX(30px)}.list-leave-active[data-v-3499319a]{position:absolute}",""]),t["default"]=a},95842:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,".filter-out{opacity:.1}",""]),t["default"]=a},84177:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,".tier-graph-xy{position:relative;height:100%;width:100%;background:linear-gradient(var(--font-color-secondary),var(--font-color-secondary)),linear-gradient(var(--font-color-secondary),var(--font-color-secondary));background-position:50%,50%;background-size:100% 2px,2px 100%;background-repeat:no-repeat,no-repeat}.tier-graph-xy.grid{background:linear-gradient(var(--font-color-secondary),var(--font-color-secondary)),linear-gradient(var(--font-color-secondary),var(--font-color-secondary)),linear-gradient(to right,#80808033 1px,transparent 1px),linear-gradient(to bottom,#80808033 1px,transparent 1px);background-position:50%,50%,0 0,0 0;background-size:100% 2px,2px 100%,50px 50px,50px 50px;background-repeat:no-repeat,no-repeat,repeat,repeat}.tier-graph-xy .tier-item{position:absolute;transform:translate(-50%,-50%)}.tier-graph-xy .dragPlaceholder{display:none!important}",""]),t["default"]=a},38067:function(e,t,i){"use strict";i.r(t);var o=i(8081),n=i.n(o),s=i(23645),r=i.n(s),a=r()(n());a.push([e.id,".hide{display:none!important}",""]),t["default"]=a},9358:function(e,t,i){"use strict";i(2707),i(26699);var o=i(66252),n=i(58439),s=i(82229);t["Z"]={name:"filters-modal",props:{options:{type:Object,required:!1,default:function(){return{}}},filter:{type:Object,required:!1,default:function(){return{role:[],attribute:[],rarity:[],sex:[],year:null,month:null}}},sorting:{type:Array,required:!1,default:function(){return["name",!1]}},limit:{type:Number,required:!1,default:0},relative:{type:Boolean,required:!1,default:!1},xy:{type:Object,required:!1},hidesort:{type:Boolean,required:!1,default:!1},extrasort:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{res:{},sorter:[],role:[{name:"All",id:"all"}].concat(n.uJ.map((e=>({name:e,id:e})))),attribute:[{name:"All",id:"all"}].concat(n.Y4.map((e=>({name:e,id:e})))),rarity:[{name:"All",id:"all"}].concat(n.ib.map((e=>({name:e+"",id:e})))),zodiac:[{name:"All",id:"all"}].concat(n.Zp.map((e=>({name:e+"",id:e})))),sex:[{name:"All",id:"all"},{name:"Male",id:1},{name:"Female",id:2},{name:"None",id:0}],sort:[{name:"name",id:"name"},{name:"rarity",id:"rarity"},{name:"attribute",id:"attribute"},{name:"role",id:"role"},{name:"ingame_id",id:"id"}]}},computed:{mobile:function(){return this.$store.state.isMobile}},created:function(){this.res=this.filter,this.sorter=this.sorting,this.extrasort.forEach((e=>{this.sort.push(e)}))},methods:{isActive:function(e,t){return!this.res[e].length&&"all"===t||!!this.res[e].includes(t)},isActiveSorting:function(e){return this.sorter[0]===e},getRoleIcon:function(e){return this.$store.getters.getRoleIcon(e)},getAttributeIcon:function(e){return this.$store.getters.getAttributeIcon(e)},getRarityIcon:function(e){return this.$store.getters.getRarityIcon(e)},getZodiacIcon:function(e){return(0,n.OR)(e)},getGenderIcon:function(e){if("all"===e)return n.cK+"label-all.png";var t=["none","male","female"];return n.cK+"ui/icon_sex_"+t[e]+".png"},updateFilter(e,t){"all"!=t?this.limit?this.res[e].includes(t)?this.res[e]=[]:this.res[e]=[t]:this.res[e].includes(t)?this.res[e].splice(this.res[e].indexOf(t),1):this.res[e].push(t):this.res[e].length?this.res[e]=[]:this[e].forEach((t=>{"all"!==t.id&&this.res[e].push(t.id)}))},updateSorting:function(e){var t=this.sorter[0]===e&&!this.sorter[1];this.sorter[0]=e,this.sorter[1]=t},insideClick:function(e){e.stopPropagation()},outOfBounds:function(e){e.currentTarget===e.target&&this.close()},close:function(){this.$emit("close")},setFilters:function(){this.$emit("save",this.filter,this.sorter)}},render:function(){return(0,o.h)("div",{class:"filter-wrapper",style:{position:this.relative?"relative":"fixed"},onClick:this.outOfBounds},[(0,o.h)("div",{class:"filter-modal",style:{"max-width":this.relative?"100%":"90%",position:this.xy?"fixed":"relative",top:this.xy?this.xy.top:null,left:this.xy?this.xy.left:null,right:this.xy?this.xy.right:null,bottom:this.xy?this.xy.bottom:null},onClick:this.insideClick},[(0,o.h)("div",{class:"filter-columns"},[[{list:this.attribute,cat:"attribute",icon:"getAttributeIcon"},{list:this.role,cat:"role",icon:"getRoleIcon"},{list:this.rarity,cat:"rarity",icon:"getRarityIcon"},{list:this.zodiac,cat:"zodiac",icon:"getZodiacIcon"},{list:this.sex,cat:"sex",icon:"getGenderIcon"}].map((e=>this.res[e.cat]?(0,o.h)("div",{style:{width:5*Math.floor(e.list.length/6)+"em"}},e.list.map(((t,i)=>(0,o.h)("div",{class:["elements",{active:this.isActive(e.cat,t.id)}],onClick:()=>this.updateFilter(e.cat,t.id)},[(0,o.h)("label",{class:"custom-check",style:{margin:0,"pointer-events":"none"}},[(0,o.h)("input",{type:"checkbox",checked:this.isActive(e.cat,t.id)}),(0,o.h)("span",{class:"checkmark"}),"rarity"===e.cat&&i>0?(0,o.h)("span",t.id):null,(0,o.wy)((0,o.h)("img",{class:{"all-filter-label":0===i},"data-src":this[e.icon](t.id),SameSite:"Lax"}),[[s.Z]])])])))):null)),this.hidesort?null:(0,o.h)("div",{},this.sort.map((e=>(0,o.h)("div",{class:["elements noselect",{"active-sort":this.isActiveSorting(e.id)}],onClick:()=>this.updateSorting(e.id)},[this.isActiveSorting(e.id)?(0,o.h)("i",{class:["fas",this.sorter[1]?"fa-sort-up":"fa-sort-down"],style:{"vertical-align":this.sorter[1]?"sub":"top","margin-right":"0.2em"}}):null,this.$tc(`strings.${e.name}`,1)]))))]),this.$slots.default?(0,o.h)("div",{key:"options",class:"filter-options"},[this.$slots.default()]):null])])}}},22822:function(e,t){"use strict";t["Z"]={emits:["close"],name:"FlatModal",props:{title:{type:Boolean,default:!0}},methods:{outOfBounds(e){e.target===e.currentTarget&&this.$emit("close")}}}},30392:function(e,t,i){"use strict";i.d(t,{s:function(){return a}});i(33948);var o=i(66252);const n={class:"flat-modal"},s={key:0,class:"n-window-title"},r={style:{"text-align":"center"}};function a(e,t,i,a,l,c){return(0,o.wg)(),(0,o.iD)("div",{class:"center-modal",onClick:t[0]||(t[0]=(...e)=>c.outOfBounds&&c.outOfBounds(...e))},[(0,o._)("div",n,[i.title?((0,o.wg)(),(0,o.iD)("h1",s,[(0,o.WI)(e.$slots,"title")])):(0,o.kq)("",!0),(0,o._)("div",r,[(0,o.WI)(e.$slots,"default")])])])}},26469:function(e,t,i){"use strict";function o(e){return e[Math.floor(Math.random()*e.length)]}function n(e,t,i){if(t<i&&i--,t!==i){t>=e.length&&(t=e.length-1),i>=e.length&&(i=e.length-1);while(t<0)t+=e.length;while(i<0)i+=e.length;if(i>=e.length){var o=i-e.length+1;while(o--)e.push(void 0)}e.splice(i,0,e.splice(t,1)[0])}}i.d(t,{R:function(){return n},k:function(){return o}})},76163:function(e,t,i){"use strict";i.d(t,{Ds:function(){return o},P2:function(){return n}});i(74916);function o(e,t){var i=null;return function(){clearTimeout(i);var o=arguments,n=this;i=setTimeout((function(){e.apply(n,o)}),t)}}function n(e,t){var i=!1;return function(){i||(e.apply(this,arguments),i=!0,setTimeout((function(){i=!1}),t))}}},60978:function(e,t,i){"use strict";i.d(t,{Z:function(){return n}});i(2707),i(65069);var o=i(20474);function n(e,t,i,n){return n||(n=function(e){return o.Z.getters.getHero(e)}),"recent"!==t&&"rarity"!==t?e.sort(((e,i)=>(n(e)[t]>n(i)[t])-(n(e)[t]<n(i)[t])||(n(e).name>n(i).name)-(n(e).name<n(i).name))):"recent"!==t&&e.sort(((e,i)=>(n(e)[t]<n(i)[t])-(n(e)[t]>n(i)[t])||(n(e).name>n(i).name)-(n(e).name<n(i).name))),i&&e.reverse(),e}},8070:function(e,t,i){"use strict";var o=i(52810);i(14176);const n=o.Z;t["Z"]=n},69446:function(e,t,i){"use strict";i.d(t,{Z:function(){return h}});i(33948);var o=i(66252),n=i(3577);const s={style:{position:"absolute",width:"100%","z-index":"1","text-align":"center"}};function r(e,t,i,r,a,l){return(0,o.wg)(),(0,o.iD)("div",{ref:"interactive-element",tabindex:"-1",class:"main-container",onMouseenter:t[0]||(t[0]=(...e)=>l.focus&&l.focus(...e)),onTouchstart:t[1]||(t[1]=(...e)=>l.touchStart&&l.touchStart(...e)),onTouchmove:t[2]||(t[2]=(...e)=>l.touchMove&&l.touchMove(...e)),onTouchend:t[3]||(t[3]=(...e)=>l.touchEnd&&l.touchEnd(...e)),onMousemove:t[4]||(t[4]=(...e)=>l.mouseMove&&l.mouseMove(...e)),onMouseup:t[5]||(t[5]=(...e)=>l.mouseUp&&l.mouseUp(...e)),onMouseleave:t[6]||(t[6]=(...e)=>l.mouseLeave&&l.mouseLeave(...e)),onMousedown:t[7]||(t[7]=(...e)=>l.mouseDown&&l.mouseDown(...e)),onWheel:t[8]||(t[8]=(...e)=>l.mouseWheelZoom&&l.mouseWheelZoom(...e)),onKeydownCapture:t[9]||(t[9]=(...e)=>l.keyDown&&l.keyDown(...e))},[(0,o._)("div",s,[(0,o.WI)(e.$slots,"buttons",{},void 0,!0)]),(0,o._)("div",{class:(0,n.C_)(["noselect",{zoomed:l.zoomed,smooth:this.smoothTransitions}]),style:(0,n.j5)({display:"inline-block",width:this.size[0]+"px",height:this.size[1]+"px",transform:"translate("+this.coordinates[0]+"px,"+this.coordinates[1]+"px) scale("+this.zoom+")","transform-origin":"0 0 0"})},[(0,o.WI)(e.$slots,"default",{loadEvent:l.loadEvent},void 0,!0)],6)],544)}i(74916);var a,l={},c={name:"interactive-zoom-move",emits:["draggingStart","draggingEnd"],props:["width","height","padding","maxzoom","minzoom","smooth"],provide(){return{zoom:(0,o.Fl)((()=>this.zoom))}},data:function(){return{size:[0,0],zoom:1,defaultZoom:1,MAX_ZOOM:10,MIN_ZOOM:.2,dragging:!1,coordinates:[0,0],parentcontainer:null,parentPadding:[0,0,0,0],pinch:!1,isLoading:!1}},computed:{zoomed:function(){return this.zoom>this.defaultZoom},smoothTransitions:function(){return this.smooth&&!this.dragging&&!this.isLoading}},created:function(){!this.maxzoom||(this.MAX_ZOOM=Number(this.maxzoom)),!this.minzoom||(this.MIN_ZOOM=Number(this.minzoom)),window.addEventListener("resize",this.onScreenResize)},mounted:function(){this.parentcontainer=this.$el,this.$el.focus(),this.size=[this.width,this.height]},beforeUnmount:function(){this.parentcontainer=null,l={},a=null,window.removeEventListener("resize",this.onScreenResize)},watch:{padding:{immediate:!0,handler(e){e&&e.split(" ").forEach(((e,t)=>{this.parentPadding[t]=Number(e)}))}},size(){const e=this.setStartingZoom(this.size);var t=this.zoom===e;this.zoom=e,this.defaultZoom=e,t&&(this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates))},zoom:function(){this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates)},dragging(e){var t="draggingStart";e||(t="draggingEnd"),this.$emit(t)},pinch(e){var t="draggingStart";e||(t="draggingEnd"),this.$emit(t)}},methods:{loadEvent(e){this.isLoading=!0,setTimeout((()=>{this.isLoading=!1}),400);var t=e.target||e.originalTarget||e.path[0],i=t.height,o=t.width;this.coordinates=[0,0],this.size=[o,i],t.style.opacity=1,t.style.transition="all .4s ease",t.style.transform="scale(1)"},focus(){this.$el.focus()},blur(){this.$el.blur()},setStartingZoom:function(e){var t=this.parentcontainer.getBoundingClientRect(),i=t.width-this.parentPadding[1]-this.parentPadding[3],o=e[0],n=t.height-this.parentPadding[0]-this.parentPadding[2],s=e[1],r=i/o,a=n/s;return Math.min(r,a,1)},centerImage:function(e,t,i){var o=this.parentcontainer.getBoundingClientRect(),n=o.width,s=e[0]*t,r=o.height,a=e[1]*t,l=this.parentPadding,c=i[0],d=i[1];return s<=n-l[1]-l[3]?c=(n-s)/2:i[0]>=l[3]?c=l[3]:s+i[0]<n-l[1]&&(c=-s+n-l[1]),a<r-l[0]-l[2]?d=(r-a)/2:i[1]>l[0]?d=l[0]:a+i[1]<r-l[2]&&(d=-a+r-l[2]),[c,d]},restoreZoom:function(){this.zoom=this.defaultZoom},doubleZoom:function(){this.zoom*=2},originalResolution:function(){this.zoom=1},clickImage:function(e){if("IMG"===e.target.tagName&&2!==e.button){var t=(e.clientX-this.coordinates[0])/this.zoom,i=(e.clientY-this.coordinates[1])/this.zoom;this.zoomed?this.restoreZoom():this.defaultZoom-1>.2?this.originalResolution():this.doubleZoom(),this.coordinates=[e.clientX-t*this.zoom,e.clientY-i*this.zoom]}},isDragging:function(e){return!!(l.x&&Math.abs(l.x-e.clientX)>2&&Math.abs(l.y-e.clientY)>2)},mouseDown:function(e){2!==e.button&&(e.preventDefault(),e.stopPropagation(),this.dragging=!1,l={x:e.clientX-this.coordinates[0],y:e.clientY-this.coordinates[1]})},mouseMove:function(e){(this.dragging||this.isDragging(e))&&(this.dragging=!0,e.preventDefault(),this.coordinates=[e.clientX-l.x,e.clientY-l.y])},mouseUp:function(e){this.dragging?(this.dragging=!1,this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates)):void 0!==!e.detail&&2!==e.detail||this.clickImage(e),l={}},mouseLeave:function(){this.dragging&&(l={},this.dragging=!1,this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates))},mouseWheelZoom:function(e){if(e.preventDefault(),!this.dragging||!this.isLoading){var t=(e.clientX-this.coordinates[0])/this.zoom,i=(e.clientY-this.coordinates[1])/this.zoom,o=e.wheelDelta||-e.deltaY;this.zoom=o>0?1.1*this.zoom>this.MAX_ZOOM?this.MAX_ZOOM:1.1*this.zoom:this.zoom/1.1<this.MIN_ZOOM?this.MIN_ZOOM:this.zoom/1.1,this.coordinates=[e.clientX-t*this.zoom,e.clientY-i*this.zoom]}},getPinchZoomSize(e,t){var i=e.clientX-t.clientX,o=e.clientY-t.clientY;return Math.sqrt(i*i+o*o)},touchStart:function(e){var t=e.touches||e.changedTouches;this.pinch=!1,this.dragging=!1,2===t.length?(this.pinch=!0,this.dragging=!1,a=this.getPinchZoomSize(e.touches[0],e.touches[1]),l={x:(t[0].clientX+t[1].clientX)/2,y:(t[0].clientY+t[1].clientY)/2}):(l.x=t[0].clientX-this.coordinates[0],l.y=t[0].clientY-this.coordinates[1])},touchMove:function(e){const t=e.touches||e.changedTouches;if(this.pinch){var i=this.getPinchZoomSize(e.touches[0],e.touches[1]),o=1,n=(l.x-this.coordinates[0])/this.zoom,s=(l.y-this.coordinates[1])/this.zoom,r=this.zoom*(1+(i/a-1)*o);this.zoom=r>this.MAX_ZOOM?this.MAX_ZOOM:r<this.MIN_ZOOM?this.MIN_ZOOM:r,this.coordinates=[l.x-n*this.zoom,l.y-s*this.zoom],a=i}else{if(!this.dragging&&!this.isDragging(t[0]))return;this.dragging=!0,e.preventDefault(),this.coordinates=[t[0].clientX-l.x,t[0].clientY-l.y]}},touchEnd:function(e){this.pinch&&2!==e.changedTouches.length&&(this.pinch=!1,this.pinchCenter=null),this.dragging&&(this.dragging=!1,this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates)),l={}},keyDown(e){if(console.log(e),!this.dragging){var t=0,i=0,o=0;switch(e.keyCode){case 38:case 87:i++;break;case 40:case 83:i--;break;case 37:case 65:t++;break;case 39:case 68:t--;break;case 187:case 107:case 69:o++;break;case 189:case 109:case 81:o--;break}if(t||i){e.preventDefault(),e.stopPropagation();var n=this.parentcontainer.getBoundingClientRect(),s=Math.min(n.width,n.height),r=.05;this.coordinates=this.centerImage(this.size,this.zoom,[this.coordinates[0]+s*r*t,this.coordinates[1]+s*r*i])}if(o){var a=this.zoom+.05*o,l=this.parentcontainer.getBoundingClientRect(),c=(l.width/2-this.coordinates[0])/this.zoom,d=(l.height/2-this.coordinates[1])/this.zoom;a>this.MAX_ZOOM?a=this.MAX_ZOOM:a<this.MIN_ZOOM&&(a=this.MIN_ZOOM),this.zoom=a,this.coordinates=[l.width/2-c*this.zoom,l.height/2-d*this.zoom]}}},onScreenResize:function(){let e=this.setStartingZoom(this.size);this.zoom===this.defaultZoom?e==this.zoom?this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates):this.zoom=e:this.coordinates=this.centerImage(this.size,this.zoom,this.coordinates),this.defaultZoom=e}}},d=(i(38439),i(83744));const p=(0,d.Z)(c,[["render",r],["__scopeId","data-v-69ff600e"]]);var h=p},58357:function(e,t,i){"use strict";var o=i(77525),n=i(61497),s=i(83744);const r=(0,s.Z)(n.Z,[["render",o.s]]);t["Z"]=r},31492:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return po}});var o=i(66252),n=i(3577);const s={style:{height:"100%",width:"100%"}},r={key:0,style:{position:"fixed",top:"0",left:"0","pointer-events":"none","z-index":"-1",opacity:"0.03",height:"100%",width:"100%"}},a=(0,o._)("img",{src:"https://d3kxs6kpbh59hp.cloudfront.net/community/COMMUNITY/e309bc955b464328ba48997869baa612/e2bbd13b405047668127ef11b7f685e6_1619683690.jpg",style:{height:"100%",width:"100%","object-fit":"cover"}},null,-1),l=[a];function c(e,t,i,a,c,d){const p=(0,o.up)("NewTierList"),h=(0,o.up)("TierList"),u=(0,o.up)("TierListSettings");return(0,o.wg)(),(0,o.iD)("div",s,[e.settings.backgroundImage?((0,o.wg)(),(0,o.iD)("div",r,l)):(0,o.kq)("",!0),(0,o.Wm)(p,{key:"newTierListMenu",class:(0,n.C_)({hide:!e.showNewComponent}),canClose:e.hasSomethingInWorkspace,onWorkTierList:d.loadTierListEvent,onClose:d.closeNewTierListMenu,onSettings:d.openTierListSettings},null,8,["class","canClose","onWorkTierList","onClose","onSettings"]),(0,o.Wm)(h,{key:"tierListMain",tierlist:e.current,"can-save-as-new":e.canSaveAsNew,onNewTierList:d.openNewTierListMenu,onSave:d.saveTierList,onSaveAsNew:d.saveNewTierList,onExportAsJSON:d.exportAsJSON,onSettings:d.openTierListSettings},null,8,["tierlist","can-save-as-new","onNewTierList","onSave","onSaveAsNew","onExportAsJSON","onSettings"]),((0,o.wg)(),(0,o.j4)(o.Ob,null,[e.showSettingsModal?((0,o.wg)(),(0,o.j4)(u,{key:0,onClose:d.closeTierListSettings},null,8,["onClose"])):(0,o.kq)("",!0)],1024))])}i(38862),i(33948);var d=i(49963);const p=e=>((0,o.dD)("data-v-d476792c"),e=e(),(0,o.Cn)(),e),h={class:"full-screen"},u={class:"new-box",style:{"justify-content":"space-evenly"}},m={class:"new-tiers-title",style:{width:"100%"}},g=p((()=>(0,o._)("i",{class:"fas fa-angle-left",style:{"padding-right":"1em"}},null,-1))),f={style:{"align-self":"baseline","font-weight":"200",padding:"30px 0","text-align":"start"}},w=p((()=>(0,o._)("img",{style:{height:"2em","vertical-align":"middle"},src:"/favicons/apple-touch-icon.png"},null,-1))),y={class:"hide-mobile"},v={class:"new-tiers-group"},b={class:"tier-load-box glass-container-2"},x=p((()=>(0,o._)("span",{style:{"font-weight":"600"}},"Your Tier Lists",-1))),_={class:"hide-scrollbar load-body"},k={key:1,style:{"text-align":"center","background-color":"var(--background-modifier-darken-alpha)",padding:"10px","border-radius":"8px","font-size":"20px",height:"min-content"}},T={key:2,style:{width:"100%",height:"100%"}},C=p((()=>(0,o._)("div",{class:"infinite-loading-wrapper"},[(0,o._)("div",{class:"infinite-loading"})],-1))),S=[C],L={class:"hide-scrollbar"};function M(e,t,i,s,r,a){const l=(0,o.up)("TierListCard"),c=(0,o.up)("CustomChangelog"),p=(0,o.Q2)("ripple-effect");return(0,o.wg)(),(0,o.iD)("div",h,[(0,o._)("div",u,[(0,o._)("div",m,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"material-button flat primary raised mat-hover"},[g,(0,o._)("span",null,(0,n.zw)(e.$t("strings.back")),1)])),[[d.F8,i.canClose],[p]]),(0,o._)("h2",f,[w,(0,o.Uk)((0,n.zw)(e.$t("strings.app_cecilia_tools")),1)]),(0,o._)("h1",y,(0,n.zw)(e.$t("strings.new_tier_list")),1)]),(0,o._)("div",v,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[1]||(t[1]=e=>a.newTierList("character")),class:"material-button stroked raised"},[(0,o._)("span",null,(0,n.zw)(e.$t("strings.new_tier_type_hero")),1)])),[[p]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[2]||(t[2]=e=>a.newTierList("artifact")),class:"material-button stroked raised"},[(0,o._)("span",null,(0,n.zw)(e.$t("strings.new_tier_type_artifact")),1)])),[[p]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"material-button stroked raised",onDragover:t[4]||(t[4]=(0,d.iM)((()=>{}),["prevent"])),onDragenter:t[5]||(t[5]=(0,d.iM)((()=>{}),["prevent"])),onDrop:t[6]||(t[6]=(0,d.iM)(((...e)=>a.dropJSONFile&&a.dropJSONFile(...e)),["prevent"])),onClick:t[7]||(t[7]=(...e)=>a.selectJSONFile&&a.selectJSONFile(...e))},[(0,o._)("input",{onChange:t[3]||(t[3]=(...e)=>a.selectedJSONFile&&a.selectedJSONFile(...e)),ref:"json-tierlist-input",type:"file",accept:".json",style:{display:"none"}},null,544),(0,o._)("span",null,(0,n.zw)(e.$t("strings.load_tier_json")),1)],32)),[[p]])]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[8]||(t[8]=t=>e.$emit("settings")),class:"material-button stroked raised"},[(0,o.Uk)((0,n.zw)(e.$t("strings.settings")),1)])),[[p]])]),(0,o._)("div",b,[(0,o._)("h1",null,[x,(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"material-button stroked primary button-large",onClick:t[9]||(t[9]=t=>e.viewChangelog=!e.viewChangelog)},[(0,o._)("span",null,(0,n.zw)(e.viewChangelog?e.$t("strings.load"):e.$t("strings.changelog")),1)])),[[p]])]),(0,o.wy)((0,o._)("div",_,[a.numberOfTierLists&&e.tierListsLoaded?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(a.sortedHistory,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e.id},[(0,o.Wm)(l,{tierlist:e,onLoad:a.loadTierList,onDelete:a.deletePrompt},null,8,["tierlist","onLoad","onDelete"])])))),128)):e.tierListsLoaded?((0,o.wg)(),(0,o.iD)("div",k,[(0,o._)("span",null,(0,n.zw)(e.$t("strings.no_tierlists")),1)])):((0,o.wg)(),(0,o.iD)("div",T,S))],512),[[d.F8,!e.viewChangelog]]),(0,o.wy)((0,o._)("div",L,[(0,o.Wm)(c,{path:"./views/tierlist-maker/"})],512),[[d.F8,e.viewChangelog]])])])}i(2707);const z={class:"body"},$={class:"description"},D={key:0,class:"material-button stroked primary",style:{float:"left"}};function N(e,t,i,s,r,a){const l=(0,o.up)("EmotableBox"),c=(0,o.Q2)("ripple-effect");return(0,o.wg)(),(0,o.iD)("div",{class:"tier-card",onClick:t[1]||(t[1]=(0,d.iM)((e=>this.$emit("load",this.tierlist)),["prevent"]))},[(0,o.Wm)(l,{class:"title",tagName:"h2",editable:!1,value:i.tierlist.name},null,8,["value"]),(0,o._)("div",z,[(0,o._)("div",$,[(0,o._)("div",null,[(0,o._)("span",null,(0,n.zw)(e.$t("strings.tier_list_type"))+": "+(0,n.zw)(i.tierlist.type),1)]),(0,o._)("div",null,[(0,o._)("span",null,(0,n.zw)(e.$t("strings.updated_at"))+": "+(0,n.zw)(i.tierlist.updated_at?e.$d(i.tierlist.updated_at,"long"):"-"),1)]),(0,o._)("div",null,[(0,o._)("span",null,(0,n.zw)(e.$t("strings.created_at"))+": "+(0,n.zw)(i.tierlist.created_at?e.$d(i.tierlist.created_at,"long"):"-"),1)])]),i.buttons?(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",D,[(0,o._)("span",null,(0,n.zw)(e.$t("strings.load")),1)])),[[c]]):(0,o.kq)("",!0),i.buttons?(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{key:1,onClick:t[0]||(t[0]=(0,d.iM)((e=>this.$emit("delete",i.tierlist)),["stop"])),class:"material-button flat warn",style:{float:"right"}},[(0,o._)("span",null,(0,n.zw)(e.$t("strings.delete")),1)])),[[c]]):(0,o.kq)("",!0)])])}const I={key:0,class:"emotable-div"},A=["onClick"],O=["src","title"],R={key:1},E=["src"];function K(e,t,i,s,r,a){const l=(0,o.Q2)("emote");return(0,o.wg)(),(0,o.iD)(o.HY,null,[i.icon?((0,o.wg)(),(0,o.iD)("div",I,[r.showEmoteSelector?((0,o.wg)(),(0,o.iD)("div",{key:0,ref:"emote-selector",class:"emote-selector",style:(0,n.j5)(r.selectorStyling)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.emotes,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e.code,class:"emote-wrapper",onMousedown:t[0]||(t[0]=(0,d.iM)((()=>{}),["prevent"])),onClick:t=>a.clickToInserEmote(e.code),style:{"min-width":"40px","min-height":"40px"}},[(0,o._)("img",{src:e.src,title:":"+e.code+":",height:"40",SameSite:"Lax"},null,8,O)],40,A)))),128))],4)):(0,o.kq)("",!0),r.autocomplete.length?((0,o.wg)(),(0,o.iD)("div",R,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.autocomplete,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.code},[(0,o._)("img",{src:e.src,style:{height:"1.5em"}},null,8,E)])))),128))])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),(0,o.wy)(((0,o.wg)(),(0,o.j4)((0,o.LL)(i.tagName),(0,o.dG)({key:"text-content",ref:"text-box"},e.$attrs,{class:"input-box",contenteditable:i.editable,spellcheck:"false",onBlur:a.onBlur,onClick:a.onClick,innerHTML:a.text}),null,16,["contenteditable","onBlur","onClick","innerHTML"])),[[l]])],64)}var Z=i(55863),j=i(88301),F=(i(74916),i(15306),i(58439)),B={HitSet:F.cK+"item/icon_set_acc.png",AttackSet:F.cK+"item/icon_set_att.png",UnitySet:F.cK+"item/icon_set_coop.png",CounterSet:F.cK+"item/icon_set_counter.png",CritChanceSet:F.cK+"item/icon_set_cri.png",CritDamageSet:F.cK+"item/icon_set_cri_dmg.png",DefenseSet:F.cK+"item/icon_set_def.png",HealSet:F.cK+"item/icon_set_heal_inc.png",ImmunitySet:F.cK+"item/icon_set_immune.png",HealthSet:F.cK+"item/icon_set_max_hp.png",PenetrationSet:F.cK+"item/icon_set_penetrate.png",RageSet:F.cK+"item/icon_set_rage.png",UnknownSet:F.cK+"item/icon_set_random.png",ResistSet:F.cK+"item/icon_set_res.png",RevengeSet:F.cK+"item/icon_set_revenge.png",InjurySet:F.cK+"item/icon_set_scar.png",SpeedSet:F.cK+"item/icon_set_speed.png",LifestealSet:F.cK+"item/icon_set_vampire.png",Attack:F.cK+"img/icon_menu_att.png",Defense:F.cK+"img/icon_menu_def.png",Health:F.cK+"img/icon_menu_max_hp.png",Speed:F.cK+"img/icon_menu_speed.png",CritChance:F.cK+"img/icon_menu_cri.png",CritDamage:F.cK+"img/icon_menu_cri_dmg.png",Effectivness:F.cK+"img/icon_menu_acc.png",EffectResistance:F.cK+"img/icon_menu_res.png",DualAttack:F.cK+"img/icon_menu_coop.png",Counter:F.cK+"img/icon_menu_counter.png",Rarity:F.cK+"cm_icon_star.png",Warrior:F.cK+"class/cm_icon_role_warrior.png",Knight:F.cK+"class/cm_icon_role_knight.png",Thief:F.cK+"class/cm_icon_role_thief.png",Ranger:F.cK+"class/cm_icon_role_ranger.png",Mage:F.cK+"class/cm_icon_role_mage.png",SoulWeaver:F.cK+"class/cm_icon_role_soul-weaver.png",Fire:F.cK+"attribute/cm_icon_profire.png",Ice:F.cK+"attribute/cm_icon_proice.png",Grass:F.cK+"attribute/cm_icon_proearth.png",Dark:F.cK+"attribute/cm_icon_promdark.png",Light:F.cK+"attribute/cm_icon_prolight.png",Aries:F.cK+"img/cm_icon_zodiac_ram.png",Taurus:F.cK+"img/cm_icon_zodiac_bull.png",Gemini:F.cK+"img/cm_icon_zodiac_twins.png",Cancer:F.cK+"img/cm_icon_zodiac_crab.png",Leo:F.cK+"img/cm_icon_zodiac_lion.png",Virgo:F.cK+"img/cm_icon_zodiac_maiden.png",Libra:F.cK+"img/cm_icon_zodiac_scales.png",Scorpius:F.cK+"img/cm_icon_zodiac_scorpion.png",Sagittarius:F.cK+"img/cm_icon_zodiac_archer.png",Capricornus:F.cK+"img/cm_icon_zodiac_goat.png",Aquarius:F.cK+"img/cm_icon_zodiac_waterbearer.png",Pisces:F.cK+"img/cm_icon_zodiac_fish.png",CermiaWeird:F.cK+"ui/emote/CermiaWeird.png",CharlotteNoted:F.cK+"ui/emote/c5009_hard_001.webp",MelanyLaugh:F.cK+"ui/emote/c3121_provoke_001.webp",ChristieTired:F.cK+"ui/emote/c3123_tired_001.webp",DieneL:F.cK+"ui/emote/c1076_heart_001.webp",DienePray:F.cK+"ui/emote/c1076_pray_001.webp",Skystone:F.cK+"item/token_crystal.png",Transmit:F.cK+"item/token_hero1.png",GoldTransmit:F.cK+"item/token_hero2.png",Powder:F.cK+"item/token_powder.png",Covenant:F.cK+"item/token_ticket_rare.png",Mystic:F.cK+"item/token_ticket_special.png",Galaxy:F.cK+"item/token_ticket_moon.png",MolagoraSeed:F.cK+"item/token_mura.png",Molagora:F.cK+"item/ma_moragora1.png",Banned:F.cK+"img/_cm_banned_res.png",D:F.cK+"img/hero_dedi_a_d.png",C:F.cK+"img/hero_dedi_a_c.png",B:F.cK+"img/hero_dedi_a_b.png",A:F.cK+"img/hero_dedi_a_a.png",S:F.cK+"img/hero_dedi_a_s.png",SS:F.cK+"img/hero_dedi_a_ss.png",SSS:F.cK+"img/hero_dedi_a_sss.png",BOOBA:F.cK+"ui/emote/booba.webp",BASED:F.cK+"ui/emote/BASED.webp",BASEDCIGAR:F.cK+"ui/emote/BASEDCIGAR.webp",modCheck:F.cK+"ui/emote/modCheck.webp",Clueless:F.cK+"ui/emote/Clueless.webp",Aware:F.cK+"ui/emote/AWARE.gif",OMEGALUL:F.cK+"ui/emote/OMEGALUL.png",NOPPERS:F.cK+"ui/emote/NOPPERS.gif",EZ:F.cK+"ui/emote/EZ.png",WHO:F.cK+"ui/emote/WHO.webp",Pepega:F.cK+"ui/emote/pepega.png",PepegaCredit:F.cK+"ui/emote/PepegaCredit.webp",PepeLaugh:F.cK+"ui/emote/PepeLaugh.gif",Copium:F.cK+"ui/emote/copium.png",GIGACHAD:F.cK+"ui/emote/GIGACHAD.webp",SUSSY:F.cK+"ui/emote/SUSSY.webp",Bedge:F.cK+"ui/emote/bedge.webp",Smadge:F.cK+"ui/emote/Smadge.webp",Nerd:F.cK+"ui/emote/Nerd.webp"},P=Object.keys(B).map((e=>({code:e,src:B[e]})));function q(e){var t=document.createElement("img");return t.src=B[e],t.setAttribute("draggable",!1),t.title=":"+e+":",t.style.height="1.5em",t.style.margin="-0.5em 0",t.style.verticalAlign="middle",t.style.pointerEvents="none",t.setAttribute("SameSite","Lax"),t}function H(e){let t=(e||"").replace(/<(?!br\s*\/?)[^>]+>/,(e=>e.replace("<","&lt;").replace(">","&gt;").replace("/","&#47;"))),i=t.replace(/:[a-zA-Z0-9_-]+:/g,(function(e){var t=B[e.replace(/:/g,"")];return t?'<img src="'+t+'" title="'+e+'" draggable="false" style="height: 1.5em; vertical-align: middle; pointer-events: none; margin: -0.5em 0;" SameSite="Lax" />':e}));return i}function W(e){var t="";return e.childNodes?(e.childNodes.forEach(((e,i)=>{"#text"===e.nodeName?t+=e.data:"IMG"===e.nodeName?t+=e.title||"":"BR"===e.nodeName&&i>0?t+="<br>":"DIV"!==e.nodeName&&"P"!==e.nodeName||(t+="<div>"+W(e)+"</div>")})),t.replace(/(<[/]*div>){2}/g,"<br>").replace(/(<[/]*div>)/g,"<br>").replace(/(<br>)*$/,"")):e.innerHTML}function U(e){let t=W(e);return t}function Y(){if(window.getSelection){const e=window.getSelection();if(e.getRangeAt)return e.getRangeAt(0)}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null}function J(e,t,i,o=0){var n,s;window.getSelection&&(n=window.getSelection(),void 0!==i&&void 0!==o&&(s=document.createRange(),s.setStart(e,i),s.setEnd(e,i+o),n.removeAllRanges(),n.addRange(s)),n.rangeCount&&(s=n.getRangeAt(0),s.deleteContents(),s.insertNode(t),s.setStartAfter(t),s.setEndAfter(t),n.removeAllRanges(),n.addRange(s)))}function X(e,t){var i=Y();console.log(i);var o=i.startContainer;if(e){if(t){var n=t.contains(o);n?console.log("is a child"):(o=t.lastChild,o||(o=document.createTextNode(""),t.appendChild(o)))}J(o,q(e))}}i(26699),i(24603),i(28450);var G=new WeakMap;function V(e){var t=G.get(e);if(t)return t.el;var i=document.createElement("div");return i.classList.add("hide-scrollbar"),i.onmousedown=e=>e.preventDefault(),i.style="background: var(--background-color-secondary); padding: 5px 0; border-radius: 8px; z-index: 100; cursor: pointer; position: absolute; top: 0; left: 0; transform: translate(-100%, -100%); max-height: 200px; overflow: auto;",G.set(e,{el:i,results:[],index:0,matchLength:0}),document.body.appendChild(i),i}function Q(e){let t=e.target;var i=G.get(t);i&&i.el&&(i.el.remove(),i.el=null),i=null,G.delete(t)}function ee(e,t){let i=e.currentTarget.querySelector("img");if(i){let e=i.title;if(!e)return;let s=G.get(t);e=e.slice(1,-1);var o=Y(),n=o.startContainer;J(n,q(e),o.startOffset-s.matchLength,s.matchLength),Q({target:t})}}function te(e){if(![17,18,16,20].includes(e.keyCode))if(":"===e.key||229==e.keyCode)Q(e),window.requestAnimationFrame((()=>{var e=Y(),t=e.startContainer;if("#text"===t.nodeName){var i=t.data.slice(0,e.startOffset),o=i.match(/:\w+:$/);if(o){const i=B[o[0].replace(/:/g,"")];if(i){let i=o[0].length;J(t,q(o[0].replace(/:/g,"")),e.startOffset-i,i)}}}}));else if(37===e.keyCode||39===e.keyCode)Q(e);else if([38,40,13,9].includes(e.keyCode)){var t=G.get(e.target);if(!t||!t.results.length)return;if(t.index||(t.index=0),38===e.keyCode)e.preventDefault(),t.el.children[t.index].classList.remove("active"),t.index--,t.index<0&&(t.index=t.results.length-1),t.el.children[t.index].classList.add("active"),t.el.children[t.index].scrollIntoView(!1);else if(40===e.keyCode)e.preventDefault(),t.el.children[t.index].classList.remove("active"),t.index++,t.index>t.results.length-1&&(t.index=0),t.el.children[t.index].classList.add("active"),t.el.children[t.index].scrollIntoView(!1);else if(13===e.keyCode||9===e.keyCode){e.preventDefault();var i=Y(),o=i.startContainer;J(o,q(t.results[t.index].code),i.startOffset-t.matchLength,t.matchLength),Q(e)}}else window.requestAnimationFrame((()=>{var t=V(e.target),i=G.get(e.target),o=Y(),n=o.startContainer;if("#text"===n.nodeName){var s=n.data.slice(0,o.startOffset),r=s.match(/:\w+$/);if(r){let n=r[0].slice(1);var a=new RegExp("^"+n,"i");t.innerHTML="";var l=P.filter((e=>a.test(e.code))).slice(0,10);if(i.results=l,i.index=0,i.matchLength=r[0].length,l.forEach((o=>{let n=document.createElement("div");n.style="padding: 0 5px",n.onclick=t=>ee(t,e.target),n.onmouseenter=e=>{t.children[i.index].classList.remove("active"),i.index=l.indexOf(o),e.target.classList.add("active")};let s=q(o.code);s.style.minWidth="1.5em",n.appendChild(s);var r=document.createTextNode(o.code);n.appendChild(r),t.appendChild(n)})),0==l.length)return void(t.style.display="none");t.style.display="block",window.requestAnimationFrame((()=>{t.children[i.index].classList.add("active"),(0,Z.oo)(o,t,{strategy:"absolute",placement:"top",middleware:[(0,j.cv)(5),(0,j.uY)(),(0,j.RR)()]}).then((({x:e,y:i})=>{Object.assign(t.style,{transform:"translate("+e+"px,"+i+"px)",opacity:1})}))}))}else t.style.display="none"}}))}var ie={beforeMount:function(e){e.addEventListener("keydown",te),e.addEventListener("blur",Q),e.getCleanInnerHTML=()=>U(e)},beforeUnmount:function(e){e.getCleanInnerHTML=null,e.removeEventListener("keydown",te),Q({target:e})}},oe={name:"EmotableBox",emits:["update"],directives:{emote:ie},props:{tagName:{type:String,required:!1,default:"DIV"},value:{type:String,required:!1,default:""},editable:{type:Boolean,default:!0},icon:{type:Boolean,default:!1}},renderTriggered(e){console.log("EmoteableDiv",e)},data(){return{showEmoteSelector:!1,emotes:P,autocomplete:[],autocompleteIndex:0,selectorStyling:{left:0,right:0}}},computed:{text(){return H(this.value)}},methods:{toggleEmoteSelector(){this.showEmoteSelector=!this.showEmoteSelector},clickToInserEmote(e){X(e,this.$refs["text-box"])},setSelectorStyling(){if(this.icon){var e=this.$refs["text-box"],t=this.$refs["emote-selector"];if(!e)return;(0,Z.oo)(e,t,{strategy:"fixed",middleware:[(0,j.X5)({allowedPlacements:["top-end","bottom-end","left-start","right-start"]})]}).then((({x:e,y:t})=>{this.selectorStyling.top=t+"px",this.selectorStyling.left=e+"px"}))}},onClick(){},onBlur(e){this.$emit("update",this.$refs["text-box"].getCleanInnerHTML(),e)}}},ne=(i(81432),i(83744));const se=(0,ne.Z)(oe,[["render",K]]);var re=se,ae={name:"TierListCard",emits:["load","delete"],components:{EmotableBox:re},props:{tierlist:{type:Object,required:!0},buttons:{type:Boolean,default:!0}},computed:{name:function(){return this.tierlist.name}}};i(67089);const le=(0,ne.Z)(ae,[["render",N]]);var ce=le;const de=["S","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function pe(e,t){var i;void 0===!t?i=e.length:(i=Number(t),i=isNaN(i)?e.length:i),e.splice(i,0,{_id:Date.now()+"-"+Math.floor(1e3*Math.random())+"-"+i,name:de[i%de.length],color:null,list:[]})}function he(e,t,i){void 0===i&&(i=t.length);for(var o=0;o<e;o++)pe(t,i),i++}var ue=i(86214);i(21703);function me(e){return new Promise(((t,i)=>{try{if(!e)throw new Error;var o=new FileReader;o.readAsText(e,"UTF-8"),o.onload=e=>{try{var o=e.target.result,n=JSON.parse(o);["character","artifact"].includes(n.type)?t(n):i({error:2,message:"unsupported_type"})}catch(s){i({error:1,message:"parsing_error"})}}}catch(n){i({error:0,message:"no_file_provided"})}}))}var ge=i(26469),fe={name:"tier-list-main-menu",components:{TierListCard:ce,CustomChangelog:ue.Z},props:{canClose:{type:Boolean,required:!1,default:!1}},data:function(){return{tierListsLoaded:!1,viewChangelog:!1}},computed:{tierListHistory(){return this.$store.getters.getTierListDB()},sortedHistory(){return Object.values(this.tierListHistory||{}).sort(((e,t)=>e.updated_at>t.updated_at?-1:0))},numberOfTierLists(){return Object.values(this.tierListHistory).length}},renderTriggered(e){console.log("MainMenu",e)},created:function(){this.$store.dispatch("LOAD_TIER_LIST_DB").catch((()=>{this.$snackbar.warn({title:"Can't open local database",description:"Saving and Loading disabled"})})).finally((()=>{this.tierListsLoaded=!0}))},methods:{deletePrompt(e){this.$promiseAlert(H(e.name),this.$t("strings.delete_tier_confirm"),[this.$t("strings.confirm"),this.$t("strings.cancel")]).then((([t])=>{0===t&&this.$store.dispatch("DELETE_TIER_LIST",e)}))},newTierList(e){let t=[];he(5,t),this.$emit("workTierList",{type:e,name:":"+(0,ge.k)(["Aware","Clueless","BOOBA","Copium","Bedge","Pepega","PepegaCredit","PepeLaugh","Nerd","CharlotteNoted","DieneL","DienePray","Skystone","Molagora","MolagoraSeed"])+": "+this.$t("strings.untitled_tier_list"),tiers:t,xy:{names:[],list:[]}})},loadTierList(e){this.$emit("workTierList",e)},dropJSONFile(e){this.parseJSONFile(e.dataTransfer.files[0])},selectJSONFile(e){e.stopPropagation(),this.$refs["json-tierlist-input"].click()},selectedJSONFile(e){this.parseJSONFile(e.target.files[0])},parseJSONFile(e){me(e).then((e=>{this.loadTierList(e)})).catch((e=>{e.error&&this.$snackbar.warn({title:e.message})}))}}};i(19041);const we=(0,ne.Z)(fe,[["render",M],["__scopeId","data-v-d476792c"]]);var ye=we;const ve={key:"desktop-buttons",class:"tier-draw-area"},be={key:0,class:"tier-control-buttons glass-container",style:{top:"-10px"},"data-html2canvas-ignore":""},xe=(0,o._)("i",{class:"icon fas fa-border-all",style:{"margin-right":"6px"}},null,-1),_e=(0,o._)("i",{class:"icon fas fa-pencil-alt"},null,-1),ke=[_e],Te=(0,o._)("i",{class:"icon fas fa-exchange-alt"},null,-1),Ce=[Te],Se=(0,o._)("i",{class:"icon fas fa-times"},null,-1),Le=[Se],Me=(0,o._)("i",{class:"icon fas fa-save"},null,-1),ze=[Me],$e=(0,o._)("span",{class:"icon-stack"},[(0,o._)("i",{class:"icon fas fa-save",style:{"margin-right":"0"}}),(0,o._)("i",{class:"icon fa fa-plus",style:{position:"absolute",top:"7px",left:"25px","font-size":"0.6em"}})],-1),De=[$e],Ne=(0,o._)("i",{class:"icon fas fa-file-code"},null,-1),Ie=[Ne],Ae=(0,o._)("i",{class:"icon fas fa-download"},null,-1),Oe=(0,o._)("i",{class:"icon fas fa-cog"},null,-1),Re=[Oe],Ee={id:"tiers",class:"tier-drop-area"},Ke=(0,o._)("i",{class:"fa fa-plus"},null,-1),Ze={key:2,class:"xy-graph-container"},je={key:0,class:"tier-control-buttons glass-container",style:{margin:"0","text-align":"end",position:"sticky",top:"0","z-index":"1",display:"flex","margin-bottom":"5px"}},Fe={class:"nsearchbar",style:{display:"flex",flex:"1",overflow:"hidden",position:"relative"}},Be=["value","placeholder"],Pe=(0,o._)("i",{class:"fa fa-filter"},null,-1),qe={style:{"font-size":"1.3em",padding:"0 5px"}},He={key:"filter-option"},We={class:"custom-check",style:{margin:"5px"}},Ue=["checked"],Ye=(0,o._)("span",{class:"checkmark"},null,-1),Je={class:"custom-check",style:{margin:"5px"}},Xe=["checked"],Ge=(0,o._)("span",{class:"checkmark"},null,-1);function Ve(e,t,i,s,r,a){const l=(0,o.up)("MobileFloatingMenu"),c=(0,o.up)("EmotableBox"),p=(0,o.up)("TierListTable"),h=(0,o.up)("TierListXY"),u=(0,o.up)("ScalableDIV"),m=(0,o.up)("TierListItemBox"),g=(0,o.up)("CompareModal"),f=(0,o.up)("FilterModal"),w=(0,o.up)("ItemComment"),y=(0,o.Q2)("tooltip"),v=(0,o.Q2)("ripple-effect");return(0,o.wg)(),(0,o.iD)("div",{class:(0,n.C_)(["tier-maker-container tier",{mobileView:this.mobile,"force-stack-view":1===a.settings.tierListMakerView}])},[(0,o._)("div",ve,[a.mobile?((0,o.wg)(),(0,o.j4)(l,{key:1,options:a.mobileMenuOptions,onNew:t[9]||(t[9]=t=>e.$emit("newTierList")),onSave:a.saveTierList,onSaveAsNew:a.saveNewTierList,onExportJSON:a.exportAsJSON,onExportPNG:a.exportAsPNG,onToggleTierType:a.toggleTierListType,onCompare:t[10]||(t[10]=t=>e.showCompareModal=!0),onStopCompare:t[11]||(t[11]=t=>e.compare=!1),onSettings:t[12]||(t[12]=t=>e.$emit("settings")),onFilters:a.openFilterModal},null,8,["options","onSave","onSaveAsNew","onExportJSON","onExportPNG","onToggleTierType","onFilters"])):((0,o.wg)(),(0,o.iD)("div",be,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[0]||(t[0]=(...e)=>a.toggleTierListType&&a.toggleTierListType(...e)),style:{float:"left"}},[xe,(0,o.Uk)(" "+(0,n.zw)(this.tierType?this.$t("strings.row_tier_chart"):this.$t("strings.alignment_chart")),1)])),[[y,()=>e.$t("strings.tier_list_type")]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[1]||(t[1]=t=>e.$emit("newTierList"))},ke)),[[y,()=>e.$t("strings.new_tier_list")]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[2]||(t[2]=t=>e.showCompareModal=!0)},Ce)),[[d.F8,!e.tierType&&!e.compare],[y,()=>e.$t("strings.compare")]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[3]||(t[3]=t=>e.compare=!1)},Le)),[[d.F8,!e.tierType&&e.compare],[y,()=>e.$t("strings.stop_compare")]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[4]||(t[4]=(...e)=>a.saveTierList&&a.saveTierList(...e))},ze)),[[y,()=>e.$t("strings.save")]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[5]||(t[5]=(...e)=>a.saveNewTierList&&a.saveNewTierList(...e)),style:{position:"relative"}},De)),[[d.F8,i.canSaveAsNew],[y,()=>e.$t("strings.save_as_new")]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[6]||(t[6]=(...e)=>a.exportAsJSON&&a.exportAsJSON(...e))},Ie)),[[y,()=>e.$t("strings.export_as",["JSON"])]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[7]||(t[7]=(...e)=>a.exportAsPNG&&a.exportAsPNG(...e))},[Ae,(0,o.Uk)(" "+(0,n.zw)(e.$t("strings.export_as",["PNG"])),1)])),[[y,()=>e.$t("strings.export_as",["PNG"])]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{onClick:t[8]||(t[8]=t=>e.$emit("settings")),style:{float:"right"}},Re)),[[y,()=>e.$t("strings.settings")]])])),(0,o.wy)((0,o._)("div",Ee,[(0,o.Wm)(c,{key:"tier-list-title-main",class:"tier-list-title",value:e.tierListName,icon:!0,onUpdate:a.updateTierListTitle},null,8,["value","onUpdate"]),(0,o.Wm)(p,{tiers:e.tiers,itemList:e.charList,onRenameTierRow:a.renameTierRow,onMoveTierRow:a.moveTierRow,onClearTierRow:a.clearTierRow,onDeleteTierRow:a.deleteTierRow,onNewTier:a.addNewTierRow},null,8,["tiers","itemList","onRenameTierRow","onMoveTierRow","onClearTierRow","onDeleteTierRow","onNewTier"]),(0,o._)("div",{class:"new-tier-box noselect",style:{height:"100px"},onClick:t[13]||(t[13]=(...e)=>a.addNewTierRow&&a.addNewTierRow(...e)),"data-html2canvas-ignore":""},[Ke,(0,o._)("span",null,(0,n.zw)(e.$t("strings.add_new_tier")),1)])],512),[[d.F8,!e.tierType]]),1===e.tierType?((0,o.wg)(),(0,o.iD)("div",Ze,[(0,o.Wm)(u,{id:"AlignChart",height:2500,width:2500,maxzoom:5,minzoom:.03,padding:"70 70 70 70"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{key:"XYGraph",list:e.xy.list,axes:e.xy.names},null,8,["list","axes"])])),_:1},8,["minzoom"])])):(0,o.kq)("",!0)]),(0,o._)("div",{key:"hero-box",class:(0,n.C_)({"mobile-list":a.mobile,"desktop-list":!a.mobile}),style:(0,n.j5)({width:a.mobile?"":a.desktopHeroBoxWidth+1+"px"})},[a.mobile?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",je,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",Fe,[(0,o._)("input",{ref:"tierlist-maker-search-bar",onInput:t[14]||(t[14]=(...e)=>a.typingSearchQuery&&a.typingSearchQuery(...e)),value:e.filterModel.name,style:{"background-color":"#575656ad"},placeholder:`${e.$t("strings.search")}...`,autocomplete:"off"},null,40,Be),(0,o._)("div",{class:"go",onClick:t[15]||(t[15]=t=>(e.filterModel.name="",t.currentTarget.previousSibling.focus()))},[(0,o._)("i",{class:(0,n.C_)(["fa",{"fa-search":!e.filterModel.name,"fa-times":e.filterModel.name}])},null,2)])])),[[v]]),(0,o._)("button",{class:"noselect",style:{border:"solid thin"},onClick:t[16]||(t[16]=(...e)=>a.openFilterModal&&a.openFilterModal(...e))},[Pe,(0,o._)("span",qe,(0,n.zw)(e.$t("strings.filter")),1)])])),(0,o.Wm)(m,{list:e.charList,tierType:e.tierType},null,8,["list","tierType"])],6),((0,o.wg)(),(0,o.j4)(o.Ob,null,[e.showCompareModal?((0,o.wg)(),(0,o.j4)(g,{key:0,type:e.elementType,onLoad:t[17]||(t[17]=t=>e.console.log("comparing")),onCompare:t[18]||(t[18]=t=>e.compare=t),onClose:t[19]||(t[19]=t=>e.showCompareModal=!1)},null,8,["type"])):(0,o.kq)("",!0)],1024)),(0,o.wy)((0,o.Wm)(f,{ref:"filter-modal",sorting:e.sort,filter:e.filterModel,onClose:a.closeFilterModal},{default:(0,o.w5)((()=>[e.showFilterModal?((0,o.wg)(),(0,o.iD)("div",He,[(0,o._)("label",We,[(0,o._)("input",{type:"checkbox",checked:e.filterPlacedElements,onChange:t[20]||(t[20]=t=>e.filterPlacedElements=t.target.checked)},null,40,Ue),Ye,(0,o.Uk)(" "+(0,n.zw)(e.$t("strings.apply_filter_to_ranked")),1)]),(0,o._)("label",Je,[(0,o._)("input",{type:"checkbox",checked:e.filterModel.hasSkins,onChange:t[21]||(t[21]=t=>e.filterModel.hasSkins=t.target.checked)},null,40,Xe),Ge,(0,o.Uk)(" "+(0,n.zw)(e.$t("strings.has_skin")),1)])])):(0,o.kq)("",!0)])),_:1},8,["sorting","filter","onClose"]),[[d.F8,e.showFilterModal]]),e.openCommentModal?((0,o.wg)(),(0,o.j4)(w,{key:0,name:a.getItemName(e.openCommentModal),comment:a.getItemComment(e.openCommentModal),onSetcomment:a.updateItemComment,onClose:t[22]||(t[22]=t=>e.openCommentModal=!1)},null,8,["name","comment","onSetcomment"])):(0,o.kq)("",!0)],2)}function Qe(e,t,i,n,s,r){const a=(0,o.up)("TierRow"),l=(0,o.up)("RowSettings");return(0,o.wg)(),(0,o.iD)("div",{key:"tier-list-table",style:{"margin-top":"1px"},"data-drop":"tiers",onDrop:t[1]||(t[1]=(...e)=>r.handleDropEvent&&r.handleDropEvent(...e))},[(0,o.Wm)(d.W3,{name:r.animation,tag:"div"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.tiers,((e,t)=>((0,o.wg)(),(0,o.j4)(a,{key:e._id,index:t,tier:e,color:e.color||s.labelColors[t%s.labelColors.length],"data-item-index":t,onMove:r.moveTierListRow,onRename:r.updateTierTitle,onDropItem:r.tierRowDropItem,onSettings:r.openRowSettingsModal},null,8,["index","tier","color","data-item-index","onMove","onRename","onDropItem","onSettings"])))),128))])),_:1},8,["name"]),((0,o.wg)(),(0,o.j4)(o.lR,{to:"body"},[s.showRowModal?((0,o.wg)(),(0,o.j4)(l,{key:0,tier:s.showRowModal,onMove:r.moveTierListRow,onDelete:r.deleteTier,onClear:r.clearTier,onNewAbove:r.addNewTierAbove,onNewBelow:r.addNewTierBelow,onClose:t[0]||(t[0]=e=>s.showRowModal=!1)},null,8,["tier","onMove","onDelete","onClear","onNewAbove","onNewBelow"])):(0,o.kq)("",!0)]))],32)}const et=["onDragclick"],tt={key:"drag-tier-row-box",class:"drag-tier-container","data-html2canvas-ignore":""},it=(0,o._)("i",{class:"fas fa-grip-lines"},null,-1),ot=[it],nt={key:1,class:"tiermaker-control-box","data-html2canvas-ignore":""};function st(e,t,i,s,r,a){const l=(0,o.up)("EmotableBox"),c=(0,o.up)("TierListCompareBox"),p=(0,o.Q2)("drag"),h=(0,o.Q2)("tooltip"),u=(0,o.Q2)("drop");return(0,o.wg)(),(0,o.iD)("div",{class:(0,n.C_)(["tier-wrapper",a.settings.rowLabelLayout?"type1":"type2"])},[((0,o.wg)(),(0,o.j4)(l,{key:"row-name",class:"tier-name",value:i.tier.name,style:(0,n.j5)("background-color:"+i.color),onUpdate:a.updateTierName,onContextmenu:(0,d.iM)(a.openRowSettings,["prevent"])},null,8,["value","style","onUpdate","onContextmenu"])),(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:"tier-list",style:(0,n.j5)({"min-height":a.iconFullSize+30+"px"}),onDrop:t[3]||(t[3]=e=>a.handleDropEvent(e.detail.item,i.tier.list,e.detail.list,e.detail.index))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.tier.list,((e,t)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",{key:e,class:(0,n.C_)(["tier-item",{"filter-out":!a.tierItemsMask[e]}]),onDragclick:t=>a.itemContextMenu(e,t)},[((0,o.wg)(),(0,o.j4)((0,o.LL)(a.isComponentType),{hero:e,artifact:e,skin:a.skin[e],type:a.settings.fullArtwork?1:0,hover:!1,showname:a.settings.showName,showrole:a.settings.showRole,showrarity:a.settings.showRarity,size:a.settings.iconSize,lazyload:!0,class:(0,n.C_)({"no-padding":!a.iconPadding}),onContext:a.itemContextMenu},null,40,["hero","artifact","skin","type","showname","showrole","showrarity","size","class","onContext"])),a.compareTiers?((0,o.wg)(),(0,o.j4)(c,{key:0,item:e,index:t,vertical:i.index,to:a.compareTiers},null,8,["item","index","vertical","to"])):(0,o.kq)("",!0)],42,et)),[[p,{drops:["tierlist-element"],index:t,item:e,list:i.tier.list}],[h,()=>a.getItemTooltip(e)]]))),128)),0===a.settings.tierRowControlsType?(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",tt,ot)),[[p,{drops:["tiers"],index:i.index,item:"tier-"+i.tier._id,list:i.tier,node:()=>e.$el,vertical:!0}]]):((0,o.wg)(),(0,o.iD)("div",nt,[(0,o._)("i",{class:"fas fa-chevron-up",style:{flex:"1",display:"inline-flex","align-items":"center"},onClick:t[0]||(t[0]=t=>e.$emit("move",i.tier,-1))}),(0,o._)("i",{class:"fas fa-cog",style:{flex:"1",display:"inline-flex","align-items":"center"},onClick:t[1]||(t[1]=(...e)=>a.openRowSettings&&a.openRowSettings(...e))}),(0,o._)("i",{class:"fas fa-chevron-down",style:{flex:"1",display:"inline-flex","align-items":"center"},onClick:t[2]||(t[2]=t=>e.$emit("move",i.tier,2))})]))],36)),[[u,"tierlist-element"]])],2)}var rt=i(82229),at={name:"artifact-icon",emits:["click","context"],props:{inview:{type:Boolean,required:!1,default:!0},type:{type:Number,default:0},artifact:{type:String},showrole:{type:Boolean,required:!1,default:!0},showname:{type:Boolean,default:!1},showrarity:{type:Boolean,default:!1},size:{type:Number,default:75},lazyload:{type:Boolean,default:!0}},computed:{artifactData:function(){return this.$store.getters.getArtifact(this.artifact)},image:function(){return 1===this.type?this.$store.getters.getArtifactImage(this.artifactData._id):this.$store.getters.getArtifactIcon(this.artifactData._id)},placeholder:function(){return 0===this.type?"":F.cK+"item_arti/icon_art0000.png"},computedStyle(){return{width:"1em","vertical-align":"top",opacity:this.lazyload?0:1,transition:"opacity .4s ease"}}},render:function(){if(this.artifact)return(0,o.h)("div",{class:"hero-icon-comp noselect",style:{"font-size":this.size+"px"},onClick:e=>-1!=e.target.className.indexOf("remove")?this.$emit("remove",this.artifact,e):this.$emit("click",this.artifact,e),onContextmenu:e=>{e.preventDefault(),this.$emit("context",this.artifact,e)}},[(0,o.h)("div",{style:{position:"relative",width:"1em",height:0===this.type?"1em":"auto","text-align":"start","pointer-events":"none"}},[this.lazyload?(0,o.h)("img",{style:"height: 1em; vertical-align: top; position: absolute; transition: opacity .4s ease;",src:this.placeholder,"data-lazy-fader":!0,crossorigin:"anonymous",SameSite:"Lax"}):null,(0,o.wy)((0,o.h)("img",{key:this.image,[this.lazyload?"data-src":"src"]:this.image,crossorigin:"anonymous",SameSite:"Lax",style:this.computedStyle}),[[rt.Z]]),this.showrole?(0,o.h)("div",{class:"attribute-role",style:{"background-image":"url("+this.$store.getters.getRoleIcon(this.artifactData.role)+")"}}):null,this.showrarity?(0,o.h)("div",{class:"wrapper-hero-info rarity-"+this.artifactData.rarity,style:"top: 0; left: 0"}):null]),this["showname"]?(0,o.h)("div",{"pointer-events":"none",style:{width:this.size+(this.removable?.35*this.size:0)+"px"}},[(0,o.h)("p",{class:"label"},this.$store.getters.getArtifactName(this.artifactData._id))]):null])}};const lt=at;var ct=lt,dt=i(31930);const pt={class:"tierlist-compare-box",style:{"font-size":"1em",color:"var(--font-color-confirm)"},"data-html2canvas-ignore":""};function ht(e,t,i,s,r,a){return(0,o.wg)(),(0,o.iD)("div",pt,[a.oldPosition?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("span",{style:(0,n.j5)({display:a.array[0]?"":"none"}),class:(0,n.C_)({"compare-up-tier":a.array[0]>0,"compare-down-tier":a.array[0]<0})},(0,n.zw)(Math.abs(a.array[0])),7),(0,o._)("span",{style:(0,n.j5)({display:!a.array[1]||a.array[0]?"none":""}),class:(0,n.C_)([a.array[1]>0?"compare-left-tier":"compare-right-tier"])},(0,n.zw)(Math.abs(a.array[1])),7)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)("NEW")],64))])}var ut={name:"compare-items",props:["item","to","vertical","index"],computed:{oldPosition(){var e=this.to.tiers||[];for(var t in e){var i=e[t].list||[],o=i.indexOf(this.item);if(o>-1)return[o,t]}return!1},array(){if(this.oldPosition){let e=this.oldPosition[1]-this.vertical;return[e,0!==e?this.index:this.oldPosition[0]-this.index]}return!1}}};const mt=(0,ne.Z)(ut,[["render",ht]]);var gt=mt,ft={name:"tier-row",emits:["settings","rename","drop-item","move"],inject:["settings","tierItemsMask","elementType","getItemTooltip","itemContextMenu","skin","iconPadding","iconFullSize","compareTiers"],directives:{drag:dt.oh,drop:dt.Cw},components:{ArtifactIcon:ct,EmotableBox:re,TierListCompareBox:gt},props:{tier:{type:Object,required:!0},index:{type:Number,required:!0},color:{type:String}},watch:{},data(){return{}},computed:{isComponentType(){return"character"===this.elementType?"HeroIcon":"ArtifactIcon"}},methods:{openRowSettings(){document.activeElement.blur(),this.$emit("settings",this.tier)},updateTierName(e){this.$emit("rename",this.index,e)},handleDropEvent(e,t,i,o){this.$emit("drop-item",e,t,i,o)}}};i(18955);const wt=(0,ne.Z)(ft,[["render",st]]);var yt=wt;const vt={style:{"max-width":"470px",display:"inline-block"}},bt=["onClick"],xt={style:{"margin-top":"20px"}};function _t(e,t,i,s,r,a){const l=(0,o.up)("EmoteableDiv"),c=(0,o.up)("Modal"),d=(0,o.Q2)("ripple-effect");return(0,o.wg)(),(0,o.j4)(o.lR,{to:"body"},[(0,o.Wm)(c,{onClick:a.outOfBounds},{title:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("strings.tier_editor")),1)])),default:(0,o.w5)((()=>[(0,o._)("div",vt,[(0,o._)("h3",null,(0,n.zw)(e.$t("strings.label_bg_color"))+":",1),(0,o._)("span",{class:(0,n.C_)(["color-circle",{"selected-color":!r.localTier.color}]),style:{"background-color":"white"},onClick:t[0]||(t[0]=e=>r.localTier.color=null)},"A",2),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.colors,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e,class:(0,n.C_)(["color-circle",{"selected-color":e===r.localTier.color}]),style:(0,n.j5)({backgroundColor:e}),onClick:t=>r.localTier.color=e},null,14,bt)))),128)),(0,o._)("div",null,(0,n.zw)(e.$t("strings.selected"))+": "+(0,n.zw)(r.localTier.color||e.$t("strings.automatic")),1)]),(0,o._)("div",null,[(0,o._)("h3",null,(0,n.zw)(e.$t("strings.label_text"))+":",1),(0,o.Wm)(l,{value:r.localTier.name,icon:!0,onUpdate:t[1]||(t[1]=e=>r.localTier.name=e),style:{display:"inline-block",border:"solid 1px",width:"100%","max-width":"470px",height:"70px","font-size":"16px"}},null,8,["value"])]),(0,o._)("div",xt,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"flat-button material-button basic basic",onClick:t[2]||(t[2]=t=>e.$emit("newAbove",r.localTier))},[(0,o._)("span",null,(0,n.zw)(e.$t("strings.new_tier_above")),1)])),[[d]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"flat-button material-button basic basic",onClick:t[3]||(t[3]=t=>e.$emit("newBelow",r.localTier))},[(0,o._)("span",null,(0,n.zw)(e.$t("strings.new_tier_below")),1)])),[[d]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"flat-button material-button basic basic",onClick:t[4]||(t[4]=t=>e.$emit("clear",r.localTier))},[(0,o._)("span",null,(0,n.zw)(e.$t("strings.clear_tier")),1)])),[[d]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"flat-button material-button basic basic",onClick:t[5]||(t[5]=t=>e.$emit("move",r.localTier,-1))},[(0,o._)("span",null,(0,n.zw)(e.$t("strings.move_up")),1)])),[[d]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"flat-button material-button basic warn",onClick:t[6]||(t[6]=t=>e.$emit("delete",r.localTier))},[(0,o._)("span",null,(0,n.zw)(e.$t("strings.delete_tier")),1)])),[[d]]),(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"flat-button material-button basic basic",onClick:t[7]||(t[7]=t=>e.$emit("move",r.localTier,2))},[(0,o._)("span",null,(0,n.zw)(e.$t("strings.move_down")),1)])),[[d]])])])),_:1},8,["onClick"])])}var kt=i(58357);const Tt=["#ff5f5f","#fa6e6e","#fa9560","#fac552","#f4fa43","#b0fa35","#62fb26","#18fb26","#09fb6b","#03f3b7","#55d7f6","#48a7d1","#3d6aec","#5b31f0","#7640b7","#c44bc8","#ec7597","#f9b4c8","#fdedf2","#c4babd","#686566"];var Ct={name:"TierRowSettings",emits:["move","delete","clear","newAbove","newBelow","close"],components:{Modal:kt.Z,EmoteableDiv:re},props:{tier:{type:Object,required:!0}},created(){this.localTier=this.tier},data(){return{localTier:{},colors:Tt}},methods:{outOfBounds(e){e.currentTarget===e.target&&this.closeModal()},closeModal(){this.$emit("close")}}};i(50838);const St=(0,ne.Z)(Ct,[["render",_t]]);var Lt=St;function Mt(e,t,i){if(t<i&&i--,t!==i){t>=e.length&&(t=e.length-1),i>=e.length&&(i=e.length-1);while(t<0)t+=e.length;while(i<0)i+=e.length;if(i>=e.length){var o=i-e.length+1;while(o--)e.push(void 0)}e.splice(i,0,e.splice(t,1)[0])}}var zt={emits:["rename-tier-row","delete-tier-row","clear-tier-row","move-tier-row","newTier"],components:{TierRow:yt,RowSettings:Lt},inject:["settings"],props:{tiers:{type:Object,required:!0},itemList:{type:Array,required:!1,default(){return[]}},mask:{type:Object,required:!1,default(){return{}}}},watch:{},data(){return{labelColors:Tt,showRowModal:!1}},computed:{animation(){return 1===this.settings.tierRowControlsType?"list":""}},methods:{openRowSettingsModal(e){this.showRowModal=e},updateTierTitle(e,t){this.$emit("rename-tier-row",e,t)},deleteTier(e){this.$emit("delete-tier-row",this.tiers.indexOf(e)),this.showRowModal=!1},clearTier(e){this.$emit("clear-tier-row",this.tiers.indexOf(e))},addNewTierAbove(e){this.$emit("newTier",this.tiers.indexOf(e))},addNewTierBelow(e){this.$emit("newTier",this.tiers.indexOf(e)+1)},handleDropEvent(e){this.$emit("move-tier-row",e.detail.oldIndex,e.detail.index)},moveTierListRow(e,t){const i=this.tiers.indexOf(e);-1!==i&&(t=i+t,this.$emit("move-tier-row",i,t))},tierRowDropItem(e,t,i,o){if(i===t)Mt(i,i.indexOf(e),o);else{while(i.includes(e))i.splice(i.indexOf(e),1);t.splice(o,0,e)}}}};i(80168);const $t=(0,ne.Z)(zt,[["render",Qe],["__scopeId","data-v-3499319a"]]);var Dt=$t;const Nt={style:{position:"absolute",top:"10px",left:"0",width:"100%","z-index":"1","text-align":"center"},"data-html2canvas-ignore":""},It=["onDragclick"];function At(e,t,i,s,r,a){const l=(0,o.up)("EmoteableComponent"),c=(0,o.up)("RenameAxes"),d=(0,o.Q2)("ripple-effect"),p=(0,o.Q2)("drag"),h=(0,o.Q2)("tooltip");return(0,o.wg)(),(0,o.iD)("div",{id:"XYCanvas",ref:"XYCanvas",class:(0,n.C_)(["tier-graph-xy noselect",{grid:a.displayGrid}]),"data-drop-type":1,"data-drop":"tierlist-element",onDrop:t[3]||(t[3]=e=>a.handleItemDrop(e,i.list)),onDragenter:t[4]||(t[4]=e=>a.dragOverResize(e.detail.node,!0)),onDragleave:t[5]||(t[5]=e=>a.dragOverResize(e.detail.node,!1))},[r.isMounted?((0,o.wg)(),(0,o.j4)(o.lR,{key:0,to:e.$el.parentNode.parentNode},[(0,o._)("div",Nt,[(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"material-button flat primary",onClick:t[0]||(t[0]=(...e)=>a.toggleRenameAxesModal&&a.toggleRenameAxesModal(...e))},[(0,o._)("span",null,(0,n.zw)(e.$t("strings.rename_canvas_axes")),1)])),[[d]])])],8,["to"])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(["top: 40px; left: 50%; transform: translateX(-50%);","right: 10px; top: 50%;","bottom: 10px; left: 50%; transform: translateX(-50%);","top: 50%; left: 10px;"],((e,t)=>((0,o.wg)(),(0,o.iD)("div",{key:"cartesian-ax"+t,style:(0,n.j5)([e,"position: absolute; font-size: 72px; z-index: 1; pointer-events: none"])},[(0,o.Wm)(l,{value:i.axes[t],editable:!1},null,8,["value"])],4)))),128)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.list,((e,s)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",{key:e.id,style:(0,n.j5)({left:e.x+"%",top:e.y+"%"}),class:(0,n.C_)(["tier-item",{"filter-out":!a.tierItemsMask[e.id]}]),onDragstart:t[1]||(t[1]=e=>a.dragOverResize(e.detail.node,!0,!0)),onDragfail:t[2]||(t[2]=(...e)=>a.restoreElement&&a.restoreElement(...e)),onDragclick:t=>a.itemContextMenu(e.id,t)},[((0,o.wg)(),(0,o.j4)((0,o.LL)(a.isComponentType),{hero:e.id,artifact:e.id,skin:a.skin[e.id],type:a.settings.fullArtwork?1:0,hover:!1,showname:a.settings.showName,showrole:a.settings.showRole,showrarity:a.settings.showRarity,size:a.settings.iconSize,lazyload:!0,class:(0,n.C_)({"no-padding":!a.iconPadding}),onContext:a.itemContextMenu},null,40,["hero","artifact","skin","type","showname","showrole","showrarity","size","class","onContext"]))],46,It)),[[p,{drops:["tierlist-element"],index:s,item:e.id,list:i.list}],[h,()=>a.getItemTooltip(e.id)]]))),128)),r.renameAxesModal?((0,o.wg)(),(0,o.j4)(c,{key:1,names:i.axes,onClose:a.toggleRenameAxesModal},null,8,["names","onClose"])):(0,o.kq)("",!0)],34)}function Ot(e,t,i,s,r,a){const l=(0,o.up)("EmoteableComponent"),c=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(o.lR,{to:"body"},[(0,o.Wm)(c,{onClose:a.emitClose},{title:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("strings.rename_canvas_axes")),1)])),default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(["top: 60px; left: 50%; transform: translateX(-50%);","right: 10px; top: 50%;","bottom: 10px; left: 50%; transform: translateX(-50%);","top: 50%; left: 10px;"],((e,t)=>((0,o.wg)(),(0,o.j4)(l,{key:"cartesian-ax"+t,value:r.localNames[t],onUpdate:e=>a.updateNames(e,t),style:(0,n.j5)(["position: absolute; font-size: 18px; z-index: 1; width: 45%; min-height: 32px; border: solid thin;",e])},null,8,["value","onUpdate","style"])))),128))])),_:1},8,["onClose"])])}var Rt={name:"TierListXYRename",emits:["close"],components:{EmoteableComponent:re,Modal:kt.Z},props:{names:{type:Array}},data(){return{localNames:[]}},watch:{names:{immediate:!0,deep:!0,handler(){this.localNames=this.names}}},methods:{updateNames(e,t){console.log(e,t),this.localNames[t]=e},emitClose(){this.$emit("close",this.localNames)}}};const Et=(0,ne.Z)(Rt,[["render",Ot]]);var Kt,Zt=Et,jt={name:"XY-Graph",directives:{drag:dt.oh,drop:dt.Cw},components:{ArtifactIcon:ct,RenameAxes:Zt,EmoteableComponent:re},inject:["zoom","settings","tierItemsMask","elementType","getItemTooltip","itemContextMenu","skin","iconPadding"],props:{list:{type:Array,default(){return[]}},axes:{type:Array,default(){return[]}}},data(){return{isMounted:!1,isFirefox:navigator.userAgent.indexOf("Firefox")>-1,renameAxesModal:!1}},mounted(){this.isMounted=!0},beforeUnmount(){Kt=null},computed:{isComponentType(){return"character"===this.elementType?"HeroIcon":"ArtifactIcon"},displayGrid(){return!this.isFirefox||this.zoom>1.2}},watch:{zoom(){Kt&&this.dragOverResize(Kt,!0)}},methods:{toggleRenameAxesModal(){this.renameAxesModal=!this.renameAxesModal},handleItemDrop(e,t){var i=e.detail.clientX,o=e.detail.clientY;let n=this.$el.getBoundingClientRect();i=Math.min(100,Math.max(0,(-n.left+i)/n.width*100)),o=Math.min(100,Math.max(0,(-n.top+o)/n.height*100)),this.dragOverResize(e.detail.node,!1),e.detail.list===this.list?(e.detail.list[e.detail.oldIndex].x=i,e.detail.list[e.detail.oldIndex].y=o,Mt(e.detail.list,e.detail.oldIndex,e.detail.list.length),e.detail.node.style.top=o+"%",e.detail.node.style.left=i+"%"):(e.detail.list.splice(e.detail.oldIndex,1),t.push({id:e.detail.item,x:i,y:o}))},dragOverResize:function(e,t,i=!1){var o=e.getBoundingClientRect();e.style.transform=t?"scale("+this.zoom+")":"";var n=e.getBoundingClientRect();i||(e.style.left=o.left+o.width/2-n.width/2+"px",e.style.top=o.top+o.height/2-n.height/2+"px"),Kt=t?e:null},restoreElement:function(e){let t=e.detail.node;Kt=null,t.style.transform="",t.style.top=e.detail.list[e.detail.oldIndex].y+"%",t.style.left=e.detail.list[e.detail.oldIndex].x+"%"}}};i(36861);const Ft=(0,ne.Z)(jt,[["render",At]]);var Bt=Ft;const Pt=["onDragclick"];function qt(e,t,i,s,r,a){const l=(0,o.Q2)("drag"),c=(0,o.Q2)("tooltip"),p=(0,o.Q2)("drop");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:"tier-database noselect",onDrop:t[0]||(t[0]=e=>a.handleDropEvent(e.detail.item,i.list,e.detail.list,e.detail.index,e.detail))},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.list,((e,t)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("span",{key:"item-"+e,class:"tier-item",onDragclick:t=>a.itemContextMenu(e,t)},[((0,o.wg)(),(0,o.j4)((0,o.LL)(a.isComponentType),{hero:e,artifact:e,skin:a.skin[e],type:a.settings.fullArtwork?1:0,hover:!1,showname:a.settings.showName,showrole:a.settings.showRole,showrarity:a.settings.showRarity,size:a.settings.iconSize,lazyload:!0,class:(0,n.C_)({"no-padding":!a.iconPadding}),onContext:a.itemContextMenu},null,40,["hero","artifact","skin","type","showname","showrole","showrarity","size","class","onContext"]))],40,Pt)),[[d.F8,a.tierItemsMask[e]],[l,{drops:["tierlist-element"],index:t,item:e,list:i.list}],[c,()=>a.getItemTooltip(e)]]))),128))],32)),[[p,"tierlist-element"]])}var Ht={name:"TierListItemBox",components:{ArtifactIcon:ct},directives:{drag:dt.oh,drop:dt.Cw},inject:["settings","tierItemsMask","elementType","getItemTooltip","itemContextMenu","skin","iconPadding"],props:{list:{type:Array,required:!0},tierType:{type:Number,required:!0}},watch:{},computed:{isComponentType(){return"character"===this.elementType?"HeroIcon":"ArtifactIcon"}},methods:{handleDropEvent(e,t,i,o,n){if(i===t)Mt(i,i.indexOf(e),o);else if(0===this.tierType){while(i.includes(e))i.splice(i.indexOf(e),1);t.splice(o,0,e)}else i.splice(n.oldIndex,1),t.splice(o,0,e)}}};const Wt=(0,ne.Z)(Ht,[["render",qt]]);var Ut=Wt;const Yt=e=>((0,o.dD)("data-v-4ffbc8e4"),e=e(),(0,o.Cn)(),e),Jt={class:"tier-load-box",style:{position:"absolute","z-index":"100",left:"0",top:"0",height:"100%",width:"100%"}},Xt=Yt((()=>(0,o._)("span",{style:{"font-weight":"600"}},"Compare to",-1))),Gt={class:"hide-scrollbar"},Vt={key:0,class:"load-body"},Qt={key:1},ei=Yt((()=>(0,o._)("span",null,"No tier lists availabale",-1))),ti=[ei];function ii(e,t,i,s,r,a){const l=(0,o.up)("TierListCard"),c=(0,o.Q2)("ripple-effect");return(0,o.wg)(),(0,o.iD)("div",Jt,[(0,o._)("h1",null,[Xt,(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:"material-button stroked primary",onClick:t[0]||(t[0]=t=>e.$emit("close")),style:{float:"right","font-size":"0.6em",width:"220px"}},[(0,o.Uk)((0,n.zw)(e.$t("strings.cancel")),1)])),[[c]])]),(0,o._)("div",Gt,[a.numberOfTierLists?((0,o.wg)(),(0,o.iD)("div",Vt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.tierListHistory,(t=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(l,{key:t.id,tierlist:t,buttons:!1,onLoad:i=>{e.$emit("compare",t),e.$emit("close")}},null,8,["tierlist","onLoad"])),[[d.F8,t.type===i.type]]))),128))])):((0,o.wg)(),(0,o.iD)("div",Qt,ti))])])}var oi={name:"SelectCompareTierList",components:{TierListCard:ce},props:{type:{type:String,require:!0}},computed:{tierListHistory(){return this.$store.getters.getTierListDB()},numberOfTierLists(){return Object.values(this.tierListHistory).length}}};i(60276);const ni=(0,ne.Z)(oi,[["render",ii],["__scopeId","data-v-4ffbc8e4"]]);var si=ni,ri=i(8070),ai=i(69446);function li(e,t,i,s,r,a){const l=(0,o.up)("EmoteableComponent"),c=(0,o.up)("Modal");return(0,o.wg)(),(0,o.j4)(c,{onClose:a.emitClose},{title:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(e.$t("strings.edit_item_comment"))+" - "+(0,n.zw)(i.name),1)])),default:(0,o.w5)((()=>[(0,o.Wm)(l,{value:r.localComment,onUpdate:a.onUpdate,icon:!0,style:{border:"solid thin",height:"100%","text-align":"start",padding:"5px"}},null,8,["value","onUpdate"])])),_:1},8,["onClose"])}var ci={name:"TierListItemComment",components:{EmoteableComponent:re,Modal:kt.Z},props:{comment:{},name:{}},data(){return{localComment:this.comment}},methods:{emitClose(){this.$emit("close")},onUpdate(e){this.$emit("setcomment",e)}}};const di=(0,ne.Z)(ci,[["render",li]]);var pi=di,hi=i(60978),ui=i(76163);const mi=!1;function gi(e,t){var i=document.createElement("a");i.download=t+".png",i.href=e.toDataURL(),i.click()}function fi(e){e.$store.commit("loading",!0),e.$nextTick((()=>{i.e(734).then(i.t.bind(i,26812,23)).then((t=>{let i=800,o=Math.ceil(i/e.iconFullSize),n=100+o/2+e.iconFullSize*o;var s={allowTaint:!1,useCORS:!0,imageTimeout:0,backgroundColor:"#252B35",logging:!1,x:0,y:0,scrollX:0,scrollY:0,scale:1.2,onclone:async t=>{var i=[];if(t.querySelectorAll("img[data-src]").forEach((function(e){const t=e.getAttribute("data-src");e.setAttribute("src",t),e.removeAttribute("data-src"),i.push(new Promise(((t,i)=>{e.onload=i=>{(0,rt.F)(i),t(e)},e.onerror=()=>i(e)})))})),await Promise.all(i).catch((()=>{})),i=null,e.tierType){let i=t.querySelector("#XYCanvas"),n=e.iconFullSize+15;var o=i.parentNode;o.style.transform="scale(1)",o.style.padding=n/2+"px";var r=o.getBoundingClientRect();i.style.position="relative",i.style.backgroundColor="#252B35",i.style.border="solid thin",i.style.height=r.height+"px",i.style.width=r.width+"px",s.width=r.width+n,s.height=r.height+n}else{if(e.settings.exportTitlessImage){let e=t.querySelector(".tier-list-title");e&&(e.style.display="none")}let i=t.querySelector("#tiers");var a=i.querySelectorAll(".tier-list");a.forEach((e=>{e.style.paddingRight="0"})),i.style.width=n+"px"}},onrendered:()=>{}};t.default(document.getElementById(e.tierType?"AlignChart":"tiers"),s).then((t=>{if(mi)return gi(t,e.tierListName);try{e.$gallery([{src:t.toDataURL(),name:e.tierListName,description:"Click the download button or right click on the image to save your tier list!"}])}catch(i){gi(t,e.tierListName)}})).finally((()=>{e.$store.commit("loading",!1)}))}))}))}var wi={name:"TierList",components:{TierListTable:Dt,TierListItemBox:Ut,TierListXY:Bt,ItemComment:pi,CompareModal:si,FilterModal:ri.Z,EmotableBox:re,ScalableDIV:ai.Z},provide(){return{tierItemsMask:(0,o.Fl)((()=>this.tierItemsMask)),elementType:(0,o.Fl)((()=>this.elementType)),getItemName:this.getItemName,getItemComment:this.getItemComment,getItemTooltip:this.getItemTooltip,itemContextMenu:this.itemContextMenu,iconPadding:(0,o.Fl)((()=>this.iconPadding)),iconFullSize:(0,o.Fl)((()=>this.iconFullSize)),skin:(0,o.Fl)((()=>this.skin)),compareTiers:(0,o.Fl)((()=>this.compare))}},inject:["settings"],props:{tierlist:{type:Object,default:function(){return{}}},canSaveAsNew:{type:Boolean,default:!1}},watch:{tierlist:function(e,t){e.type&&e!==t&&(this.$store.commit("loading",!0),this.getDatabasePromise(e.type).then((t=>{this.database=t,this.updateTierListTitle(e.name),this.tierId=e.id,this.elementType=e.type,this.tierType=e.tier_type||0,this.tierListName=e.name||"",this.tiers=e.tiers||[],this.xy=e.xy||{},this.xy.names||(this.xy.names=[]),this.xy.list||(this.xy.list=[]),this.skin=e.skin||{},this.comments=e.comments||{},this.buildItemList(),this.$snackbar.log({title:H(e.name),description:"Tier list loaded"})})).catch((e=>{console.error(e),this.$snackbar.warn({title:"Error",description:"Tier list loading failed"})})).finally((()=>{this.$store.commit("loading",!1)})))},tierType:function(){this.buildItemList()},filterModel:{deep:!0,handler:function(){this.applyFilter()}},filterPlacedElements:function(){this.applyFilter()},sort:{deep:!0,handler:function(){this.sortList(this.charList,this.sort[0],!1)}}},data:function(){return{autosaveTimer:null,openCommentModal:!1,showCompareModal:!1,compare:!1,database:{},showFilterModal:!1,sort:["rarity",!1],filterModel:{name:"",hasSkins:!1,rarity:[],attribute:[],role:[],zodiac:[],sex:[]},filterPlacedElements:!1,tierItemsMask:{},tierType:0,elementType:"character",tierId:null,tierListName:"CeciliaBot Tier List Maker",charList:[],tiers:[],xy:{names:[],list:[]},comments:{},skin:{}}},beforeUnmount(){this.autosaveTimer&&(this.autosaveTimer.clearInterval(),this.autosaveTimer=null)},computed:{mobile(){return this.$store.getters.getIsMobile()},iconSize(){return this.settings.iconSize},fullArtwork(){return this.settings.fullArtwork},iconPadding(){return this.settings.showRole||this.settings.showName},iconFullSize:function(){return this.iconSize*(this.iconPadding?1.32:1)},desktopHeroBoxWidth:function(){for(var e=350,t=this.iconFullSize,i=1,o=1;o<10;o++){var n=o*t;if(n>=e){i=n<e+50?o:o-1||1;break}}return t*i},mobileMenuOptions(){var e=[{title:this.$t("strings.new_tier_list"),class:"fa fa-plus",click:"new"},{title:this.$t("strings.save"),class:"fa fa-save",click:"save"},{title:this.$t("strings.export_as",["JSON"]),class:"fas fa-code",click:"exportJSON"},{title:this.$t("strings.export_as",["PNG"]),class:"fas fa-download",click:"exportPNG"},{title:0===this.tierType?"Alignment chart":"Classic tierlist",class:"fas fa-border-all",click:"toggleTierType"},{title:this.$t("strings.settings"),class:"fa fa-cog",click:"settings"},{title:this.$t("strings.filter"),class:"fa fa-filter",click:"filters"}];return 0===this.tierType&&e.splice(5,0,this.compare?{title:this.$t("strings.stop_compare"),class:"fas fa-times",click:"stopCompare"}:{title:this.$t("strings.compare"),class:"fas fa-exchange-alt",click:"compare"}),this.canSaveAsNew&&e.splice(2,0,{title:this.$t("strings.save_as_new"),class:"fa fa-save",click:"saveAsNew"}),e}},methods:{updateTierListTitle(e){this.tierListName=e,document.title=e+" | "+this.$t("strings.app_tier_list_maker")},toggleTierListType(){this.tierType=0===this.tierType?1:0},buildItemList(){this.charList=Object.keys(this.database);var e=this.charList.indexOf("dark-tyrant-tenebria");if(e&&this.charList.splice(e,1),this.tierType)for(var t in this.xy.list){var i=this.charList.indexOf(this.xy.list[t].id);-1!==i&&this.charList.splice(i,1)}else this.tiers.forEach((e=>{e.list.forEach((e=>{var t=this.charList.indexOf(e);-1!==t&&this.charList.splice(t,1)}))}));this.applyFilter(),this.sortList(this.charList,this.sort[0],!1)},getDatabasePromise:function(e){switch(e){case"artifact":return this.$store.dispatch("GET_ARTIFACT_DB");case"character":default:return new Promise(((e,t)=>{Promise.all([this.$store.dispatch("GET_HERO_DB"),fetch("./data/HeroSkins.json").then((e=>e.json())).catch((()=>({})))]).then((async t=>{let i=t[0],o=t[1];for(var n in o)i[n]&&!i[n].skin&&(i[n].skin=o[n]);e(i)})).catch((e=>{t(e)}))}))}},getItem:function(e){return this.database[e]||{id:e,_id:e}},getItemName:function(e){switch(this.elementType){case"character":return this.$store.getters.getHeroName(e);case"artifact":return this.$store.getters.getArtifactName(e);default:return e}},getItemComment:function(e){return this.comments[e]},addNewTierRow(e){pe(this.tiers,e)},tierListToObject(){return{id:0,tier_type:this.tierType,type:this.elementType,name:this.tierListName,tiers:this.tiers,xy:this.xy||{},skin:this.skin,comments:this.comments}},autosave(){localStorage.setItem("TierListAutosave",JSON.stringify(this.tierListToObject()))},saveTierList(){this.$emit("save",this.tierListToObject())},saveNewTierList(){this.$emit("saveAsNew",this.tierListToObject())},exportAsJSON(){this.$emit("exportAsJSON",this.tierListToObject())},exportAsPNG(){fi(this)},openFilterModal:function(e){this.showFilterModal=!0,this.mobile||this.$nextTick((()=>{(0,Z.oo)(e.currentTarget,this.$refs["filter-modal"].$el.firstChild,{strategy:"fixed",placement:"bottom-end",middleware:[(0,j.cv)(5),(0,j.uY)(),(0,j.RR)()]}).then((({x:e,y:t})=>{console.log(e,t),this.$refs["filter-modal"].$.props.xy={top:t+"px",left:e+"px"}}))}))},closeFilterModal:function(){this.showFilterModal=!1},applyFilter:function(){for(const e in this.database){let t=!this.charList.includes(e);this.tierItemsMask[e]=!(!t||this.filterPlacedElements)||this.applyFilterItem(this.filterModel,e)}},typingSearchQuery:(0,ui.Ds)((function(e){this.filterModel.name=e.target.value}),300),applyFilterItem:function(e,t){for(const o in e)if("name"!==o)if("hasSkins"===o&&e[o]){if(!this.getItem(t).skin)return!1}else{var i=e[o];if(i.length&&!i.includes(this.getItem(t)[o]))return!1}else if(-1===this.getItemName(t).toLowerCase().indexOf(e[o].toLowerCase()))return!1;return!0},sortList:function(e,t,i=!1){const o=!i&&this.sort[1];return(0,hi.Z)(e,t,o,this.getItem)},getItemTooltip(e){return'<p style="text-align: center">'+this.getItemName(e)+"</p>"+H(this.getItemComment(e)||"")},updateItemComment(e){this.comments[this.openCommentModal]=e},itemContextMenu(e,t){var i=this.getItem(e),o=[{name:this.$t("strings.edit_item_comment"),class:"fas fa-edit",handler:()=>{this.openCommentModal=e}}];if("character"===this.elementType)o.push({name:this.$t("strings.view_model"),class:"fas fa-link",handler:()=>window.open("https://www.e7vau.lt/portrait-viewer.html?id="+(this.skin[e]||i.id),"_blank").focus()});else{const t=this.getItemName(e);o.push({name:"View artwork",class:"fas fa-image",handler:()=>this.$gallery([{description:t,src:this.$store.getters.getArtifactImage(e)},{description:"Icon: "+t,src:this.$store.getters.getArtifactIcon(e)}])})}if(i.skin){const t=e=>F.cK+"face/"+e+"_s.png";o.push({name:this.$t("strings.skin"),class:"fas fa-theater-masks",children:[{name:this.$t("strings.default"),img:t(i.id),handler:()=>delete this.skin[e]}].concat(i.skin.map((i=>({name:i.name,img:t(i.id),handler:()=>this.skin[e]=i.id}))))})}this.$contextmenu(t,o,{mobile:this.mobile})},renameTierRow(e,t){this.tiers[e].name=t},moveTierRow(e,t){t<0||Mt(this.tiers,e,t)},clearTierRow(e){this.tiers[e].list.forEach((e=>{this.charList.push(e)})),this.tiers[e].list=[]},deleteTierRow(e){this.tiers[e].list.forEach((e=>{this.charList.push(e)})),this.tiers.splice(e,1)}}};i(68759);const yi=(0,ne.Z)(wi,[["render",Ve]]);var vi=yi;const bi={class:"glass-container-2 hide-scrollbar",style:{margin:"auto","max-height":"85%",width:"450px","max-width":"90%",padding:"20px",overflow:"scroll","border-radius":"8px"}},xi={style:{display:"flex","align-items":"center",margin:"10px 0","border-radius":"8px",border:"solid grey",padding:"10px"}},_i={class:"check",style:{"font-size":"16px"}},ki=["checked","onChange"],Ti=(0,o._)("span",{class:"checkmark"},null,-1),Ci=["value"],Si={style:{display:"inline-block",width:"160px","text-align":"center",float:"right"}},Li={style:{margin:"10px 0","border-radius":"8px",border:"solid grey",padding:"10px"}},Mi={style:{"text-align":"center",display:"flex","align-items":"center","justify-content":"space-between"}},zi={class:"switch"},$i=["checked"],Di=(0,o._)("i",{class:"slider round"},null,-1),Ni=(0,o._)("br",null,null,-1),Ii={style:{height:"115px"}},Ai=(0,o._)("div",{class:"tier-name",style:{"background-color'":"rgb(180,58,58)"}},"Preview",-1),Oi={class:"tier-list noselect",style:{"min-height":"50px"}},Ri={key:0,class:"drag-tier-container"},Ei=(0,o._)("i",{class:"fas fa-grip-lines"},null,-1),Ki=[Ei],Zi={key:1,class:"tiermaker-control-box"},ji=(0,o._)("i",{class:"fas fa-chevron-up"},null,-1),Fi=(0,o._)("i",{class:"fas fa-cog"},null,-1),Bi=(0,o._)("i",{class:"fas fa-chevron-down"},null,-1),Pi=[ji,Fi,Bi],qi={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Hi={class:"switch"},Wi=["checked"],Ui=(0,o._)("i",{class:"slider round"},null,-1),Yi={style:{margin:"2px 0","border-radius":"8px",border:"solid grey",padding:"10px"}},Ji={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Xi={class:"switch"},Gi=["checked"],Vi=(0,o._)("i",{class:"slider round"},null,-1),Qi={style:{display:"flex","align-items":"center","justify-content":"space-between",margin:"2px 0"}},eo={class:"switch"},to=["checked"],io=(0,o._)("i",{class:"slider round"},null,-1);function oo(e,t,i,s,r,a){const l=(0,o.up)("HeroIcon");return(0,o.wg)(),(0,o.iD)("div",{class:"center-modal",onClick:t[5]||(t[5]=(...e)=>a.externalClick&&a.externalClick(...e))},[(0,o._)("div",bi,[(0,o._)("div",xi,[(0,o._)("div",null,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)([["showName","show_name"],["showRarity","show_rarity"],["showRole","show_role_attr"],["fullArtwork","use_full_art"]],(t=>(0,o._)("div",{key:t[0]},[(0,o._)("label",_i,[(0,o._)("input",{type:"checkbox",checked:a.settings[t[0]],onChange:e=>a.setLocalSettings(t[0],e.target.checked)},null,40,ki),Ti,(0,o.Uk)(" "+(0,n.zw)(e.$t("strings."+t[1])),1)])]))),64)),(0,o.Uk)(" "+(0,n.zw)(e.$t("strings.size"))+": ",1),(0,o._)("input",{type:"range",min:"40",max:"120",step:"5",value:e.localSettings.iconSize,onChange:t[0]||(t[0]=e=>a.setLocalSettings("iconSize",Number(e.target.value)))},null,40,Ci),(0,o.Uk)((0,n.zw)(e.localSettings["iconSize"]),1)]),(0,o._)("div",Si,[(0,o.Wm)(l,{hero:"alencia",type:e.localSettings.fullArtwork?1:0,hover:!1,showname:e.localSettings.showName,showrole:e.localSettings.showRole,showrarity:e.localSettings.showRarity,size:e.localSettings.iconSize,lazyload:!0},null,8,["type","showname","showrole","showrarity","size"])])]),(0,o._)("div",Li,[(0,o._)("div",Mi,[(0,o._)("span",null,(0,n.zw)(e.$t("strings.compact_tier_name")),1),(0,o._)("label",zi,[(0,o._)("input",{type:"checkbox",checked:1===e.localSettings.rowLabelLayout,onChange:t[1]||(t[1]=t=>a.setLocalSettings("rowLabelLayout",e.localSettings.rowLabelLayout?0:1))},null,40,$i),Di])]),Ni,(0,o._)("div",Ii,[(0,o._)("div",{class:(0,n.C_)(["tier-wrapper",{type1:e.localSettings.rowLabelLayout,type2:!e.localSettings.rowLabelLayout}])},[Ai,(0,o._)("div",Oi,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(["white","yellow","blue","red"],(e=>(0,o._)("div",{key:"preview-item"+e,style:(0,n.j5)(["display: inline-block;border-radius: 50px;height: 30px;width: 30px;",{backgroundColor:e}])},null,4))),64)),e.localSettings.tierRowControlsType?((0,o.wg)(),(0,o.iD)("div",Zi,Pi)):((0,o.wg)(),(0,o.iD)("div",Ri,Ki))])],2)]),(0,o._)("div",qi,[(0,o._)("span",null,(0,n.zw)(e.$t("strings.simplified_tier_ctrl")),1),(0,o._)("label",Hi,[(0,o._)("input",{type:"checkbox",checked:1===e.localSettings.tierRowControlsType,onChange:t[2]||(t[2]=t=>a.setLocalSettings("tierRowControlsType",e.localSettings.tierRowControlsType?0:1))},null,40,Wi),Ui])])]),(0,o._)("div",Yi,[(0,o._)("div",Ji,[(0,o._)("span",null,(0,n.zw)(e.$t("strings.tier_list_vertical_layout")),1),(0,o._)("label",Xi,[(0,o._)("input",{type:"checkbox",checked:1===e.localSettings.tierListMakerView,onChange:t[3]||(t[3]=t=>a.setLocalSettings("tierListMakerView",e.localSettings.tierListMakerView?0:1))},null,40,Gi),Vi])]),(0,o._)("div",Qi,[(0,o._)("span",null,(0,n.zw)(e.$t("strings.export_png_without_title")),1),(0,o._)("label",eo,[(0,o._)("input",{type:"checkbox",checked:e.localSettings.exportTitlessImage,onChange:t[4]||(t[4]=t=>a.setLocalSettings("exportTitlessImage",!e.localSettings.exportTitlessImage))},null,40,to),io])])])])])}var no={name:"tier-list-settings",inject:["settings","setSettings"],data:function(){return{localSettings:{}}},watch:{},created:function(){this.localSettings=JSON.parse(JSON.stringify(this.settings))},methods:{setLocalSettings(e,t){this.localSettings[e]=t},externalClick(e){e.currentTarget===e.target&&this.closeAndSave()},closeAndSave(){for(const e in this.localSettings)this.setSettings(e,this.localSettings[e]);this.$emit("close")}}};i(85967);const so=(0,ne.Z)(no,[["render",oo]]);var ro=so;i(60285),i(41637);function ao(e,t){const i=document.createElement("a");i.href=URL.createObjectURL(new Blob([JSON.stringify(t,null,2)],{type:"text/plain"})),i.setAttribute("download",e+".json"),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i)}var lo={name:"tier-list-maker",components:{NewTierList:ye,TierList:vi,TierListSettings:ro},provide:function(){return{settings:(0,o.Fl)((()=>this.settings)),setSettings:(e,t)=>this.settings[e]=t}},data:function(){return{VERSION:1.5,current:{},showNewComponent:!0,hasSomethingInWorkspace:!1,canSaveAsNew:!1,showSettingsModal:!1,settings:{tierListMakerView:0,backgroundImage:0,rowLabelLayout:0,tierRowControlsType:this.$store.state.isMobile?1:0,exportTitlessImage:!1,iconSize:75,showName:!1,showRole:!1,showRarity:!1,fullArtwork:!1}}},renderTriggered(e){console.log("Index",e)},computed:{tierListHistory(){return this.$store.getters.getTierListDB()}},methods:{setAsWorkspaceTierList(e){this.current=JSON.parse(JSON.stringify(e))},openNewTierListMenu(){this.showNewComponent=!0},closeNewTierListMenu(){this.showNewComponent=!1},openTierListSettings(){this.showSettingsModal=!0},closeTierListSettings(){this.showSettingsModal=!1},loadTierListEvent(e){this.hasSomethingInWorkspace?this.$promiseAlert(this.$t("strings.warning"),this.$t("strings.l_while_tier_list_open",["<b>"+this.$t("strings.cancel")+"</b>"]),[this.$t("strings.confirm"),this.$t("strings.cancel")]).then((([t])=>{0===t?this.loadTierList(e):this.closeNewTierListMenu()})):this.loadTierList(e)},loadTierList(e){this.showNewComponent=!1,e.id?this.canSaveAsNew=!0:this.canSaveAsNew=!1,this.setAsWorkspaceTierList(e),this.hasSomethingInWorkspace=!0},saveTierList(e){let t=(new Date).getTime();e.id=this.current.id||t,e.created_at=this.current.created_at||null,e.updated_at=t,e.version=this.VERSION,this.$store.dispatch("SAVE_TIER_LIST",JSON.parse(JSON.stringify(e))).then((()=>{this.canSaveAsNew=!0,this.$snackbar.log({title:"Saved successfully!"})})).catch((e=>{this.$snackbar.error({title:"Save failed",description:e})}))},saveNewTierList(e){let t=(new Date).getTime();e.id=t,e.created_at=t,e.updated_at=t,e.version=this.VERSION,this.$store.dispatch("SAVE_TIER_LIST",JSON.parse(JSON.stringify(e))).then((()=>{this.$snackbar.log({title:"Saved successfully!"})})).catch((e=>{this.$snackbar.error({title:"Save failed",description:e})}))},exportAsJSON(e){let t=(new Date).getTime();e.id=this.current.id||t,e.created_at=this.current.created_at||null,e.updated_at=t,e.version=this.VERSION,ao(e.name||"TierList",e)}},beforeCreate(){window.onbeforeunload=function(){return!0}},beforeUnmount(){window.onbeforeunload=null},beforeRouteLeave:async function(){if(!this.hasSomethingInWorkspace)return!0;let e=await this.$promiseAlert(this.$t("strings.warning"),this.$t("strings.l_while_tier_list_open",["<b>"+this.$t("strings.cancel")+"</b>"]),[this.$t("strings.confirm"),this.$t("strings.cancel")]);return(!Array.isArray(e)||1!==e[0])&&void 0}};i(61780);const co=(0,ne.Z)(lo,[["render",c]]);var po=co},52810:function(e,t,i){"use strict";i.d(t,{Z:function(){return o.Z}});var o=i(9358)},61497:function(e,t,i){"use strict";i.d(t,{Z:function(){return o.Z}});var o=i(22822)},77525:function(e,t,i){"use strict";i.d(t,{s:function(){return o.s}});var o=i(30392)},14176:function(e,t,i){"use strict";i(96802)},81432:function(e,t,i){var o=i(41507);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("771c0a56",o,!0,{sourceMap:!1,shadowMode:!1})},96802:function(e,t,i){var o=i(4152);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("32105daa",o,!0,{sourceMap:!1,shadowMode:!1})},38439:function(e,t,i){var o=i(70625);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("210e8e7d",o,!0,{sourceMap:!1,shadowMode:!1})},68759:function(e,t,i){var o=i(45890);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("370fcc5d",o,!0,{sourceMap:!1,shadowMode:!1})},67089:function(e,t,i){var o=i(44818);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("01f31b1a",o,!0,{sourceMap:!1,shadowMode:!1})},60276:function(e,t,i){var o=i(9190);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("5d2704b8",o,!0,{sourceMap:!1,shadowMode:!1})},19041:function(e,t,i){var o=i(78920);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("6e4c5ed4",o,!0,{sourceMap:!1,shadowMode:!1})},50838:function(e,t,i){var o=i(86894);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("68ec08d2",o,!0,{sourceMap:!1,shadowMode:!1})},85967:function(e,t,i){var o=i(3829);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("21848b17",o,!0,{sourceMap:!1,shadowMode:!1})},80168:function(e,t,i){var o=i(82461);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("507b549a",o,!0,{sourceMap:!1,shadowMode:!1})},18955:function(e,t,i){var o=i(95842);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("795997af",o,!0,{sourceMap:!1,shadowMode:!1})},36861:function(e,t,i){var o=i(84177);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("b501eb40",o,!0,{sourceMap:!1,shadowMode:!1})},61780:function(e,t,i){var o=i(38067);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var n=i(54402).Z;n("5389a340",o,!0,{sourceMap:!1,shadowMode:!1})}}]);